var Dr=Object.defineProperty;var Wn=Object.getOwnPropertyDescriptor;var Hn=Object.getOwnPropertyNames;var Gn=Object.prototype.hasOwnProperty;var Kn=(oe,ne)=>()=>(oe&&(ne=oe(oe=0)),ne);var Nt=(oe,ne,je,ye)=>{if(ne&&typeof ne=="object"||typeof ne=="function")for(let me of Hn(ne))!Gn.call(oe,me)&&me!==je&&Dr(oe,me,{get:()=>ne[me],enumerable:!(ye=Wn(ne,me))||ye.enumerable});return oe},Ut=(oe,ne,je)=>(Nt(oe,ne,"default"),je&&Nt(je,ne,"default"));var zn=oe=>Nt(Dr({},"__esModule",{value:!0}),oe);var Xe={};import*as ai from"async_hooks";var Nr=Kn(()=>{Ut(Xe,ai)});import{__getNamedExports as Vn}from"../../../__next-on-pages-dist__/webpack/ac7e0cd817c0f96ac6506045b651299a.js";import{__getNamedExports as Yn}from"../../../__next-on-pages-dist__/webpack/fc1dd92f63cefab5577162dd844679df.js";import{__getNamedExports as Zn}from"../../../__next-on-pages-dist__/manifest/537259e2ed205f5a7994cb4f05664668.js";var xe=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/test-edge"),V=Vn(xe,xe,xe),Jn=V.__chunk_6195,Xn=V.__chunk_2067,es=V.__chunk_9182,ts=V.__chunk_8983,rs=V.__chunk_5228,ns=V.__chunk_2296,ss=V.__chunk_2594,is=V.__chunk_6735,os=V.__chunk_8219,as=V.__chunk_5577,us=V.__chunk_9254,cs=V.__chunk_9206,hs=V.__chunk_989,ls=V.__chunk_1863,fs=V.__chunk_3039,ps=V.__chunk_335,ds=V.__chunk_8042,gs=V.__chunk_7765,ys=V.__chunk_6991,ms=V.__chunk_8816,_s=V.__chunk_6631,bs=V.__chunk_4828,ws=V.__chunk_4834,vs=V.__chunk_828,Es=V.__chunk_5927,Ss=V.__chunk_8439,As=V.__chunk_4363,xs=V.__chunk_2039,Cs=V.__chunk_8264,ks=V.__chunk_1583,Ps=V.__chunk_7908,Is=V.__chunk_8949,Rs=V.__chunk_796,Ls=V.__chunk_1651,Ts=V.__chunk_5105,Ms=V.__chunk_9642,Os=V.__chunk_5028,Bs=V.__chunk_9548,Ds=V.__chunk_6914,Ns=V.__chunk_7960,Us=V.__chunk_4337,Fs=V.__chunk_8819,fe=Yn(xe,xe,xe),Qs=fe.__chunk_1730,qs=fe.__chunk_3818,js=fe.__chunk_7037,$s=fe.__chunk_9573,Ws=fe.__chunk_7701,Hs=fe.__chunk_662,Gs=fe.__chunk_4101,Ks=fe.__chunk_6776,zs=fe.__chunk_3665,Vs=fe.__chunk_7444,Ys=fe.__chunk_4591,Zs=fe.__chunk_7983,Js=fe.__chunk_581,Xs=fe.__chunk_2561,ei=fe.__chunk_2988,ti=fe.__chunk_6947,ri=fe.__chunk_5996,ni=fe.__chunk_676,Ur=Zn(xe,xe,xe),si=Ur.__NEXT_FONT_MANIFEST,ii=Ur.__REACT_LOADABLE_MANIFEST,li=((oe,ne,je)=>(ne._ENTRIES={},oe.__BUILD_MANIFEST={polyfillFiles:["static/chunks/polyfills-42372ed130431b0a.js"],devFiles:[],ampDevFiles:[],lowPriorityFiles:[],rootMainFiles:["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/fd9d1056-30de07f4a3c346ee.js","static/chunks/7466-8fdf295a7c02cf2e.js","static/chunks/main-app-8eaf6dc4ad0df15d.js"],pages:{"/_app":["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/framework-8e0e0f4a6b83a956.js","static/chunks/main-17007a384daea84e.js","static/chunks/pages/_app-3c9ca398d360b709.js"],"/_error":["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/framework-8e0e0f4a6b83a956.js","static/chunks/main-17007a384daea84e.js","static/chunks/pages/_error-cf5ca766ac8f493f.js"]},ampFirstPages:[]},oe.__BUILD_MANIFEST.lowPriorityFiles=["/static/5vAXtrh2qjJDoCjPjRb93/_buildManifest.js",,"/static/5vAXtrh2qjJDoCjPjRb93/_ssgManifest.js"],oe.__REACT_LOADABLE_MANIFEST=ii,oe.__NEXT_FONT_MANIFEST=si,oe.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",(()=>{"use strict";var ye={},me={};function Z(W){var re=me[W];if(re!==void 0)return re.exports;var K=me[W]={exports:{}},ae=!0;try{ye[W].call(K.exports,K,K.exports,Z),ae=!1}finally{ae&&delete me[W]}return K.exports}Z.m=ye,Z.amdO={},(()=>{var W=[];Z.O=(re,K,ae,ce)=>{if(K){ce=ce||0;for(var se=W.length;se>0&&W[se-1][2]>ce;se--)W[se]=W[se-1];W[se]=[K,ae,ce];return}for(var F=1/0,se=0;se<W.length;se++){for(var[K,ae,ce]=W[se],j=!0,Ee=0;Ee<K.length;Ee++)F>=ce&&Object.keys(Z.O).every(Fe=>Z.O[Fe](K[Ee]))?K.splice(Ee--,1):(j=!1,ce<F&&(F=ce));if(j){W.splice(se--,1);var Le=ae();Le!==void 0&&(re=Le)}}return re}})(),Z.n=W=>{var re=W&&W.__esModule?()=>W.default:()=>W;return Z.d(re,{a:re}),re},(()=>{var W,re=Object.getPrototypeOf?K=>Object.getPrototypeOf(K):K=>K.__proto__;Z.t=function(K,ae){if(1&ae&&(K=this(K)),8&ae||typeof K=="object"&&K&&(4&ae&&K.__esModule||16&ae&&typeof K.then=="function"))return K;var ce=Object.create(null);Z.r(ce);var se={};W=W||[null,re({}),re([]),re(re)];for(var F=2&ae&&K;typeof F=="object"&&!~W.indexOf(F);F=re(F))Object.getOwnPropertyNames(F).forEach(j=>se[j]=()=>K[j]);return se.default=()=>K,Z.d(ce,se),ce}})(),Z.d=(W,re)=>{for(var K in re)Z.o(re,K)&&!Z.o(W,K)&&Object.defineProperty(W,K,{enumerable:!0,get:re[K]})},Z.e=()=>Promise.resolve(),Z.g=function(){if(typeof ne=="object")return ne;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),Z.o=(W,re)=>Object.prototype.hasOwnProperty.call(W,re),Z.r=W=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(W,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(W,"__esModule",{value:!0})},(()=>{var W={5993:0};Z.O.j=ae=>W[ae]===0;var re=(ae,ce)=>{var se,F,[j,Ee,Le]=ce,Be=0;if(j.some(We=>W[We]!==0)){for(se in Ee)Z.o(Ee,se)&&(Z.m[se]=Ee[se]);if(Le)var $e=Le(Z)}for(ae&&ae(ce);Be<j.length;Be++)F=j[Be],Z.o(W,F)&&W[F]&&W[F][0](),W[F]=0;return Z.O($e)},K=oe.webpackChunk_N_E=oe.webpackChunk_N_E||[];K.forEach(re.bind(null,0)),K.push=re.bind(null,K.push.bind(K))})()})(),(oe.webpackChunk_N_E=oe.webpackChunk_N_E||[]).push([[2720],{8819:Fs,4337:Us,7960:Ns,6914:Ds,9548:Bs,5028:Os,9642:Ms,5105:Ts,1651:Ls,796:Rs,8949:Is,7908:Ps,1583:ks,8264:Cs,2039:xs,4363:As,8439:Ss,5927:Es,828:vs,4834:ws,4828:bs,6631:_s,8816:ms,6991:ys,7765:gs,8042:ds,335:ps,3039:fs,1863:ls,989:hs,9206:cs,9254:us,5577:as,8219:os,6735:is,2594:ss,2296:ns,5228:rs,8983:ts,9182:es}]),(oe.webpackChunk_N_E=oe.webpackChunk_N_E||[]).push([[7883],{676:ni,5996:ri,6947:ti,2988:ei,2561:Xs,581:Js,7983:Zs,4591:Ys,7444:Vs,3665:zs,6776:Ks,4101:Gs,662:Hs,7701:Ws,9573:$s,7037:js,3818:qs,1730:Qs}]),(oe.webpackChunk_N_E=oe.webpackChunk_N_E||[]).push([[4139],{2067:Xn,6195:Jn,3003:(ye,me,Z)=>{"use strict";Z.r(me),Z.d(me,{ComponentMod:()=>Qn,default:()=>qn});var W,re,K={};Z.r(K),Z.d(K,{GET:()=>Bn,POST:()=>Dn,runtime:()=>On});var ae={};Z.r(ae),Z.d(ae,{originalPathname:()=>Un,patchFetch:()=>Fn,requestAsyncStorage:()=>Nn,routeModule:()=>Rt,serverHooks:()=>Rr,staticGenerationAsyncStorage:()=>Ir});var ce,se,F,j,Ee=Z(7983),Le=Z(2561),Be=Z(4828),$e=Z(6631),We=Object.create,Re=Object.defineProperty,Fe=Object.getOwnPropertyDescriptor,lt=Object.getOwnPropertyNames,ft=Object.getPrototypeOf,pt=Object.prototype.hasOwnProperty,dt=(m,i,u)=>i in m?Re(m,i,{enumerable:!0,configurable:!0,writable:!0,value:u}):m[i]=u,h=(m,i)=>Re(m,"name",{value:i,configurable:!0}),ge=(m,i)=>()=>(m&&(i=m(m=0)),i),G=(m,i)=>()=>(i||m((i={exports:{}}).exports,i),i.exports),ve=(m,i)=>{for(var u in i)Re(m,u,{get:i[u],enumerable:!0})},Ce=(m,i,u,a)=>{if(i&&typeof i=="object"||typeof i=="function")for(let o of lt(i))pt.call(m,o)||o===u||Re(m,o,{get:()=>i[o],enumerable:!(a=Fe(i,o))||a.enumerable});return m},O=(m,i,u)=>(u=m!=null?We(ft(m)):{},Ce(!i&&m&&m.__esModule?u:Re(u,"default",{value:m,enumerable:!0}),m)),z=m=>Ce(Re({},"__esModule",{value:!0}),m),M=(m,i,u)=>dt(m,typeof i!="symbol"?i+"":i,u),J=G(m=>{U(),m.byteLength=y,m.toByteArray=d,m.fromByteArray=w;var i,u,a=[],o=[],r="u">typeof Uint8Array?Uint8Array:Array,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(i=0,u=t.length;i<u;++i)a[i]=t[i],o[t.charCodeAt(i)]=i;function l(p){var f=p.length;if(f%4>0)throw Error("Invalid string. Length must be a multiple of 4");var _=p.indexOf("=");_===-1&&(_=f);var A=_===f?0:4-_%4;return[_,A]}function y(p){var f=l(p),_=f[0],A=f[1];return(_+A)*3/4-A}function b(p,f,_){return(f+_)*3/4-_}function d(p){var f,_,A=l(p),C=A[0],v=A[1],T=new r(b(p,C,v)),Q=0,k=v>0?C-4:C;for(_=0;_<k;_+=4)f=o[p.charCodeAt(_)]<<18|o[p.charCodeAt(_+1)]<<12|o[p.charCodeAt(_+2)]<<6|o[p.charCodeAt(_+3)],T[Q++]=f>>16&255,T[Q++]=f>>8&255,T[Q++]=255&f;return v===2&&(f=o[p.charCodeAt(_)]<<2|o[p.charCodeAt(_+1)]>>4,T[Q++]=255&f),v===1&&(f=o[p.charCodeAt(_)]<<10|o[p.charCodeAt(_+1)]<<4|o[p.charCodeAt(_+2)]>>2,T[Q++]=f>>8&255,T[Q++]=255&f),T}function g(p){return a[p>>18&63]+a[p>>12&63]+a[p>>6&63]+a[63&p]}function s(p,f,_){for(var A=[],C=f;C<_;C+=3)A.push(g((p[C]<<16&16711680)+(p[C+1]<<8&65280)+(255&p[C+2])));return A.join("")}function w(p){for(var f,_=p.length,A=_%3,C=[],v=0,T=_-A;v<T;v+=16383)C.push(s(p,v,v+16383>T?T:v+16383));return A===1?C.push(a[(f=p[_-1])>>2]+a[f<<4&63]+"=="):A===2&&C.push(a[(f=(p[_-2]<<8)+p[_-1])>>10]+a[f>>4&63]+a[f<<2&63]+"="),C.join("")}o[45]=62,o[95]=63,h(l,"getLens"),h(y,"byteLength"),h(b,"_byteLength"),h(d,"toByteArray"),h(g,"tripletToBase64"),h(s,"encodeChunk"),h(w,"fromByteArray")}),ke=G(m=>{U(),m.read=function(i,u,a,o,r){var t,l,y=8*r-o-1,b=(1<<y)-1,d=b>>1,g=-7,s=a?r-1:0,w=a?-1:1,p=i[u+s];for(s+=w,t=p&(1<<-g)-1,p>>=-g,g+=y;g>0;t=256*t+i[u+s],s+=w,g-=8);for(l=t&(1<<-g)-1,t>>=-g,g+=o;g>0;l=256*l+i[u+s],s+=w,g-=8);if(t===0)t=1-d;else{if(t===b)return l?NaN:1/0*(p?-1:1);l+=Math.pow(2,o),t-=d}return(p?-1:1)*l*Math.pow(2,t-o)},m.write=function(i,u,a,o,r,t){var l,y,b,d=8*t-r-1,g=(1<<d)-1,s=g>>1,w=r===23?5960464477539062e-23:0,p=o?0:t-1,f=o?1:-1,_=u<0||u===0&&1/u<0?1:0;for(isNaN(u=Math.abs(u))||u===1/0?(y=isNaN(u)?1:0,l=g):(l=Math.floor(Math.log(u)/Math.LN2),u*(b=Math.pow(2,-l))<1&&(l--,b*=2),l+s>=1?u+=w/b:u+=w*Math.pow(2,1-s),u*b>=2&&(l++,b/=2),l+s>=g?(y=0,l=g):l+s>=1?(y=(u*b-1)*Math.pow(2,r),l+=s):(y=u*Math.pow(2,s-1)*Math.pow(2,r),l=0));r>=8;i[a+p]=255&y,p+=f,y/=256,r-=8);for(l=l<<r|y,d+=r;d>0;i[a+p]=255&l,p+=f,l/=256,d-=8);i[a+p-f]|=128*_}}),_e=G(m=>{U();var i=J(),u=ke(),a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;function o(){try{let e=new Uint8Array(1),n={foo:h(function(){return 42},"foo")};return Object.setPrototypeOf(n,Uint8Array.prototype),Object.setPrototypeOf(e,n),e.foo()===42}catch{return!1}}function r(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');let n=new Uint8Array(e);return Object.setPrototypeOf(n,t.prototype),n}function t(e,n,c){if(typeof e=="number"){if(typeof n=="string")throw TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,n,c)}function l(e,n,c){if(typeof e=="string")return g(e,n);if(ArrayBuffer.isView(e))return w(e);if(e==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Ie(e,ArrayBuffer)||e&&Ie(e.buffer,ArrayBuffer)||"u">typeof SharedArrayBuffer&&(Ie(e,SharedArrayBuffer)||e&&Ie(e.buffer,SharedArrayBuffer)))return p(e,n,c);if(typeof e=="number")throw TypeError('The "value" argument must not be of type number. Received type number');let E=e.valueOf&&e.valueOf();if(E!=null&&E!==e)return t.from(E,n,c);let x=f(e);if(x)return x;if("u">typeof Symbol&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return t.from(e[Symbol.toPrimitive]("string"),n,c);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function y(e){if(typeof e!="number")throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function b(e,n,c){return y(e),e<=0?r(e):n!==void 0?typeof c=="string"?r(e).fill(n,c):r(e).fill(n):r(e)}function d(e){return y(e),r(e<0?0:0|_(e))}function g(e,n){if((typeof n!="string"||n==="")&&(n="utf8"),!t.isEncoding(n))throw TypeError("Unknown encoding: "+n);let c=0|C(e,n),E=r(c),x=E.write(e,n);return x!==c&&(E=E.slice(0,x)),E}function s(e){let n=e.length<0?0:0|_(e.length),c=r(n);for(let E=0;E<n;E+=1)c[E]=255&e[E];return c}function w(e){if(Ie(e,Uint8Array)){let n=new Uint8Array(e);return p(n.buffer,n.byteOffset,n.byteLength)}return s(e)}function p(e,n,c){let E;if(n<0||e.byteLength<n)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<n+(c||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(E=n===void 0&&c===void 0?new Uint8Array(e):c===void 0?new Uint8Array(e,n):new Uint8Array(e,n,c),t.prototype),E}function f(e){if(t.isBuffer(e)){let n=0|_(e.length),c=r(n);return c.length===0||e.copy(c,0,0,n),c}return e.length!==void 0?typeof e.length!="number"||ht(e.length)?r(0):s(e):e.type==="Buffer"&&Array.isArray(e.data)?s(e.data):void 0}function _(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function A(e){return+e!=e&&(e=0),t.alloc(+e)}function C(e,n){if(t.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Ie(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let c=e.length,E=arguments.length>2&&arguments[2]===!0;if(!E&&c===0)return 0;let x=!1;for(;;)switch(n){case"ascii":case"latin1":case"binary":return c;case"utf8":case"utf-8":return ct(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return Dt(e).length;default:if(x)return E?-1:ct(e).length;n=(""+n).toLowerCase(),x=!0}}function v(e,n,c){let E=!1;if((n===void 0||n<0)&&(n=0),n>this.length||((c===void 0||c>this.length)&&(c=this.length),c<=0)||(c>>>=0)<=(n>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return X(this,n,c);case"utf8":case"utf-8":return ee(this,n,c);case"ascii":return te(this,n,c);case"latin1":case"binary":return Y(this,n,c);case"base64":return H(this,n,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return he(this,n,c);default:if(E)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),E=!0}}function T(e,n,c){let E=e[n];e[n]=e[c],e[c]=E}function Q(e,n,c,E,x){if(e.length===0)return-1;if(typeof c=="string"?(E=c,c=0):c>2147483647?c=2147483647:c<-2147483648&&(c=-2147483648),ht(c=+c)&&(c=x?0:e.length-1),c<0&&(c=e.length+c),c>=e.length){if(x)return-1;c=e.length-1}else if(c<0){if(!x)return-1;c=0}if(typeof n=="string"&&(n=t.from(n,E)),t.isBuffer(n))return n.length===0?-1:k(e,n,c,E,x);if(typeof n=="number")return n&=255,typeof Uint8Array.prototype.indexOf=="function"?x?Uint8Array.prototype.indexOf.call(e,n,c):Uint8Array.prototype.lastIndexOf.call(e,n,c):k(e,[n],c,E,x);throw TypeError("val must be string, number or Buffer")}function k(e,n,c,E,x){let P,B=1,ue=e.length,pe=n.length;if(E!==void 0&&((E=String(E).toLowerCase())==="ucs2"||E==="ucs-2"||E==="utf16le"||E==="utf-16le")){if(e.length<2||n.length<2)return-1;B=2,ue/=2,pe/=2,c/=2}function we(ie,de){return B===1?ie[de]:ie.readUInt16BE(de*B)}if(h(we,"read"),x){let ie=-1;for(P=c;P<ue;P++)if(we(e,P)===we(n,ie===-1?0:P-ie)){if(ie===-1&&(ie=P),P-ie+1===pe)return ie*B}else ie!==-1&&(P-=P-ie),ie=-1}else for(c+pe>ue&&(c=ue-pe),P=c;P>=0;P--){let ie=!0;for(let de=0;de<pe;de++)if(we(e,P+de)!==we(n,de)){ie=!1;break}if(ie)return P}return-1}function I(e,n,c,E){let x;c=Number(c)||0;let P=e.length-c;E?(E=Number(E))>P&&(E=P):E=P;let B=n.length;for(E>B/2&&(E=B/2),x=0;x<E;++x){let ue=parseInt(n.substr(2*x,2),16);if(ht(ue))break;e[c+x]=ue}return x}function R(e,n,c,E){return Je(ct(n,e.length-c),e,c,E)}function S(e,n,c,E){return Je(Mr(n),e,c,E)}function L(e,n,c,E){return Je(Dt(n),e,c,E)}function D(e,n,c,E){return Je(Or(n,e.length-c),e,c,E)}function H(e,n,c){return n===0&&c===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(n,c))}function ee(e,n,c){c=Math.min(e.length,c);let E=[],x=n;for(;x<c;){let P=e[x],B=null,ue=P>239?4:P>223?3:P>191?2:1;if(x+ue<=c){let pe,we,ie,de;switch(ue){case 1:P<128&&(B=P);break;case 2:(192&(pe=e[x+1]))==128&&(de=(31&P)<<6|63&pe)>127&&(B=de);break;case 3:pe=e[x+1],we=e[x+2],(192&pe)==128&&(192&we)==128&&(de=(15&P)<<12|(63&pe)<<6|63&we)>2047&&(de<55296||de>57343)&&(B=de);break;case 4:pe=e[x+1],we=e[x+2],ie=e[x+3],(192&pe)==128&&(192&we)==128&&(192&ie)==128&&(de=(15&P)<<18|(63&pe)<<12|(63&we)<<6|63&ie)>65535&&de<1114112&&(B=de)}}B===null?(B=65533,ue=1):B>65535&&(B-=65536,E.push(B>>>10&1023|55296),B=56320|1023&B),E.push(B),x+=ue}return N(E)}function N(e){let n=e.length;if(n<=4096)return String.fromCharCode.apply(String,e);let c="",E=0;for(;E<n;)c+=String.fromCharCode.apply(String,e.slice(E,E+=4096));return c}function te(e,n,c){let E="";c=Math.min(e.length,c);for(let x=n;x<c;++x)E+=String.fromCharCode(127&e[x]);return E}function Y(e,n,c){let E="";c=Math.min(e.length,c);for(let x=n;x<c;++x)E+=String.fromCharCode(e[x]);return E}function X(e,n,c){let E=e.length;(!n||n<0)&&(n=0),(!c||c<0||c>E)&&(c=E);let x="";for(let P=n;P<c;++P)x+=$n[e[P]];return x}function he(e,n,c){let E=e.slice(n,c),x="";for(let P=0;P<E.length-1;P+=2)x+=String.fromCharCode(E[P]+256*E[P+1]);return x}function $(e,n,c){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+n>c)throw RangeError("Trying to access beyond buffer length")}function le(e,n,c,E,x,P){if(!t.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(n>x||n<P)throw RangeError('"value" argument is out of bounds');if(c+E>e.length)throw RangeError("Index out of range")}function Oe(e,n,c,E,x){Bt(n,E,x,e,c,7);let P=Number(n&BigInt(4294967295));e[c++]=P,P>>=8,e[c++]=P,P>>=8,e[c++]=P,P>>=8,e[c++]=P;let B=Number(n>>BigInt(32)&BigInt(4294967295));return e[c++]=B,B>>=8,e[c++]=B,B>>=8,e[c++]=B,B>>=8,e[c++]=B,c}function Ne(e,n,c,E,x){Bt(n,E,x,e,c,7);let P=Number(n&BigInt(4294967295));e[c+7]=P,P>>=8,e[c+6]=P,P>>=8,e[c+5]=P,P>>=8,e[c+4]=P;let B=Number(n>>BigInt(32)&BigInt(4294967295));return e[c+3]=B,B>>=8,e[c+2]=B,B>>=8,e[c+1]=B,B>>=8,e[c]=B,c+8}function Lt(e,n,c,E,x,P){if(c+E>e.length||c<0)throw RangeError("Index out of range")}function Tt(e,n,c,E,x){return n=+n,c>>>=0,x||Lt(e,n,c,4,34028234663852886e22,-34028234663852886e22),u.write(e,n,c,E,23,4),c+4}function Mt(e,n,c,E,x){return n=+n,c>>>=0,x||Lt(e,n,c,8,17976931348623157e292,-17976931348623157e292),u.write(e,n,c,E,52,8),c+8}m.Buffer=t,m.SlowBuffer=A,m.INSPECT_MAX_BYTES=50,m.kMaxLength=2147483647,t.TYPED_ARRAY_SUPPORT=o(),!t.TYPED_ARRAY_SUPPORT&&"u">typeof console&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),h(o,"typedArraySupport"),Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:h(function(){if(t.isBuffer(this))return this.buffer},"get")}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:h(function(){if(t.isBuffer(this))return this.byteOffset},"get")}),h(r,"createBuffer"),h(t,"Buffer"),t.poolSize=8192,h(l,"from"),t.from=function(e,n,c){return l(e,n,c)},Object.setPrototypeOf(t.prototype,Uint8Array.prototype),Object.setPrototypeOf(t,Uint8Array),h(y,"assertSize"),h(b,"alloc"),t.alloc=function(e,n,c){return b(e,n,c)},h(d,"allocUnsafe"),t.allocUnsafe=function(e){return d(e)},t.allocUnsafeSlow=function(e){return d(e)},h(g,"fromString"),h(s,"fromArrayLike"),h(w,"fromArrayView"),h(p,"fromArrayBuffer"),h(f,"fromObject"),h(_,"checked"),h(A,"SlowBuffer"),t.isBuffer=h(function(e){return e!=null&&e._isBuffer===!0&&e!==t.prototype},"isBuffer"),t.compare=h(function(e,n){if(Ie(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),Ie(n,Uint8Array)&&(n=t.from(n,n.offset,n.byteLength)),!t.isBuffer(e)||!t.isBuffer(n))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===n)return 0;let c=e.length,E=n.length;for(let x=0,P=Math.min(c,E);x<P;++x)if(e[x]!==n[x]){c=e[x],E=n[x];break}return c<E?-1:E<c?1:0},"compare"),t.isEncoding=h(function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding"),t.concat=h(function(e,n){let c;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return t.alloc(0);if(n===void 0)for(n=0,c=0;c<e.length;++c)n+=e[c].length;let E=t.allocUnsafe(n),x=0;for(c=0;c<e.length;++c){let P=e[c];if(Ie(P,Uint8Array))x+P.length>E.length?(t.isBuffer(P)||(P=t.from(P)),P.copy(E,x)):Uint8Array.prototype.set.call(E,P,x);else if(t.isBuffer(P))P.copy(E,x);else throw TypeError('"list" argument must be an Array of Buffers');x+=P.length}return E},"concat"),h(C,"byteLength"),t.byteLength=C,h(v,"slowToString"),t.prototype._isBuffer=!0,h(T,"swap"),t.prototype.swap16=h(function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let n=0;n<e;n+=2)T(this,n,n+1);return this},"swap16"),t.prototype.swap32=h(function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let n=0;n<e;n+=4)T(this,n,n+3),T(this,n+1,n+2);return this},"swap32"),t.prototype.swap64=h(function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let n=0;n<e;n+=8)T(this,n,n+7),T(this,n+1,n+6),T(this,n+2,n+5),T(this,n+3,n+4);return this},"swap64"),t.prototype.toString=h(function(){let e=this.length;return e===0?"":arguments.length==0?ee(this,0,e):v.apply(this,arguments)},"toString"),t.prototype.toLocaleString=t.prototype.toString,t.prototype.equals=h(function(e){if(!t.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||t.compare(this,e)===0},"equals"),t.prototype.inspect=h(function(){let e="",n=m.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},"inspect"),a&&(t.prototype[a]=t.prototype.inspect),t.prototype.compare=h(function(e,n,c,E,x){if(Ie(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),!t.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(n===void 0&&(n=0),c===void 0&&(c=e?e.length:0),E===void 0&&(E=0),x===void 0&&(x=this.length),n<0||c>e.length||E<0||x>this.length)throw RangeError("out of range index");if(E>=x&&n>=c)return 0;if(E>=x)return-1;if(n>=c)return 1;if(n>>>=0,c>>>=0,E>>>=0,x>>>=0,this===e)return 0;let P=x-E,B=c-n,ue=Math.min(P,B),pe=this.slice(E,x),we=e.slice(n,c);for(let ie=0;ie<ue;++ie)if(pe[ie]!==we[ie]){P=pe[ie],B=we[ie];break}return P<B?-1:B<P?1:0},"compare"),h(Q,"bidirectionalIndexOf"),h(k,"arrayIndexOf"),t.prototype.includes=h(function(e,n,c){return this.indexOf(e,n,c)!==-1},"includes"),t.prototype.indexOf=h(function(e,n,c){return Q(this,e,n,c,!0)},"indexOf"),t.prototype.lastIndexOf=h(function(e,n,c){return Q(this,e,n,c,!1)},"lastIndexOf"),h(I,"hexWrite"),h(R,"utf8Write"),h(S,"asciiWrite"),h(L,"base64Write"),h(D,"ucs2Write"),t.prototype.write=h(function(e,n,c,E){if(n===void 0)E="utf8",c=this.length,n=0;else if(c===void 0&&typeof n=="string")E=n,c=this.length,n=0;else if(isFinite(n))n>>>=0,isFinite(c)?(c>>>=0,E===void 0&&(E="utf8")):(E=c,c=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let x=this.length-n;if((c===void 0||c>x)&&(c=x),e.length>0&&(c<0||n<0)||n>this.length)throw RangeError("Attempt to write outside buffer bounds");E||(E="utf8");let P=!1;for(;;)switch(E){case"hex":return I(this,e,n,c);case"utf8":case"utf-8":return R(this,e,n,c);case"ascii":case"latin1":case"binary":return S(this,e,n,c);case"base64":return L(this,e,n,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,n,c);default:if(P)throw TypeError("Unknown encoding: "+E);E=(""+E).toLowerCase(),P=!0}},"write"),t.prototype.toJSON=h(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON"),h(H,"base64Slice"),h(ee,"utf8Slice"),h(N,"decodeCodePointsArray"),h(te,"asciiSlice"),h(Y,"latin1Slice"),h(X,"hexSlice"),h(he,"utf16leSlice"),t.prototype.slice=h(function(e,n){let c=this.length;e=~~e,n=n===void 0?c:~~n,e<0?(e+=c)<0&&(e=0):e>c&&(e=c),n<0?(n+=c)<0&&(n=0):n>c&&(n=c),n<e&&(n=e);let E=this.subarray(e,n);return Object.setPrototypeOf(E,t.prototype),E},"slice"),h($,"checkOffset"),t.prototype.readUintLE=t.prototype.readUIntLE=h(function(e,n,c){e>>>=0,n>>>=0,c||$(e,n,this.length);let E=this[e],x=1,P=0;for(;++P<n&&(x*=256);)E+=this[e+P]*x;return E},"readUIntLE"),t.prototype.readUintBE=t.prototype.readUIntBE=h(function(e,n,c){e>>>=0,n>>>=0,c||$(e,n,this.length);let E=this[e+--n],x=1;for(;n>0&&(x*=256);)E+=this[e+--n]*x;return E},"readUIntBE"),t.prototype.readUint8=t.prototype.readUInt8=h(function(e,n){return e>>>=0,n||$(e,1,this.length),this[e]},"readUInt8"),t.prototype.readUint16LE=t.prototype.readUInt16LE=h(function(e,n){return e>>>=0,n||$(e,2,this.length),this[e]|this[e+1]<<8},"readUInt16LE"),t.prototype.readUint16BE=t.prototype.readUInt16BE=h(function(e,n){return e>>>=0,n||$(e,2,this.length),this[e]<<8|this[e+1]},"readUInt16BE"),t.prototype.readUint32LE=t.prototype.readUInt32LE=h(function(e,n){return e>>>=0,n||$(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},"readUInt32LE"),t.prototype.readUint32BE=t.prototype.readUInt32BE=h(function(e,n){return e>>>=0,n||$(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},"readUInt32BE"),t.prototype.readBigUInt64LE=Te(h(function(e){Ue(e>>>=0,"offset");let n=this[e],c=this[e+7];(n===void 0||c===void 0)&&qe(e,this.length-8);let E=n+256*this[++e]+65536*this[++e]+16777216*this[++e],x=this[++e]+256*this[++e]+65536*this[++e]+16777216*c;return BigInt(E)+(BigInt(x)<<BigInt(32))},"readBigUInt64LE")),t.prototype.readBigUInt64BE=Te(h(function(e){Ue(e>>>=0,"offset");let n=this[e],c=this[e+7];(n===void 0||c===void 0)&&qe(e,this.length-8);let E=16777216*n+65536*this[++e]+256*this[++e]+this[++e],x=16777216*this[++e]+65536*this[++e]+256*this[++e]+c;return(BigInt(E)<<BigInt(32))+BigInt(x)},"readBigUInt64BE")),t.prototype.readIntLE=h(function(e,n,c){e>>>=0,n>>>=0,c||$(e,n,this.length);let E=this[e],x=1,P=0;for(;++P<n&&(x*=256);)E+=this[e+P]*x;return E>=(x*=128)&&(E-=Math.pow(2,8*n)),E},"readIntLE"),t.prototype.readIntBE=h(function(e,n,c){e>>>=0,n>>>=0,c||$(e,n,this.length);let E=n,x=1,P=this[e+--E];for(;E>0&&(x*=256);)P+=this[e+--E]*x;return P>=(x*=128)&&(P-=Math.pow(2,8*n)),P},"readIntBE"),t.prototype.readInt8=h(function(e,n){return e>>>=0,n||$(e,1,this.length),128&this[e]?-((255-this[e]+1)*1):this[e]},"readInt8"),t.prototype.readInt16LE=h(function(e,n){e>>>=0,n||$(e,2,this.length);let c=this[e]|this[e+1]<<8;return 32768&c?4294901760|c:c},"readInt16LE"),t.prototype.readInt16BE=h(function(e,n){e>>>=0,n||$(e,2,this.length);let c=this[e+1]|this[e]<<8;return 32768&c?4294901760|c:c},"readInt16BE"),t.prototype.readInt32LE=h(function(e,n){return e>>>=0,n||$(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},"readInt32LE"),t.prototype.readInt32BE=h(function(e,n){return e>>>=0,n||$(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},"readInt32BE"),t.prototype.readBigInt64LE=Te(h(function(e){Ue(e>>>=0,"offset");let n=this[e],c=this[e+7];return(n===void 0||c===void 0)&&qe(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(c<<24))<<BigInt(32))+BigInt(n+256*this[++e]+65536*this[++e]+16777216*this[++e])},"readBigInt64LE")),t.prototype.readBigInt64BE=Te(h(function(e){Ue(e>>>=0,"offset");let n=this[e],c=this[e+7];return(n===void 0||c===void 0)&&qe(e,this.length-8),(BigInt((n<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(16777216*this[++e]+65536*this[++e]+256*this[++e]+c)},"readBigInt64BE")),t.prototype.readFloatLE=h(function(e,n){return e>>>=0,n||$(e,4,this.length),u.read(this,e,!0,23,4)},"readFloatLE"),t.prototype.readFloatBE=h(function(e,n){return e>>>=0,n||$(e,4,this.length),u.read(this,e,!1,23,4)},"readFloatBE"),t.prototype.readDoubleLE=h(function(e,n){return e>>>=0,n||$(e,8,this.length),u.read(this,e,!0,52,8)},"readDoubleLE"),t.prototype.readDoubleBE=h(function(e,n){return e>>>=0,n||$(e,8,this.length),u.read(this,e,!1,52,8)},"readDoubleBE"),h(le,"checkInt"),t.prototype.writeUintLE=t.prototype.writeUIntLE=h(function(e,n,c,E){if(e=+e,n>>>=0,c>>>=0,!E){let B=Math.pow(2,8*c)-1;le(this,e,n,c,B,0)}let x=1,P=0;for(this[n]=255&e;++P<c&&(x*=256);)this[n+P]=e/x&255;return n+c},"writeUIntLE"),t.prototype.writeUintBE=t.prototype.writeUIntBE=h(function(e,n,c,E){if(e=+e,n>>>=0,c>>>=0,!E){let B=Math.pow(2,8*c)-1;le(this,e,n,c,B,0)}let x=c-1,P=1;for(this[n+x]=255&e;--x>=0&&(P*=256);)this[n+x]=e/P&255;return n+c},"writeUIntBE"),t.prototype.writeUint8=t.prototype.writeUInt8=h(function(e,n,c){return e=+e,n>>>=0,c||le(this,e,n,1,255,0),this[n]=255&e,n+1},"writeUInt8"),t.prototype.writeUint16LE=t.prototype.writeUInt16LE=h(function(e,n,c){return e=+e,n>>>=0,c||le(this,e,n,2,65535,0),this[n]=255&e,this[n+1]=e>>>8,n+2},"writeUInt16LE"),t.prototype.writeUint16BE=t.prototype.writeUInt16BE=h(function(e,n,c){return e=+e,n>>>=0,c||le(this,e,n,2,65535,0),this[n]=e>>>8,this[n+1]=255&e,n+2},"writeUInt16BE"),t.prototype.writeUint32LE=t.prototype.writeUInt32LE=h(function(e,n,c){return e=+e,n>>>=0,c||le(this,e,n,4,4294967295,0),this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=255&e,n+4},"writeUInt32LE"),t.prototype.writeUint32BE=t.prototype.writeUInt32BE=h(function(e,n,c){return e=+e,n>>>=0,c||le(this,e,n,4,4294967295,0),this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e,n+4},"writeUInt32BE"),h(Oe,"wrtBigUInt64LE"),h(Ne,"wrtBigUInt64BE"),t.prototype.writeBigUInt64LE=Te(h(function(e,n=0){return Oe(this,e,n,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE")),t.prototype.writeBigUInt64BE=Te(h(function(e,n=0){return Ne(this,e,n,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE")),t.prototype.writeIntLE=h(function(e,n,c,E){if(e=+e,n>>>=0,!E){let ue=Math.pow(2,8*c-1);le(this,e,n,c,ue-1,-ue)}let x=0,P=1,B=0;for(this[n]=255&e;++x<c&&(P*=256);)e<0&&B===0&&this[n+x-1]!==0&&(B=1),this[n+x]=(e/P>>0)-B&255;return n+c},"writeIntLE"),t.prototype.writeIntBE=h(function(e,n,c,E){if(e=+e,n>>>=0,!E){let ue=Math.pow(2,8*c-1);le(this,e,n,c,ue-1,-ue)}let x=c-1,P=1,B=0;for(this[n+x]=255&e;--x>=0&&(P*=256);)e<0&&B===0&&this[n+x+1]!==0&&(B=1),this[n+x]=(e/P>>0)-B&255;return n+c},"writeIntBE"),t.prototype.writeInt8=h(function(e,n,c){return e=+e,n>>>=0,c||le(this,e,n,1,127,-128),e<0&&(e=255+e+1),this[n]=255&e,n+1},"writeInt8"),t.prototype.writeInt16LE=h(function(e,n,c){return e=+e,n>>>=0,c||le(this,e,n,2,32767,-32768),this[n]=255&e,this[n+1]=e>>>8,n+2},"writeInt16LE"),t.prototype.writeInt16BE=h(function(e,n,c){return e=+e,n>>>=0,c||le(this,e,n,2,32767,-32768),this[n]=e>>>8,this[n+1]=255&e,n+2},"writeInt16BE"),t.prototype.writeInt32LE=h(function(e,n,c){return e=+e,n>>>=0,c||le(this,e,n,4,2147483647,-2147483648),this[n]=255&e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24,n+4},"writeInt32LE"),t.prototype.writeInt32BE=h(function(e,n,c){return e=+e,n>>>=0,c||le(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e,n+4},"writeInt32BE"),t.prototype.writeBigInt64LE=Te(h(function(e,n=0){return Oe(this,e,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE")),t.prototype.writeBigInt64BE=Te(h(function(e,n=0){return Ne(this,e,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE")),h(Lt,"checkIEEE754"),h(Tt,"writeFloat"),t.prototype.writeFloatLE=h(function(e,n,c){return Tt(this,e,n,!0,c)},"writeFloatLE"),t.prototype.writeFloatBE=h(function(e,n,c){return Tt(this,e,n,!1,c)},"writeFloatBE"),h(Mt,"writeDouble"),t.prototype.writeDoubleLE=h(function(e,n,c){return Mt(this,e,n,!0,c)},"writeDoubleLE"),t.prototype.writeDoubleBE=h(function(e,n,c){return Mt(this,e,n,!1,c)},"writeDoubleBE"),t.prototype.copy=h(function(e,n,c,E){if(!t.isBuffer(e))throw TypeError("argument should be a Buffer");if(c||(c=0),E||E===0||(E=this.length),n>=e.length&&(n=e.length),n||(n=0),E>0&&E<c&&(E=c),E===c||e.length===0||this.length===0)return 0;if(n<0)throw RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw RangeError("Index out of range");if(E<0)throw RangeError("sourceEnd out of bounds");E>this.length&&(E=this.length),e.length-n<E-c&&(E=e.length-n+c);let x=E-c;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(n,c,E):Uint8Array.prototype.set.call(e,this.subarray(c,E),n),x},"copy"),t.prototype.fill=h(function(e,n,c,E){let x;if(typeof e=="string"){if(typeof n=="string"?(E=n,n=0,c=this.length):typeof c=="string"&&(E=c,c=this.length),E!==void 0&&typeof E!="string")throw TypeError("encoding must be a string");if(typeof E=="string"&&!t.isEncoding(E))throw TypeError("Unknown encoding: "+E);if(e.length===1){let P=e.charCodeAt(0);(E==="utf8"&&P<128||E==="latin1")&&(e=P)}}else typeof e=="number"?e&=255:typeof e=="boolean"&&(e=Number(e));if(n<0||this.length<n||this.length<c)throw RangeError("Out of range index");if(c<=n)return this;if(n>>>=0,c=c===void 0?this.length:c>>>0,e||(e=0),typeof e=="number")for(x=n;x<c;++x)this[x]=e;else{let P=t.isBuffer(e)?e:t.from(e,E),B=P.length;if(B===0)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(x=0;x<c-n;++x)this[x+n]=P[x%B]}return this},"fill");var Qe={};function ut(e,n,c){var E;Qe[e]=(h(E=class extends c{constructor(){super(),Object.defineProperty(this,"message",{value:n.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(x){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:x,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}},"NodeError"),E)}function Ot(e){let n="",c=e.length,E=e[0]==="-"?1:0;for(;c>=E+4;c-=3)n=`_${e.slice(c-3,c)}${n}`;return`${e.slice(0,c)}${n}`}function Lr(e,n,c){Ue(n,"offset"),(e[n]===void 0||e[n+c]===void 0)&&qe(n,e.length-(c+1))}function Bt(e,n,c,E,x,P){if(e>c||e<n){let B=typeof n=="bigint"?"n":"",ue;throw ue=P>3?n===0||n===BigInt(0)?`>= 0${B} and < 2${B} ** ${(P+1)*8}${B}`:`>= -(2${B} ** ${(P+1)*8-1}${B}) and < 2 ** ${(P+1)*8-1}${B}`:`>= ${n}${B} and <= ${c}${B}`,new Qe.ERR_OUT_OF_RANGE("value",ue,e)}Lr(E,x,P)}function Ue(e,n){if(typeof e!="number")throw new Qe.ERR_INVALID_ARG_TYPE(n,"number",e)}function qe(e,n,c){throw Math.floor(e)!==e?(Ue(e,c),new Qe.ERR_OUT_OF_RANGE(c||"offset","an integer",e)):n<0?new Qe.ERR_BUFFER_OUT_OF_BOUNDS:new Qe.ERR_OUT_OF_RANGE(c||"offset",`>= ${c?1:0} and <= ${n}`,e)}h(ut,"E"),ut("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ut("ERR_INVALID_ARG_TYPE",function(e,n){return`The "${e}" argument must be of type number. Received type ${typeof n}`},TypeError),ut("ERR_OUT_OF_RANGE",function(e,n,c){let E=`The value of "${e}" is out of range.`,x=c;return Number.isInteger(c)&&Math.abs(c)>4294967296?x=Ot(String(c)):typeof c=="bigint"&&(x=String(c),(c>BigInt(2)**BigInt(32)||c<-(BigInt(2)**BigInt(32)))&&(x=Ot(x)),x+="n"),E+=` It must be ${n}. Received ${x}`},RangeError),h(Ot,"addNumericalSeparator"),h(Lr,"checkBounds"),h(Bt,"checkIntBI"),h(Ue,"validateNumber"),h(qe,"boundsError");var jn=/[^+/0-9A-Za-z-_]/g;function Tr(e){if((e=(e=e.split("=")[0]).trim().replace(jn,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function ct(e,n){n=n||1/0;let c,E=e.length,x=null,P=[];for(let B=0;B<E;++B){if((c=e.charCodeAt(B))>55295&&c<57344){if(!x){if(c>56319||B+1===E){(n-=3)>-1&&P.push(239,191,189);continue}x=c;continue}if(c<56320){(n-=3)>-1&&P.push(239,191,189),x=c;continue}c=(x-55296<<10|c-56320)+65536}else x&&(n-=3)>-1&&P.push(239,191,189);if(x=null,c<128){if((n-=1)<0)break;P.push(c)}else if(c<2048){if((n-=2)<0)break;P.push(c>>6|192,63&c|128)}else if(c<65536){if((n-=3)<0)break;P.push(c>>12|224,c>>6&63|128,63&c|128)}else if(c<1114112){if((n-=4)<0)break;P.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}else throw Error("Invalid code point")}return P}function Mr(e){let n=[];for(let c=0;c<e.length;++c)n.push(255&e.charCodeAt(c));return n}function Or(e,n){let c,E,x=[];for(let P=0;P<e.length&&!((n-=2)<0);++P)E=(c=e.charCodeAt(P))>>8,x.push(c%256),x.push(E);return x}function Dt(e){return i.toByteArray(Tr(e))}function Je(e,n,c,E){let x;for(x=0;x<E&&!(x+c>=n.length||x>=e.length);++x)n[x+c]=e[x];return x}function Ie(e,n){return e instanceof n||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===n.name}function ht(e){return e!=e}h(Tr,"base64clean"),h(ct,"utf8ToBytes"),h(Mr,"asciiToBytes"),h(Or,"utf16leToBytes"),h(Dt,"base64ToBytes"),h(Je,"blitBuffer"),h(Ie,"isInstance"),h(ht,"numberIsNaN");var $n=function(){let e="0123456789abcdef",n=Array(256);for(let c=0;c<16;++c){let E=16*c;for(let x=0;x<16;++x)n[E+x]=e[c]+e[x]}return n}();function Te(e){return typeof BigInt>"u"?Br:e}function Br(){throw Error("BigInt not supported")}h(Te,"defineBigIntMethod"),h(Br,"BufferBigIntNotDefined")}),U=ge(()=>{ce=ne,se=ne.setImmediate??(m=>setTimeout(m,0)),ne.clearImmediate,F=typeof ne.Buffer=="function"&&typeof ne.Buffer.allocUnsafe=="function"?ne.Buffer:_e().Buffer,(j=ne.process??{}).env??(j.env={});try{j.nextTick(()=>{})}catch{let m=Promise.resolve();j.nextTick=m.then.bind(m)}}),be=G((m,i)=>{U();var u,a=typeof Reflect=="object"?Reflect:null,o=a&&typeof a.apply=="function"?a.apply:h(function(k,I,R){return Function.prototype.apply.call(k,I,R)},"ReflectApply");function r(k){console&&console.warn&&console.warn(k)}u=a&&typeof a.ownKeys=="function"?a.ownKeys:h(Object.getOwnPropertySymbols?function(k){return Object.getOwnPropertyNames(k).concat(Object.getOwnPropertySymbols(k))}:function(k){return Object.getOwnPropertyNames(k)},"ReflectOwnKeys"),h(r,"ProcessEmitWarning");var t=Number.isNaN||h(function(k){return k!=k},"NumberIsNaN");function l(){l.init.call(this)}h(l,"EventEmitter"),i.exports=l,i.exports.once=v,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var y=10;function b(k){if(typeof k!="function")throw TypeError('The "listener" argument must be of type Function. Received type '+typeof k)}function d(k){return k._maxListeners===void 0?l.defaultMaxListeners:k._maxListeners}function g(k,I,R,S){var L,D,H;if(b(R),(D=k._events)===void 0?(D=k._events=Object.create(null),k._eventsCount=0):(D.newListener!==void 0&&(k.emit("newListener",I,R.listener?R.listener:R),D=k._events),H=D[I]),H===void 0)H=D[I]=R,++k._eventsCount;else if(typeof H=="function"?H=D[I]=S?[R,H]:[H,R]:S?H.unshift(R):H.push(R),(L=d(k))>0&&H.length>L&&!H.warned){H.warned=!0;var ee=Error("Possible EventEmitter memory leak detected. "+H.length+" "+String(I)+" listeners added. Use emitter.setMaxListeners() to increase limit");ee.name="MaxListenersExceededWarning",ee.emitter=k,ee.type=I,ee.count=H.length,r(ee)}return k}function s(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length==0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function w(k,I,R){var S={fired:!1,wrapFn:void 0,target:k,type:I,listener:R},L=s.bind(S);return L.listener=R,S.wrapFn=L,L}function p(k,I,R){var S=k._events;if(S===void 0)return[];var L=S[I];return L===void 0?[]:typeof L=="function"?R?[L.listener||L]:[L]:R?C(L):_(L,L.length)}function f(k){var I=this._events;if(I!==void 0){var R=I[k];if(typeof R=="function")return 1;if(R!==void 0)return R.length}return 0}function _(k,I){for(var R=Array(I),S=0;S<I;++S)R[S]=k[S];return R}function A(k,I){for(;I+1<k.length;I++)k[I]=k[I+1];k.pop()}function C(k){for(var I=Array(k.length),R=0;R<I.length;++R)I[R]=k[R].listener||k[R];return I}function v(k,I){return new Promise(function(R,S){function L(H){k.removeListener(I,D),S(H)}function D(){typeof k.removeListener=="function"&&k.removeListener("error",L),R([].slice.call(arguments))}h(L,"errorListener"),h(D,"resolver"),Q(k,I,D,{once:!0}),I!=="error"&&T(k,L,{once:!0})})}function T(k,I,R){typeof k.on=="function"&&Q(k,"error",I,R)}function Q(k,I,R,S){if(typeof k.on=="function")S.once?k.once(I,R):k.on(I,R);else if(typeof k.addEventListener=="function")k.addEventListener(I,h(function L(D){S.once&&k.removeEventListener(I,L),R(D)},"wrapListener"));else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof k)}h(b,"checkListener"),Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:h(function(){return y},"get"),set:h(function(k){if(typeof k!="number"||k<0||t(k))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+k+".");y=k},"set")}),l.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=h(function(k){if(typeof k!="number"||k<0||t(k))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+k+".");return this._maxListeners=k,this},"setMaxListeners"),h(d,"_getMaxListeners"),l.prototype.getMaxListeners=h(function(){return d(this)},"getMaxListeners"),l.prototype.emit=h(function(k){for(var I=[],R=1;R<arguments.length;R++)I.push(arguments[R]);var S=k==="error",L=this._events;if(L!==void 0)S=S&&L.error===void 0;else if(!S)return!1;if(S){if(I.length>0&&(D=I[0]),D instanceof Error)throw D;var D,H=Error("Unhandled error."+(D?" ("+D.message+")":""));throw H.context=D,H}var ee=L[k];if(ee===void 0)return!1;if(typeof ee=="function")o(ee,this,I);else for(var N=ee.length,te=_(ee,N),R=0;R<N;++R)o(te[R],this,I);return!0},"emit"),h(g,"_addListener"),l.prototype.addListener=h(function(k,I){return g(this,k,I,!1)},"addListener"),l.prototype.on=l.prototype.addListener,l.prototype.prependListener=h(function(k,I){return g(this,k,I,!0)},"prependListener"),h(s,"onceWrapper"),h(w,"_onceWrap"),l.prototype.once=h(function(k,I){return b(I),this.on(k,w(this,k,I)),this},"once"),l.prototype.prependOnceListener=h(function(k,I){return b(I),this.prependListener(k,w(this,k,I)),this},"prependOnceListener"),l.prototype.removeListener=h(function(k,I){var R,S,L,D,H;if(b(I),(S=this._events)===void 0||(R=S[k])===void 0)return this;if(R===I||R.listener===I)--this._eventsCount==0?this._events=Object.create(null):(delete S[k],S.removeListener&&this.emit("removeListener",k,R.listener||I));else if(typeof R!="function"){for(L=-1,D=R.length-1;D>=0;D--)if(R[D]===I||R[D].listener===I){H=R[D].listener,L=D;break}if(L<0)return this;L===0?R.shift():A(R,L),R.length===1&&(S[k]=R[0]),S.removeListener!==void 0&&this.emit("removeListener",k,H||I)}return this},"removeListener"),l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=h(function(k){var I,R,S;if((R=this._events)===void 0)return this;if(R.removeListener===void 0)return arguments.length==0?(this._events=Object.create(null),this._eventsCount=0):R[k]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete R[k]),this;if(arguments.length==0){var L,D=Object.keys(R);for(S=0;S<D.length;++S)(L=D[S])!=="removeListener"&&this.removeAllListeners(L);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(I=R[k])=="function")this.removeListener(k,I);else if(I!==void 0)for(S=I.length-1;S>=0;S--)this.removeListener(k,I[S]);return this},"removeAllListeners"),h(p,"_listeners"),l.prototype.listeners=h(function(k){return p(this,k,!0)},"listeners"),l.prototype.rawListeners=h(function(k){return p(this,k,!1)},"rawListeners"),l.listenerCount=function(k,I){return typeof k.listenerCount=="function"?k.listenerCount(I):f.call(k,I)},l.prototype.listenerCount=f,h(f,"listenerCount"),l.prototype.eventNames=h(function(){return this._eventsCount>0?u(this._events):[]},"eventNames"),h(_,"arrayClone"),h(A,"spliceOne"),h(C,"unwrapListeners"),h(v,"once"),h(T,"addErrorHandlerIfEventEmitter"),h(Q,"eventTargetAgnosticAddListener")}),Se={};function Pe(m){return 0}ve(Se,{Socket:()=>Ke,isIP:()=>Pe});var He,gt,Ge,Ke,ze=ge(()=>{U(),He=O(be(),1),h(Pe,"isIP"),gt=/^[^.]+\./,Ge=class q extends He.EventEmitter{constructor(){super(...arguments),M(this,"opts",{}),M(this,"connecting",!1),M(this,"pending",!0),M(this,"writable",!0),M(this,"encrypted",!1),M(this,"authorized",!1),M(this,"destroyed",!1),M(this,"ws",null),M(this,"writeBuffer"),M(this,"tlsState",0),M(this,"tlsRead"),M(this,"tlsWrite")}static get poolQueryViaFetch(){return q.opts.poolQueryViaFetch??q.defaults.poolQueryViaFetch}static set poolQueryViaFetch(i){q.opts.poolQueryViaFetch=i}static get fetchEndpoint(){return q.opts.fetchEndpoint??q.defaults.fetchEndpoint}static set fetchEndpoint(i){q.opts.fetchEndpoint=i}static get fetchConnectionCache(){return!0}static set fetchConnectionCache(i){console.warn("The `fetchConnectionCache` option is deprecated (now always `true`)")}static get fetchFunction(){return q.opts.fetchFunction??q.defaults.fetchFunction}static set fetchFunction(i){q.opts.fetchFunction=i}static get webSocketConstructor(){return q.opts.webSocketConstructor??q.defaults.webSocketConstructor}static set webSocketConstructor(i){q.opts.webSocketConstructor=i}get webSocketConstructor(){return this.opts.webSocketConstructor??q.webSocketConstructor}set webSocketConstructor(i){this.opts.webSocketConstructor=i}static get wsProxy(){return q.opts.wsProxy??q.defaults.wsProxy}static set wsProxy(i){q.opts.wsProxy=i}get wsProxy(){return this.opts.wsProxy??q.wsProxy}set wsProxy(i){this.opts.wsProxy=i}static get coalesceWrites(){return q.opts.coalesceWrites??q.defaults.coalesceWrites}static set coalesceWrites(i){q.opts.coalesceWrites=i}get coalesceWrites(){return this.opts.coalesceWrites??q.coalesceWrites}set coalesceWrites(i){this.opts.coalesceWrites=i}static get useSecureWebSocket(){return q.opts.useSecureWebSocket??q.defaults.useSecureWebSocket}static set useSecureWebSocket(i){q.opts.useSecureWebSocket=i}get useSecureWebSocket(){return this.opts.useSecureWebSocket??q.useSecureWebSocket}set useSecureWebSocket(i){this.opts.useSecureWebSocket=i}static get forceDisablePgSSL(){return q.opts.forceDisablePgSSL??q.defaults.forceDisablePgSSL}static set forceDisablePgSSL(i){q.opts.forceDisablePgSSL=i}get forceDisablePgSSL(){return this.opts.forceDisablePgSSL??q.forceDisablePgSSL}set forceDisablePgSSL(i){this.opts.forceDisablePgSSL=i}static get disableSNI(){return q.opts.disableSNI??q.defaults.disableSNI}static set disableSNI(i){q.opts.disableSNI=i}get disableSNI(){return this.opts.disableSNI??q.disableSNI}set disableSNI(i){this.opts.disableSNI=i}static get disableWarningInBrowsers(){return q.opts.disableWarningInBrowsers??q.defaults.disableWarningInBrowsers}static set disableWarningInBrowsers(i){q.opts.disableWarningInBrowsers=i}get disableWarningInBrowsers(){return this.opts.disableWarningInBrowsers??q.disableWarningInBrowsers}set disableWarningInBrowsers(i){this.opts.disableWarningInBrowsers=i}static get pipelineConnect(){return q.opts.pipelineConnect??q.defaults.pipelineConnect}static set pipelineConnect(i){q.opts.pipelineConnect=i}get pipelineConnect(){return this.opts.pipelineConnect??q.pipelineConnect}set pipelineConnect(i){this.opts.pipelineConnect=i}static get subtls(){return q.opts.subtls??q.defaults.subtls}static set subtls(i){q.opts.subtls=i}get subtls(){return this.opts.subtls??q.subtls}set subtls(i){this.opts.subtls=i}static get pipelineTLS(){return q.opts.pipelineTLS??q.defaults.pipelineTLS}static set pipelineTLS(i){q.opts.pipelineTLS=i}get pipelineTLS(){return this.opts.pipelineTLS??q.pipelineTLS}set pipelineTLS(i){this.opts.pipelineTLS=i}static get rootCerts(){return q.opts.rootCerts??q.defaults.rootCerts}static set rootCerts(i){q.opts.rootCerts=i}get rootCerts(){return this.opts.rootCerts??q.rootCerts}set rootCerts(i){this.opts.rootCerts=i}wsProxyAddrForHost(i,u){let a=this.wsProxy;if(a===void 0)throw Error("No WebSocket proxy is configured. Please see https://github.com/neondatabase/serverless/blob/main/CONFIG.md#wsproxy-string--host-string-port-number--string--string");return typeof a=="function"?a(i,u):`${a}?address=${i}:${u}`}setNoDelay(){return this}setKeepAlive(){return this}ref(){return this}unref(){return this}connect(i,u,a){this.connecting=!0,a&&this.once("connect",a);let o=h(()=>{this.connecting=!1,this.pending=!1,this.emit("connect"),this.emit("ready")},"handleWebSocketOpen"),r=h((l,y=!1)=>{l.binaryType="arraybuffer",l.addEventListener("error",b=>{this.emit("error",b),this.emit("close")}),l.addEventListener("message",b=>{if(this.tlsState===0){let d=F.from(b.data);this.emit("data",d)}}),l.addEventListener("close",()=>{this.emit("close")}),y?o():l.addEventListener("open",o)},"configureWebSocket"),t;try{t=this.wsProxyAddrForHost(u,typeof i=="string"?parseInt(i,10):i)}catch(l){this.emit("error",l),this.emit("close");return}try{let l=(this.useSecureWebSocket?"wss:":"ws:")+"//"+t;if(this.webSocketConstructor!==void 0)this.ws=new this.webSocketConstructor(l),r(this.ws);else try{this.ws=new WebSocket(l),r(this.ws)}catch{this.ws=new __unstable_WebSocket(l),r(this.ws)}}catch(l){fetch((this.useSecureWebSocket?"https:":"http:")+"//"+t,{headers:{Upgrade:"websocket"}}).then(y=>{if(this.ws=y.webSocket,this.ws==null)throw l;this.ws.accept(),r(this.ws,!0)}).catch(y=>{this.emit("error",Error(`All attempts to open a WebSocket to connect to the database failed. Please refer to https://github.com/neondatabase/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined. Details: ${y}`)),this.emit("close")})}}async startTls(i){if(this.subtls===void 0)throw Error("For Postgres SSL connections, you must set `neonConfig.subtls` to the subtls library. See https://github.com/neondatabase/serverless/blob/main/CONFIG.md for more information.");this.tlsState=1;let u=await this.subtls.TrustedCert.databaseFromPEM(this.rootCerts),a=new this.subtls.WebSocketReadQueue(this.ws),o=a.read.bind(a),r=this.rawWrite.bind(this),{read:t,write:l}=await this.subtls.startTls(i,u,o,r,{useSNI:!this.disableSNI,expectPreData:this.pipelineTLS?new Uint8Array([83]):void 0});this.tlsRead=t,this.tlsWrite=l,this.tlsState=2,this.encrypted=!0,this.authorized=!0,this.emit("secureConnection",this),this.tlsReadLoop()}async tlsReadLoop(){for(;;){let i=await this.tlsRead();if(i===void 0)break;{let u=F.from(i);this.emit("data",u)}}}rawWrite(i){if(!this.coalesceWrites){this.ws&&this.ws.send(i);return}if(this.writeBuffer===void 0)this.writeBuffer=i,setTimeout(()=>{this.ws&&this.ws.send(this.writeBuffer),this.writeBuffer=void 0},0);else{let u=new Uint8Array(this.writeBuffer.length+i.length);u.set(this.writeBuffer),u.set(i,this.writeBuffer.length),this.writeBuffer=u}}write(i,u="utf8",a=o=>{}){return i.length===0?a():(typeof i=="string"&&(i=F.from(i,u)),this.tlsState===0?(this.rawWrite(i),a()):this.tlsState===1?this.once("secureConnection",()=>{this.write(i,u,a)}):(this.tlsWrite(i),a())),!0}end(i=F.alloc(0),u="utf8",a=()=>{}){return this.write(i,u,()=>{this.ws.close(),a()}),this}destroy(){return this.destroyed=!0,this.end()}},h(Ge,"Socket"),M(Ge,"defaults",{poolQueryViaFetch:!1,fetchEndpoint:h((m,i,u)=>"https://"+(u?.jwtAuth?m.replace(gt,"apiauth."):m.replace(gt,"api."))+"/sql","fetchEndpoint"),fetchConnectionCache:!0,fetchFunction:void 0,webSocketConstructor:void 0,wsProxy:h(m=>m+"/v2","wsProxy"),useSecureWebSocket:!0,forceDisablePgSSL:!0,coalesceWrites:!0,pipelineConnect:"password",subtls:void 0,rootCerts:"",pipelineTLS:!1,disableSNI:!1,disableWarningInBrowsers:!1}),M(Ge,"opts",{}),Ke=Ge}),Ft={};function yt(m,i=!1){let{protocol:u}=new URL(m),{username:a,password:o,host:r,hostname:t,port:l,pathname:y,search:b,searchParams:d,hash:g}=new URL("http:"+m.substring(u.length));o=decodeURIComponent(o),a=decodeURIComponent(a),y=decodeURIComponent(y);let s=a+":"+o,w=i?Object.fromEntries(d.entries()):b;return{href:m,protocol:u,auth:s,username:a,password:o,host:r,hostname:t,port:l,pathname:y,search:b,query:w,hash:g}}ve(Ft,{parse:()=>yt});var Qt=ge(()=>{U(),h(yt,"parse")}),qt=G(m=>{U(),m.parse=function(o,r){return new u(o,r).parse()};var i=class Fr{constructor(r,t){this.source=r,this.transform=t||a,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var r=this.source[this.position++];return r==="\\"?{value:this.source[this.position++],escaped:!0}:{value:r,escaped:!1}}record(r){this.recorded.push(r)}newEntry(r){var t;(this.recorded.length>0||r)&&((t=this.recorded.join(""))!=="NULL"||r||(t=null),t!==null&&(t=this.transform(t)),this.entries.push(t),this.recorded=[])}consumeDimensions(){if(this.source[0]==="[")for(;!this.isEof()&&this.nextCharacter().value!=="=";);}parse(r){var t,l,y;for(this.consumeDimensions();!this.isEof();)if((t=this.nextCharacter()).value!=="{"||y){if(t.value!=="}"||y)t.value!=='"'||t.escaped?t.value!==","||y?this.record(t.value):this.newEntry():(y&&this.newEntry(!0),y=!y);else if(this.dimension--,!this.dimension&&(this.newEntry(),r))return this.entries}else this.dimension++,this.dimension>1&&(l=new Fr(this.source.substr(this.position-1),this.transform),this.entries.push(l.parse(!0)),this.position+=l.position-2);if(this.dimension!==0)throw Error("array dimension not balanced");return this.entries}};h(i,"ArrayParser");var u=i;function a(o){return o}h(a,"identity")}),jt=G((m,i)=>{U();var u=qt();i.exports={create:h(function(a,o){return{parse:h(function(){return u.parse(a,o)},"parse")}},"create")}}),jr=G((m,i)=>{U();var u=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,a=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,o=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,r=/^-?infinity$/;function t(d){var g=a.exec(d);if(g){var s=parseInt(g[1],10);g[4]&&(s=y(s));var w=new Date(s,parseInt(g[2],10)-1,g[3]);return b(s)&&w.setFullYear(s),w}}function l(d){if(d.endsWith("+00"))return 0;var g=o.exec(d.split(" ")[1]);if(g){var s=g[1];return s==="Z"?0:(3600*parseInt(g[2],10)+60*parseInt(g[3]||0,10)+parseInt(g[4]||0,10))*(s==="-"?-1:1)*1e3}}function y(d){return-(d-1)}function b(d){return d>=0&&d<100}i.exports=h(function(d){if(r.test(d))return Number(d.replace("i","I"));var g=u.exec(d);if(!g)return t(d)||null;var s=!!g[8],w=parseInt(g[1],10);s&&(w=y(w));var p=parseInt(g[2],10)-1,f=g[3],_=parseInt(g[4],10),A=parseInt(g[5],10),C=parseInt(g[6],10),v=g[7];v=v?1e3*parseFloat(v):0;var T,Q=l(d);return Q!=null?(T=new Date(Date.UTC(w,p,f,_,A,C,v)),b(w)&&T.setUTCFullYear(w),Q!==0&&T.setTime(T.getTime()-Q)):(T=new Date(w,p,f,_,A,C,v),b(w)&&T.setFullYear(w)),T},"parseDate"),h(t,"getDate"),h(l,"timeZoneOffset"),h(y,"bcYearToNegativeYear"),h(b,"is0To99")}),$r=G((m,i)=>{U(),i.exports=a;var u=Object.prototype.hasOwnProperty;function a(o){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var l in t)u.call(t,l)&&(o[l]=t[l])}return o}h(a,"extend")}),Wr=G((m,i)=>{U();var u=$r();function a(p){if(!(this instanceof a))return new a(p);u(this,w(p))}i.exports=a,h(a,"PostgresInterval");var o=["seconds","minutes","hours","days","months","years"];a.prototype.toPostgres=function(){var p=o.filter(this.hasOwnProperty,this);return this.milliseconds&&0>p.indexOf("seconds")&&p.push("seconds"),p.length===0?"0":p.map(function(f){var _=this[f]||0;return f==="seconds"&&this.milliseconds&&(_=(_+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),_+" "+f},this).join(" ")};var r={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},t=["years","months","days"],l=["hours","minutes","seconds"];a.prototype.toISOString=a.prototype.toISO=function(){return"P"+t.map(p,this).join("")+"T"+l.map(p,this).join("");function p(f){var _=this[f]||0;return f==="seconds"&&this.milliseconds&&(_=(_+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),_+r[f]}};var y="([+-]?\\d+)",b=new RegExp([y+"\\s+years?",y+"\\s+mons?",y+"\\s+days?","([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?"].map(function(p){return"("+p+")?"}).join("\\s*")),d={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},g=["hours","minutes","seconds","milliseconds"];function s(p){return parseInt(p+"000000".slice(p.length),10)/1e3}function w(p){if(!p)return{};var f=b.exec(p),_=f[8]==="-";return Object.keys(d).reduce(function(A,C){var v=f[d[C]];return v&&(v=C==="milliseconds"?s(v):parseInt(v,10))&&(_&&~g.indexOf(C)&&(v*=-1),A[C]=v),A},{})}h(s,"parseMilliseconds"),h(w,"parse")}),Hr=G((m,i)=>{U(),i.exports=h(function(u){if(/^\\x/.test(u))return new F(u.substr(2),"hex");for(var a="",o=0;o<u.length;)if(u[o]!=="\\")a+=u[o],++o;else if(/[0-7]{3}/.test(u.substr(o+1,3)))a+=String.fromCharCode(parseInt(u.substr(o+1,3),8)),o+=4;else{for(var r=1;o+r<u.length&&u[o+r]==="\\";)r++;for(var t=0;t<Math.floor(r/2);++t)a+="\\";o+=2*Math.floor(r/2)}return new F(a,"binary")},"parseBytea")}),Gr=G((m,i)=>{U();var u=qt(),a=jt(),o=jr(),r=Wr(),t=Hr();function l(S){return h(function(L){return L===null?L:S(L)},"nullAllowed")}function y(S){return S===null?S:S==="TRUE"||S==="t"||S==="true"||S==="y"||S==="yes"||S==="on"||S==="1"}function b(S){return S?u.parse(S,y):null}function d(S){return parseInt(S,10)}function g(S){return S?u.parse(S,l(d)):null}function s(S){return S?u.parse(S,l(function(L){return T(L).trim()})):null}h(l,"allowNull"),h(y,"parseBool"),h(b,"parseBoolArray"),h(d,"parseBaseTenInt"),h(g,"parseIntegerArray"),h(s,"parseBigIntegerArray");var w=h(function(S){return S?a.create(S,function(L){return L!==null&&(L=k(L)),L}).parse():null},"parsePointArray"),p=h(function(S){return S?a.create(S,function(L){return L!==null&&(L=parseFloat(L)),L}).parse():null},"parseFloatArray"),f=h(function(S){return S?a.create(S).parse():null},"parseStringArray"),_=h(function(S){return S?a.create(S,function(L){return L!==null&&(L=o(L)),L}).parse():null},"parseDateArray"),A=h(function(S){return S?a.create(S,function(L){return L!==null&&(L=r(L)),L}).parse():null},"parseIntervalArray"),C=h(function(S){return S?u.parse(S,l(t)):null},"parseByteAArray"),v=h(function(S){return parseInt(S,10)},"parseInteger"),T=h(function(S){var L=String(S);return/^\d+$/.test(L)?L:S},"parseBigInteger"),Q=h(function(S){return S?u.parse(S,l(JSON.parse)):null},"parseJsonArray"),k=h(function(S){return S[0]!=="("?null:{x:parseFloat((S=S.substring(1,S.length-1).split(","))[0]),y:parseFloat(S[1])}},"parsePoint"),I=h(function(S){if(S[0]!=="<"&&S[1]!=="(")return null;for(var L="(",D="",H=!1,ee=2;ee<S.length-1;ee++){if(H||(L+=S[ee]),S[ee]===")"){H=!0;continue}H&&S[ee]!==","&&(D+=S[ee])}var N=k(L);return N.radius=parseFloat(D),N},"parseCircle"),R=h(function(S){S(20,T),S(21,v),S(23,v),S(26,v),S(700,parseFloat),S(701,parseFloat),S(16,y),S(1082,o),S(1114,o),S(1184,o),S(600,k),S(651,f),S(718,I),S(1e3,b),S(1001,C),S(1005,g),S(1007,g),S(1028,g),S(1016,s),S(1017,w),S(1021,p),S(1022,p),S(1231,p),S(1014,f),S(1015,f),S(1008,f),S(1009,f),S(1040,f),S(1041,f),S(1115,_),S(1182,_),S(1185,_),S(1186,r),S(1187,A),S(17,t),S(114,JSON.parse.bind(JSON)),S(3802,JSON.parse.bind(JSON)),S(199,Q),S(3807,Q),S(3907,f),S(2951,f),S(791,f),S(1183,f),S(1270,f)},"init");i.exports={init:R}}),Kr=G((m,i)=>{function u(a){var o=a.readInt32BE(0),r=a.readUInt32BE(4),t="";o<0&&(o=~o+(r===0),r=~r+1>>>0,t="-");var l,y,b,d,g,s,w="";if(l=o%1e6,o=o/1e6>>>0,r=(y=4294967296*l+r)/1e6>>>0,b=""+(y-1e6*r),r===0&&o===0)return t+b+w;for(d="",g=6-b.length,s=0;s<g;s++)d+="0";if(w=d+b+w,l=o%1e6,o=o/1e6>>>0,r=(y=4294967296*l+r)/1e6>>>0,b=""+(y-1e6*r),r===0&&o===0)return t+b+w;for(d="",g=6-b.length,s=0;s<g;s++)d+="0";if(w=d+b+w,l=o%1e6,o=o/1e6>>>0,r=(y=4294967296*l+r)/1e6>>>0,b=""+(y-1e6*r),r===0&&o===0)return t+b+w;for(d="",g=6-b.length,s=0;s<g;s++)d+="0";return w=d+b+w,t+(b=""+(y=4294967296*(l=o%1e6)+r)%1e6)+w}U(),h(u,"readInt8"),i.exports=u}),zr=G((m,i)=>{U();var u=Kr(),a=h(function(f,_,A,C,v){A=A||0,C=C||!1,v=v||function(H,ee,N){return H*Math.pow(2,N)+ee};var T=A>>3,Q=h(function(H){return C?255&~H:H},"inv"),k=255,I=8-A%8;_<I&&(k=255<<8-_&255,I=_),A&&(k>>=A%8);var R=0;A%8+_>=8&&(R=v(0,Q(f[T])&k,I));for(var S=_+A>>3,L=T+1;L<S;L++)R=v(R,Q(f[L]),8);var D=(_+A)%8;return D>0&&(R=v(R,Q(f[S])>>8-D,D)),R},"parseBits"),o=h(function(f,_,A){var C=Math.pow(2,A-1)-1,v=a(f,1),T=a(f,A,1);if(T===0)return 0;var Q=1,k=a(f,_,A+1,!1,h(function(I,R,S){I===0&&(I=1);for(var L=1;L<=S;L++)Q/=2,(R&1<<S-L)>0&&(I+=Q);return I},"parsePrecisionBits"));return T==Math.pow(2,A+1)-1?k===0?v===0?1/0:-1/0:NaN:(v===0?1:-1)*Math.pow(2,T-C)*k},"parseFloatFromBits"),r=h(function(f){return a(f,1)==1?-1*(a(f,15,1,!0)+1):a(f,15,1)},"parseInt16"),t=h(function(f){return a(f,1)==1?-1*(a(f,31,1,!0)+1):a(f,31,1)},"parseInt32"),l=h(function(f){return o(f,23,8)},"parseFloat32"),y=h(function(f){return o(f,52,11)},"parseFloat64"),b=h(function(f){var _=a(f,16,32);if(_==49152)return NaN;for(var A=Math.pow(1e4,a(f,16,16)),C=0,v=a(f,16),T=0;T<v;T++)C+=a(f,16,64+16*T)*A,A/=1e4;var Q=Math.pow(10,a(f,16,48));return(_===0?1:-1)*Math.round(C*Q)/Q},"parseNumeric"),d=h(function(f,_){var A=a(_,1),C=a(_,63,1),v=new Date((A===0?1:-1)*C/1e3+9466848e5);return f||v.setTime(v.getTime()+6e4*v.getTimezoneOffset()),v.usec=C%1e3,v.getMicroSeconds=function(){return this.usec},v.setMicroSeconds=function(T){this.usec=T},v.getUTCMicroSeconds=function(){return this.usec},v},"parseDate"),g=h(function(f){for(var _=a(f,32),A=(a(f,32,32),a(f,32,64)),C=96,v=[],T=0;T<_;T++)v[T]=a(f,32,C),C+=64;var Q=h(function(I){var R,S=a(f,32,C);return C+=32,S==4294967295?null:I==23||I==20?(R=a(f,8*S,C),C+=8*S,R):I==25?f.toString(this.encoding,C>>3,(C+=S<<3)>>3):void console.log("ERROR: ElementType not implemented: "+I)},"parseElement"),k=h(function(I,R){var S,L=[];if(I.length>1){var D=I.shift();for(S=0;S<D;S++)L[S]=k(I,R);I.unshift(D)}else for(S=0;S<I[0];S++)L[S]=Q(R);return L},"parse");return k(v,A)},"parseArray"),s=h(function(f){return f.toString("utf8")},"parseText"),w=h(function(f){return f===null?null:a(f,8)>0},"parseBool"),p=h(function(f){f(20,u),f(21,r),f(23,t),f(26,t),f(1700,b),f(700,l),f(701,y),f(16,w),f(1114,d.bind(null,!1)),f(1184,d.bind(null,!0)),f(1e3,g),f(1007,g),f(1016,g),f(1008,g),f(1009,g),f(25,s)},"init");i.exports={init:p}}),Vr=G((m,i)=>{U(),i.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}}),et=G(m=>{U();var i=Gr(),u=zr(),a=jt(),o=Vr();m.getTypeParser=l,m.setTypeParser=y,m.arrayParser=a,m.builtins=o;var r={text:{},binary:{}};function t(b){return String(b)}function l(b,d){return r[d=d||"text"]&&r[d][b]||t}function y(b,d,g){typeof d=="function"&&(g=d,d="text"),r[d][b]=g}h(t,"noParse"),h(l,"getTypeParser"),h(y,"setTypeParser"),i.init(function(b,d){r.text[b]=d}),u.init(function(b,d){r.binary[b]=d})}),mt=G((m,i)=>{U();var u=et();function a(o){this._types=o||u,this.text={},this.binary={}}h(a,"TypeOverrides"),a.prototype.getOverrides=function(o){switch(o){case"text":return this.text;case"binary":return this.binary;default:return{}}},a.prototype.setTypeParser=function(o,r,t){typeof r=="function"&&(t=r,r="text"),this.getOverrides(r)[o]=t},a.prototype.getTypeParser=function(o,r){return r=r||"text",this.getOverrides(r)[o]||this._types.getTypeParser(o,r)},i.exports=a});function Ve(m){let i=1779033703,u=3144134277,a=1013904242,o=2773480762,r=1359893119,t=2600822924,l=528734635,y=1541459225,b=0,d=0,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=h((C,v)=>C>>>v|C<<32-v,"rrot"),w=new Uint32Array(64),p=new Uint8Array(64),f=h(()=>{for(let L=0,D=0;L<16;L++,D+=4)w[L]=p[D]<<24|p[D+1]<<16|p[D+2]<<8|p[D+3];for(let L=16;L<64;L++){let D=s(w[L-15],7)^s(w[L-15],18)^w[L-15]>>>3,H=s(w[L-2],17)^s(w[L-2],19)^w[L-2]>>>10;w[L]=w[L-16]+D+w[L-7]+H|0}let C=i,v=u,T=a,Q=o,k=r,I=t,R=l,S=y;for(let L=0;L<64;L++){let D=S+(s(k,6)^s(k,11)^s(k,25))+(k&I^~k&R)+g[L]+w[L]|0,H=(s(C,2)^s(C,13)^s(C,22))+(C&v^C&T^v&T)|0;S=R,R=I,I=k,k=Q+D|0,Q=T,T=v,v=C,C=D+H|0}i=i+C|0,u=u+v|0,a=a+T|0,o=o+Q|0,r=r+k|0,t=t+I|0,l=l+R|0,y=y+S|0,d=0},"process"),_=h(C=>{typeof C=="string"&&(C=new TextEncoder().encode(C));for(let v=0;v<C.length;v++)p[d++]=C[v],d===64&&f();b+=C.length},"add"),A=h(()=>{if(p[d++]=128,d==64&&f(),d+8>64){for(;d<64;)p[d++]=0;f()}for(;d<58;)p[d++]=0;let C=8*b;p[d++]=C/1099511627776&255,p[d++]=C/4294967296&255,p[d++]=C>>>24,p[d++]=C>>>16&255,p[d++]=C>>>8&255,p[d++]=255&C,f();let v=new Uint8Array(32);return v[0]=i>>>24,v[1]=i>>>16&255,v[2]=i>>>8&255,v[3]=255&i,v[4]=u>>>24,v[5]=u>>>16&255,v[6]=u>>>8&255,v[7]=255&u,v[8]=a>>>24,v[9]=a>>>16&255,v[10]=a>>>8&255,v[11]=255&a,v[12]=o>>>24,v[13]=o>>>16&255,v[14]=o>>>8&255,v[15]=255&o,v[16]=r>>>24,v[17]=r>>>16&255,v[18]=r>>>8&255,v[19]=255&r,v[20]=t>>>24,v[21]=t>>>16&255,v[22]=t>>>8&255,v[23]=255&t,v[24]=l>>>24,v[25]=l>>>16&255,v[26]=l>>>8&255,v[27]=255&l,v[28]=y>>>24,v[29]=y>>>16&255,v[30]=y>>>8&255,v[31]=255&y,v},"digest");return m===void 0?{add:_,digest:A}:(_(m),A())}var Me,_t,Yr=ge(()=>{U(),h(Ve,"sha256")}),Zr=ge(()=>{U(),h(Me=class Ae{constructor(){M(this,"_dataLength",0),M(this,"_bufferLength",0),M(this,"_state",new Int32Array(4)),M(this,"_buffer",new ArrayBuffer(68)),M(this,"_buffer8"),M(this,"_buffer32"),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashByteArray(i,u=!1){return this.onePassHasher.start().appendByteArray(i).end(u)}static hashStr(i,u=!1){return this.onePassHasher.start().appendStr(i).end(u)}static hashAsciiStr(i,u=!1){return this.onePassHasher.start().appendAsciiStr(i).end(u)}static _hex(i){let u=Ae.hexChars,a=Ae.hexOut,o,r,t,l;for(l=0;l<4;l+=1)for(r=8*l,o=i[l],t=0;t<8;t+=2)a[r+1+t]=u.charAt(15&o),o>>>=4,a[r+0+t]=u.charAt(15&o),o>>>=4;return a.join("")}static _md5cycle(i,u){let a=i[0],o=i[1],r=i[2],t=i[3];a+=(o&r|~o&t)+u[0]-680876936|0,t+=((a=(a<<7|a>>>25)+o|0)&o|~a&r)+u[1]-389564586|0,r+=((t=(t<<12|t>>>20)+a|0)&a|~t&o)+u[2]+606105819|0,o+=((r=(r<<17|r>>>15)+t|0)&t|~r&a)+u[3]-1044525330|0,a+=((o=(o<<22|o>>>10)+r|0)&r|~o&t)+u[4]-176418897|0,t+=((a=(a<<7|a>>>25)+o|0)&o|~a&r)+u[5]+1200080426|0,r+=((t=(t<<12|t>>>20)+a|0)&a|~t&o)+u[6]-1473231341|0,o+=((r=(r<<17|r>>>15)+t|0)&t|~r&a)+u[7]-45705983|0,a+=((o=(o<<22|o>>>10)+r|0)&r|~o&t)+u[8]+1770035416|0,t+=((a=(a<<7|a>>>25)+o|0)&o|~a&r)+u[9]-1958414417|0,r+=((t=(t<<12|t>>>20)+a|0)&a|~t&o)+u[10]-42063|0,o+=((r=(r<<17|r>>>15)+t|0)&t|~r&a)+u[11]-1990404162|0,a+=((o=(o<<22|o>>>10)+r|0)&r|~o&t)+u[12]+1804603682|0,t+=((a=(a<<7|a>>>25)+o|0)&o|~a&r)+u[13]-40341101|0,r+=((t=(t<<12|t>>>20)+a|0)&a|~t&o)+u[14]-1502002290|0,o+=((r=(r<<17|r>>>15)+t|0)&t|~r&a)+u[15]+1236535329|0,a+=((o=(o<<22|o>>>10)+r|0)&t|r&~t)+u[1]-165796510|0,t+=((a=(a<<5|a>>>27)+o|0)&r|o&~r)+u[6]-1069501632|0,r+=((t=(t<<9|t>>>23)+a|0)&o|a&~o)+u[11]+643717713|0,o+=((r=(r<<14|r>>>18)+t|0)&a|t&~a)+u[0]-373897302|0,a+=((o=(o<<20|o>>>12)+r|0)&t|r&~t)+u[5]-701558691|0,t+=((a=(a<<5|a>>>27)+o|0)&r|o&~r)+u[10]+38016083|0,r+=((t=(t<<9|t>>>23)+a|0)&o|a&~o)+u[15]-660478335|0,o+=((r=(r<<14|r>>>18)+t|0)&a|t&~a)+u[4]-405537848|0,a+=((o=(o<<20|o>>>12)+r|0)&t|r&~t)+u[9]+568446438|0,t+=((a=(a<<5|a>>>27)+o|0)&r|o&~r)+u[14]-1019803690|0,r+=((t=(t<<9|t>>>23)+a|0)&o|a&~o)+u[3]-187363961|0,o+=((r=(r<<14|r>>>18)+t|0)&a|t&~a)+u[8]+1163531501|0,a+=((o=(o<<20|o>>>12)+r|0)&t|r&~t)+u[13]-1444681467|0,t+=((a=(a<<5|a>>>27)+o|0)&r|o&~r)+u[2]-51403784|0,r+=((t=(t<<9|t>>>23)+a|0)&o|a&~o)+u[7]+1735328473|0,o+=((r=(r<<14|r>>>18)+t|0)&a|t&~a)+u[12]-1926607734|0,a+=((o=(o<<20|o>>>12)+r|0)^r^t)+u[5]-378558|0,t+=((a=(a<<4|a>>>28)+o|0)^o^r)+u[8]-2022574463|0,r+=((t=(t<<11|t>>>21)+a|0)^a^o)+u[11]+1839030562|0,o+=((r=(r<<16|r>>>16)+t|0)^t^a)+u[14]-35309556|0,a+=((o=(o<<23|o>>>9)+r|0)^r^t)+u[1]-1530992060|0,t+=((a=(a<<4|a>>>28)+o|0)^o^r)+u[4]+1272893353|0,r+=((t=(t<<11|t>>>21)+a|0)^a^o)+u[7]-155497632|0,o+=((r=(r<<16|r>>>16)+t|0)^t^a)+u[10]-1094730640|0,a+=((o=(o<<23|o>>>9)+r|0)^r^t)+u[13]+681279174|0,t+=((a=(a<<4|a>>>28)+o|0)^o^r)+u[0]-358537222|0,r+=((t=(t<<11|t>>>21)+a|0)^a^o)+u[3]-722521979|0,o+=((r=(r<<16|r>>>16)+t|0)^t^a)+u[6]+76029189|0,a+=((o=(o<<23|o>>>9)+r|0)^r^t)+u[9]-640364487|0,t+=((a=(a<<4|a>>>28)+o|0)^o^r)+u[12]-421815835|0,r+=((t=(t<<11|t>>>21)+a|0)^a^o)+u[15]+530742520|0,o+=((r=(r<<16|r>>>16)+t|0)^t^a)+u[2]-995338651|0,o=(o<<23|o>>>9)+r|0,a+=(r^(o|~t))+u[0]-198630844|0,a=(a<<6|a>>>26)+o|0,t+=(o^(a|~r))+u[7]+1126891415|0,t=(t<<10|t>>>22)+a|0,r+=(a^(t|~o))+u[14]-1416354905|0,r=(r<<15|r>>>17)+t|0,o+=(t^(r|~a))+u[5]-57434055|0,o=(o<<21|o>>>11)+r|0,a+=(r^(o|~t))+u[12]+1700485571|0,a=(a<<6|a>>>26)+o|0,t+=(o^(a|~r))+u[3]-1894986606|0,t=(t<<10|t>>>22)+a|0,r+=(a^(t|~o))+u[10]-1051523|0,r=(r<<15|r>>>17)+t|0,o+=(t^(r|~a))+u[1]-2054922799|0,o=(o<<21|o>>>11)+r|0,a+=(r^(o|~t))+u[8]+1873313359|0,a=(a<<6|a>>>26)+o|0,t+=(o^(a|~r))+u[15]-30611744|0,t=(t<<10|t>>>22)+a|0,r+=(a^(t|~o))+u[6]-1560198380|0,r=(r<<15|r>>>17)+t|0,o+=(t^(r|~a))+u[13]+1309151649|0,o=(o<<21|o>>>11)+r|0,a+=(r^(o|~t))+u[4]-145523070|0,a=(a<<6|a>>>26)+o|0,t+=(o^(a|~r))+u[11]-1120210379|0,t=(t<<10|t>>>22)+a|0,r+=(a^(t|~o))+u[2]+718787259|0,r=(r<<15|r>>>17)+t|0,o+=(t^(r|~a))+u[9]-343485551|0,o=(o<<21|o>>>11)+r|0,i[0]=a+i[0]|0,i[1]=o+i[1]|0,i[2]=r+i[2]|0,i[3]=t+i[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(Ae.stateIdentity),this}appendStr(i){let u=this._buffer8,a=this._buffer32,o=this._bufferLength,r,t;for(t=0;t<i.length;t+=1){if((r=i.charCodeAt(t))<128)u[o++]=r;else if(r<2048)u[o++]=(r>>>6)+192,u[o++]=63&r|128;else if(r<55296||r>56319)u[o++]=(r>>>12)+224,u[o++]=r>>>6&63|128,u[o++]=63&r|128;else{if((r=(r-55296)*1024+(i.charCodeAt(++t)-56320)+65536)>1114111)throw Error("Unicode standard supports code points up to U+10FFFF");u[o++]=(r>>>18)+240,u[o++]=r>>>12&63|128,u[o++]=r>>>6&63|128,u[o++]=63&r|128}o>=64&&(this._dataLength+=64,Ae._md5cycle(this._state,a),o-=64,a[0]=a[16])}return this._bufferLength=o,this}appendAsciiStr(i){let u=this._buffer8,a=this._buffer32,o=this._bufferLength,r,t=0;for(;;){for(r=Math.min(i.length-t,64-o);r--;)u[o++]=i.charCodeAt(t++);if(o<64)break;this._dataLength+=64,Ae._md5cycle(this._state,a),o=0}return this._bufferLength=o,this}appendByteArray(i){let u=this._buffer8,a=this._buffer32,o=this._bufferLength,r,t=0;for(;;){for(r=Math.min(i.length-t,64-o);r--;)u[o++]=i[t++];if(o<64)break;this._dataLength+=64,Ae._md5cycle(this._state,a),o=0}return this._bufferLength=o,this}getState(){let i=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[i[0],i[1],i[2],i[3]]}}setState(i){let u=i.buffer,a=i.state,o=this._state,r;for(this._dataLength=i.length,this._bufferLength=i.buflen,o[0]=a[0],o[1]=a[1],o[2]=a[2],o[3]=a[3],r=0;r<u.length;r+=1)this._buffer8[r]=u.charCodeAt(r)}end(i=!1){let u=this._bufferLength,a=this._buffer8,o=this._buffer32,r=(u>>2)+1;this._dataLength+=u;let t=8*this._dataLength;if(a[u]=128,a[u+1]=a[u+2]=a[u+3]=0,o.set(Ae.buffer32Identity.subarray(r),r),u>55&&(Ae._md5cycle(this._state,o),o.set(Ae.buffer32Identity)),t<=4294967295)o[14]=t;else{let l=t.toString(16).match(/(.*?)(.{0,8})$/);if(l===null)return;let y=parseInt(l[2],16),b=parseInt(l[1],16)||0;o[14]=y,o[15]=b}return Ae._md5cycle(this._state,o),i?this._state:Ae._hex(this._state)}},"Md5"),M(Me,"stateIdentity",new Int32Array([1732584193,-271733879,-1732584194,271733878])),M(Me,"buffer32Identity",new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),M(Me,"hexChars","0123456789abcdef"),M(Me,"hexOut",[]),M(Me,"onePassHasher",new Me),_t=Me}),bt={};function $t(m){return crypto.getRandomValues(F.alloc(m))}function Wt(m){if(m==="sha256")return{update:h(function(i){return{digest:h(function(){return F.from(Ve(i))},"digest")}},"update")};if(m==="md5")return{update:h(function(i){return{digest:h(function(){return typeof i=="string"?_t.hashStr(i):_t.hashByteArray(i)},"digest")}},"update")};throw Error(`Hash type '${m}' not supported`)}function Ht(m,i){if(m!=="sha256")throw Error(`Only sha256 is supported (requested: '${m}')`);return{update:h(function(u){return{digest:h(function(){typeof i=="string"&&(i=new TextEncoder().encode(i)),typeof u=="string"&&(u=new TextEncoder().encode(u));let a=i.length;if(a>64)i=Ve(i);else if(a<64){let y=new Uint8Array(64);y.set(i),i=y}let o=new Uint8Array(64),r=new Uint8Array(64);for(let y=0;y<64;y++)o[y]=54^i[y],r[y]=92^i[y];let t=new Uint8Array(u.length+64);t.set(o,0),t.set(u,64);let l=new Uint8Array(96);return l.set(r,0),l.set(Ve(t),64),F.from(Ve(l))},"digest")}},"update")}}ve(bt,{createHash:()=>Wt,createHmac:()=>Ht,randomBytes:()=>$t});var Gt=ge(()=>{U(),Yr(),Zr(),h($t,"randomBytes"),h(Wt,"createHash"),h(Ht,"createHmac")}),tt=G((m,i)=>{U(),i.exports={host:"localhost",user:j.platform==="win32"?j.env.USERNAME:j.env.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var u=et(),a=u.getTypeParser(20,"text"),o=u.getTypeParser(1016,"text");i.exports.__defineSetter__("parseInt8",function(r){u.setTypeParser(20,"text",r?u.getTypeParser(23,"text"):a),u.setTypeParser(1016,"text",r?u.getTypeParser(1007,"text"):o)})}),rt=G((m,i)=>{U();var u=(Gt(),z(bt)),a=tt();function o(p){return'"'+p.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'}function r(p){for(var f="{",_=0;_<p.length;_++)_>0&&(f+=","),p[_]===null||typeof p[_]>"u"?f+="NULL":Array.isArray(p[_])?f+=r(p[_]):p[_]instanceof F?f+="\\\\x"+p[_].toString("hex"):f+=o(t(p[_]));return f+"}"}h(o,"escapeElement"),h(r,"arrayString");var t=h(function(p,f){if(p==null)return null;if(p instanceof F)return p;if(ArrayBuffer.isView(p)){var _=F.from(p.buffer,p.byteOffset,p.byteLength);return _.length===p.byteLength?_:_.slice(p.byteOffset,p.byteOffset+p.byteLength)}return p instanceof Date?a.parseInputDatesAsUTC?d(p):b(p):Array.isArray(p)?r(p):typeof p=="object"?l(p,f):p.toString()},"prepareValue");function l(p,f){if(p&&typeof p.toPostgres=="function"){if((f=f||[]).indexOf(p)!==-1)throw Error('circular reference detected while preparing "'+p+'" for query');return f.push(p),t(p.toPostgres(t),f)}return JSON.stringify(p)}function y(p,f){for(p=""+p;p.length<f;)p="0"+p;return p}function b(p){var f=-p.getTimezoneOffset(),_=p.getFullYear(),A=_<1;A&&(_=Math.abs(_)+1);var C=y(_,4)+"-"+y(p.getMonth()+1,2)+"-"+y(p.getDate(),2)+"T"+y(p.getHours(),2)+":"+y(p.getMinutes(),2)+":"+y(p.getSeconds(),2)+"."+y(p.getMilliseconds(),3);return f<0?(C+="-",f*=-1):C+="+",C+=y(Math.floor(f/60),2)+":"+y(f%60,2),A&&(C+=" BC"),C}function d(p){var f=p.getUTCFullYear(),_=f<1;_&&(f=Math.abs(f)+1);var A=y(f,4)+"-"+y(p.getUTCMonth()+1,2)+"-"+y(p.getUTCDate(),2)+"T"+y(p.getUTCHours(),2)+":"+y(p.getUTCMinutes(),2)+":"+y(p.getUTCSeconds(),2)+"."+y(p.getUTCMilliseconds(),3);return A+="+00:00",_&&(A+=" BC"),A}function g(p,f,_){return p=typeof p=="string"?{text:p}:p,f&&(typeof f=="function"?p.callback=f:p.values=f),_&&(p.callback=_),p}h(l,"prepareObject"),h(y,"pad"),h(b,"dateToString"),h(d,"dateToStringUTC"),h(g,"normalizeQueryConfig");var s=h(function(p){return u.createHash("md5").update(p,"utf-8").digest("hex")},"md5"),w=h(function(p,f,_){var A=s(f+p);return"md5"+s(F.concat([F.from(A),_]))},"postgresMd5PasswordHash");i.exports={prepareValue:h(function(p){return t(p)},"prepareValueWrapper"),normalizeQueryConfig:g,postgresMd5PasswordHash:w,md5:s}}),Ye={};ve(Ye,{default:()=>Kt});var Kt,nt=ge(()=>{U(),Kt={}}),Jr=G((m,i)=>{U();var u=(Gt(),z(bt));function a(f){if(f.indexOf("SCRAM-SHA-256")===-1)throw Error("SASL: Only mechanism SCRAM-SHA-256 is currently supported");let _=u.randomBytes(18).toString("base64");return{mechanism:"SCRAM-SHA-256",clientNonce:_,response:"n,,n=*,r="+_,message:"SASLInitialResponse"}}function o(f,_,A){if(f.message!=="SASLInitialResponse")throw Error("SASL: Last message was not SASLInitialResponse");if(typeof _!="string")throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");if(typeof A!="string")throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");let C=b(A);if(C.nonce.startsWith(f.clientNonce)){if(C.nonce.length===f.clientNonce.length)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");var v=p(_,F.from(C.salt,"base64"),C.iteration),T=w(v,"Client Key"),Q=s(T),k="n=*,r="+f.clientNonce,I="r="+C.nonce+",s="+C.salt+",i="+C.iteration,R="c=biws,r="+C.nonce,S=k+","+I+","+R,L=g(T,w(Q,S)).toString("base64"),D=w(v,"Server Key"),H=w(D,S);f.message="SASLResponse",f.serverSignature=H.toString("base64"),f.response=R+",p="+L}function r(f,_){if(f.message!=="SASLResponse")throw Error("SASL: Last message was not SASLResponse");if(typeof _!="string")throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");let{serverSignature:A}=d(_);if(A!==f.serverSignature)throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}function t(f){if(typeof f!="string")throw TypeError("SASL: text must be a string");return f.split("").map((_,A)=>f.charCodeAt(A)).every(_=>_>=33&&_<=43||_>=45&&_<=126)}function l(f){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(f)}function y(f){if(typeof f!="string")throw TypeError("SASL: attribute pairs text must be a string");return new Map(f.split(",").map(_=>{if(!/^.=/.test(_))throw Error("SASL: Invalid attribute pair entry");return[_[0],_.substring(2)]}))}function b(f){let _=y(f),A=_.get("r");if(A){if(!t(A))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");let C=_.get("s");if(C){if(!l(C))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");let v=_.get("i");if(v){if(!/^[1-9][0-9]*$/.test(v))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");return{nonce:A,salt:C,iteration:parseInt(v,10)}}function d(f){let _=y(f).get("v");if(_){if(!l(_))throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64")}else throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");return{serverSignature:_}}function g(f,_){if(!F.isBuffer(f))throw TypeError("first argument must be a Buffer");if(!F.isBuffer(_))throw TypeError("second argument must be a Buffer");if(f.length!==_.length)throw Error("Buffer lengths must match");if(f.length===0)throw Error("Buffers cannot be empty");return F.from(f.map((A,C)=>f[C]^_[C]))}function s(f){return u.createHash("sha256").update(f).digest()}function w(f,_){return u.createHmac("sha256",f).update(_).digest()}function p(f,_,A){for(var C=w(f,F.concat([_,F.from([0,0,0,1])])),v=C,T=0;T<A-1;T++)v=g(v,C=w(f,C));return v}h(a,"startSession"),h(o,"continueSession"),h(r,"finalizeSession"),h(t,"isPrintableChars"),h(l,"isBase64"),h(y,"parseAttributePairs"),h(b,"parseServerFirstMessage"),h(d,"parseServerFinalMessage"),h(g,"xorBuffers"),h(s,"sha256"),h(w,"hmacSha256"),h(p,"Hi"),i.exports={startSession:a,continueSession:o,finalizeSession:r}}),wt={};function zt(...m){return m.join("/")}ve(wt,{join:()=>zt});var Vt=ge(()=>{U(),h(zt,"join")}),vt={};function Yt(m,i){i(Error("No filesystem"))}ve(vt,{stat:()=>Yt});var Zt=ge(()=>{U(),h(Yt,"stat")}),Et={};ve(Et,{default:()=>Jt});var Jt,Xt=ge(()=>{U(),Jt={}}),er={};ve(er,{StringDecoder:()=>rr});var tr,rr,Xr=ge(()=>{U(),h(tr=class{constructor(m){M(this,"td"),this.td=new TextDecoder(m)}write(m){return this.td.decode(m,{stream:!0})}end(m){return this.td.decode(m)}},"StringDecoder"),rr=tr}),en=G((m,i)=>{U();var{Transform:u}=(Xt(),z(Et)),{StringDecoder:a}=(Xr(),z(er)),o=Symbol("last"),r=Symbol("decoder");function t(g,s,w){let p;if(this.overflow){if((p=this[r].write(g).split(this.matcher)).length===1)return w();p.shift(),this.overflow=!1}else this[o]+=this[r].write(g),p=this[o].split(this.matcher);this[o]=p.pop();for(let f=0;f<p.length;f++)try{y(this,this.mapper(p[f]))}catch(_){return w(_)}if(this.overflow=this[o].length>this.maxLength,this.overflow&&!this.skipOverflow){w(Error("maximum buffer reached"));return}w()}function l(g){if(this[o]+=this[r].end(),this[o])try{y(this,this.mapper(this[o]))}catch(s){return g(s)}g()}function y(g,s){s!==void 0&&g.push(s)}function b(g){return g}function d(g,s,w){switch(g=g||/\r?\n/,s=s||b,w=w||{},arguments.length){case 1:typeof g=="function"?(s=g,g=/\r?\n/):typeof g!="object"||g instanceof RegExp||g[Symbol.split]||(w=g,g=/\r?\n/);break;case 2:typeof g=="function"?(w=s,s=g,g=/\r?\n/):typeof s=="object"&&(w=s,s=b)}(w=Object.assign({},w)).autoDestroy=!0,w.transform=t,w.flush=l,w.readableObjectMode=!0;let p=new u(w);return p[o]="",p[r]=new a("utf8"),p.matcher=g,p.mapper=s,p.maxLength=w.maxLength,p.skipOverflow=w.skipOverflow||!1,p.overflow=!1,p._destroy=function(f,_){this._writableState.errorEmitted=!1,_(f)},p}h(t,"transform"),h(l,"flush"),h(y,"push"),h(b,"noop"),h(d,"split"),i.exports=d}),tn=G((m,i)=>{U();var u=(Vt(),z(wt)),a=(Xt(),z(Et)).Stream,o=en(),r=(nt(),z(Ye)),t=j.platform==="win32",l=j.stderr;function y(_){return(61440&_)==32768}h(y,"isRegFile");var b=["host","port","database","user","password"],d=b.length,g=b[d-1];function s(){if(l instanceof a&&l.writable===!0){var _=Array.prototype.slice.call(arguments).concat(`
`);l.write(r.format.apply(r,_))}}h(s,"warn"),Object.defineProperty(i.exports,"isWin",{get:h(function(){return t},"get"),set:h(function(_){t=_},"set")}),i.exports.warnTo=function(_){var A=l;return l=_,A},i.exports.getFileName=function(_){var A=_||j.env;return A.PGPASSFILE||(t?u.join(A.APPDATA||"./","postgresql","pgpass.conf"):u.join(A.HOME||"./",".pgpass"))},i.exports.usePgPass=function(_,A){return!Object.prototype.hasOwnProperty.call(j.env,"PGPASSWORD")&&(!!t||(A=A||"<unkn>",y(_.mode)?!(63&_.mode)||(s('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',A),!1):(s('WARNING: password file "%s" is not a plain file',A),!1)))};var w=i.exports.match=function(_,A){return b.slice(0,-1).reduce(function(C,v,T){return T==1&&Number(_[v]||5432)===Number(A[v])?C&&!0:C&&(A[v]==="*"||A[v]===_[v])},!0)};i.exports.getPassword=function(_,A,C){var v,T=A.pipe(o());function Q(R){var S=p(R);S&&f(S)&&w(_,S)&&(v=S[g],T.end())}h(Q,"onLine");var k=h(function(){A.destroy(),C(v)},"onEnd"),I=h(function(R){A.destroy(),s("WARNING: error on reading file: %s",R),C(void 0)},"onErr");A.on("error",I),T.on("data",Q).on("end",k).on("error",I)};var p=i.exports.parseLine=function(_){if(_.length<11||_.match(/^\s+#/))return null;for(var A="",C="",v=0,T=0,Q={},k=h(function(R,S,L){var D=_.substring(S,L);Object.hasOwnProperty.call(j.env,"PGPASS_NO_DEESCAPE")||(D=D.replace(/\\([:\\])/g,"$1")),Q[b[R]]=D},"addToObj"),I=0;I<_.length-1;I+=1){if(A=_.charAt(I+1),C=_.charAt(I),v==d-1){k(v,T);break}I>=0&&A==":"&&C!=="\\"&&(k(v,T,I+1),T=I+2,v+=1)}return Q=Object.keys(Q).length===d?Q:null},f=i.exports.isValidEntry=function(_){for(var A={0:function(v){return v.length>0},1:function(v){return v==="*"||isFinite(v=Number(v))&&v>0&&v<9007199254740992&&Math.floor(v)===v},2:function(v){return v.length>0},3:function(v){return v.length>0},4:function(v){return v.length>0}},C=0;C<b.length;C+=1)if(!(0,A[C])(_[b[C]]||""))return!1;return!0}}),rn=G((m,i)=>{U(),Vt(),z(wt);var u=(Zt(),z(vt)),a=tn();i.exports=function(o,r){var t=a.getFileName();u.stat(t,function(l,y){if(l||!a.usePgPass(y,t))return r(void 0);var b=u.createReadStream(t);a.getPassword(o,b,r)})},i.exports.warnTo=a.warnTo}),nr={};ve(nr,{default:()=>sr});var sr,nn=ge(()=>{U(),sr={}}),sn=G((m,i)=>{U();var u=(Qt(),z(Ft)),a=(Zt(),z(vt));function o(r){if(r.charAt(0)==="/"){var l=r.split(" ");return{host:l[0],database:l[1]}}var t=u.parse(/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(r)?encodeURI(r).replace(/\%25(\d\d)/g,"%$1"):r,!0),l=t.query;for(var y in l)Array.isArray(l[y])&&(l[y]=l[y][l[y].length-1]);var b=(t.auth||":").split(":");if(l.user=b[0],l.password=b.splice(1).join(":"),l.port=t.port,t.protocol=="socket:")return l.host=decodeURI(t.pathname),l.database=t.query.db,l.client_encoding=t.query.encoding,l;l.host||(l.host=t.hostname);var d=t.pathname;if(!l.host&&d&&/^%2f/i.test(d)){var g=d.split("/");l.host=decodeURIComponent(g[0]),d=g.splice(1).join("/")}switch(d&&d.charAt(0)==="/"&&(d=d.slice(1)||null),l.database=d&&decodeURI(d),(l.ssl==="true"||l.ssl==="1")&&(l.ssl=!0),l.ssl==="0"&&(l.ssl=!1),(l.sslcert||l.sslkey||l.sslrootcert||l.sslmode)&&(l.ssl={}),l.sslcert&&(l.ssl.cert=a.readFileSync(l.sslcert).toString()),l.sslkey&&(l.ssl.key=a.readFileSync(l.sslkey).toString()),l.sslrootcert&&(l.ssl.ca=a.readFileSync(l.sslrootcert).toString()),l.sslmode){case"disable":l.ssl=!1;break;case"prefer":case"require":case"verify-ca":case"verify-full":break;case"no-verify":l.ssl.rejectUnauthorized=!1}return l}h(o,"parse"),i.exports=o,o.parse=o}),St=G((m,i)=>{U();var u=(nn(),z(nr)),a=tt(),o=sn().parse,r=h(function(d,g,s){return s===void 0?s=j.env["PG"+d.toUpperCase()]:s===!1||(s=j.env[s]),g[d]||s||a[d]},"val"),t=h(function(){switch(j.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return a.ssl},"readSSLConfigFromEnvironment"),l=h(function(d){return"'"+(""+d).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},"quoteParamValue"),y=h(function(d,g,s){var w=g[s];w!=null&&d.push(s+"="+l(w))},"add"),b=class{constructor(d){(d=typeof d=="string"?o(d):d||{}).connectionString&&(d=Object.assign({},d,o(d.connectionString))),this.user=r("user",d),this.database=r("database",d),this.database===void 0&&(this.database=this.user),this.port=parseInt(r("port",d),10),this.host=r("host",d),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:r("password",d)}),this.binary=r("binary",d),this.options=r("options",d),this.ssl=typeof d.ssl>"u"?t():d.ssl,typeof this.ssl=="string"&&this.ssl==="true"&&(this.ssl=!0),this.ssl==="no-verify"&&(this.ssl={rejectUnauthorized:!1}),this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this.client_encoding=r("client_encoding",d),this.replication=r("replication",d),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=r("application_name",d,"PGAPPNAME"),this.fallback_application_name=r("fallback_application_name",d,!1),this.statement_timeout=r("statement_timeout",d,!1),this.lock_timeout=r("lock_timeout",d,!1),this.idle_in_transaction_session_timeout=r("idle_in_transaction_session_timeout",d,!1),this.query_timeout=r("query_timeout",d,!1),d.connectionTimeoutMillis===void 0?this.connect_timeout=j.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(d.connectionTimeoutMillis/1e3),d.keepAlive===!1?this.keepalives=0:d.keepAlive===!0&&(this.keepalives=1),typeof d.keepAliveInitialDelayMillis=="number"&&(this.keepalives_idle=Math.floor(d.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(d){var g=[];y(g,this,"user"),y(g,this,"password"),y(g,this,"port"),y(g,this,"application_name"),y(g,this,"fallback_application_name"),y(g,this,"connect_timeout"),y(g,this,"options");var s=typeof this.ssl=="object"?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(y(g,s,"sslmode"),y(g,s,"sslca"),y(g,s,"sslkey"),y(g,s,"sslcert"),y(g,s,"sslrootcert"),this.database&&g.push("dbname="+l(this.database)),this.replication&&g.push("replication="+l(this.replication)),this.host&&g.push("host="+l(this.host)),this.isDomainSocket)return d(null,g.join(" "));this.client_encoding&&g.push("client_encoding="+l(this.client_encoding)),u.lookup(this.host,function(w,p){return w?d(w,null):(g.push("hostaddr="+l(p)),d(null,g.join(" ")))})}};h(b,"ConnectionParameters"),i.exports=b}),on=G((m,i)=>{U();var u=et(),a=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/,o=class{constructor(r,t){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=t,this.RowCtor=null,this.rowAsArray=r==="array",this.rowAsArray&&(this.parseRow=this._parseRowAsArray)}addCommandComplete(r){var t;(t=r.text?a.exec(r.text):a.exec(r.command))&&(this.command=t[1],t[3]?(this.oid=parseInt(t[2],10),this.rowCount=parseInt(t[3],10)):t[2]&&(this.rowCount=parseInt(t[2],10)))}_parseRowAsArray(r){for(var t=Array(r.length),l=0,y=r.length;l<y;l++){var b=r[l];b!==null?t[l]=this._parsers[l](b):t[l]=null}return t}parseRow(r){for(var t={},l=0,y=r.length;l<y;l++){var b=r[l],d=this.fields[l].name;b!==null?t[d]=this._parsers[l](b):t[d]=null}return t}addRow(r){this.rows.push(r)}addFields(r){this.fields=r,this.fields.length&&(this._parsers=Array(r.length));for(var t=0;t<r.length;t++){var l=r[t];this._types?this._parsers[t]=this._types.getTypeParser(l.dataTypeID,l.format||"text"):this._parsers[t]=u.getTypeParser(l.dataTypeID,l.format||"text")}}};h(o,"Result"),i.exports=o}),an=G((m,i)=>{U();var{EventEmitter:u}=be(),a=on(),o=rt(),r=class extends u{constructor(t,l,y){super(),t=o.normalizeQueryConfig(t,l,y),this.text=t.text,this.values=t.values,this.rows=t.rows,this.types=t.types,this.name=t.name,this.binary=t.binary,this.portal=t.portal||"",this.callback=t.callback,this._rowMode=t.rowMode,j.domain&&t.callback&&(this.callback=j.domain.bind(t.callback)),this._result=new a(this._rowMode,this.types),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=!1,this._promise=null}requiresPreparation(){return!!this.name||!!this.rows||!!this.text&&!!this.values&&this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new a(this._rowMode,this.types),this._results.push(this._result))}handleRowDescription(t){this._checkForMultirow(),this._result.addFields(t.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(t){let l;if(!this._canceledDueToError){try{l=this._result.parseRow(t.fields)}catch(y){this._canceledDueToError=y;return}this.emit("row",l,this._result),this._accumulateRows&&this._result.addRow(l)}}handleCommandComplete(t,l){this._checkForMultirow(),this._result.addCommandComplete(t),this.rows&&l.sync()}handleEmptyQuery(t){this.rows&&t.sync()}handleError(t,l){if(this._canceledDueToError&&(t=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(t);this.emit("error",t)}handleReadyForQuery(t){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,t);if(this.callback)try{this.callback(null,this._results)}catch(l){j.nextTick(()=>{throw l})}this.emit("end",this._results)}submit(t){if(typeof this.text!="string"&&typeof this.name!="string")return Error("A query must have either text or a name. Supplying neither is unsupported.");let l=t.parsedStatements[this.name];return this.text&&l&&this.text!==l?Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`):this.values&&!Array.isArray(this.values)?Error("Query values must be an array"):(this.requiresPreparation()?this.prepare(t):t.query(this.text),null)}hasBeenParsed(t){return this.name&&t.parsedStatements[this.name]}handlePortalSuspended(t){this._getRows(t,this.rows)}_getRows(t,l){t.execute({portal:this.portal,rows:l}),l?t.flush():t.sync()}prepare(t){this.isPreparedStatement=!0,this.hasBeenParsed(t)||t.parse({text:this.text,name:this.name,types:this.types});try{t.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary,valueMapper:o.prepareValue})}catch(l){this.handleError(l,t);return}t.describe({type:"P",name:this.portal||""}),this._getRows(t,this.rows)}handleCopyInResponse(t){t.sendCopyFail("No source stream defined")}handleCopyData(t,l){}};h(r,"Query"),i.exports=r}),ir=G(m=>{U(),Object.defineProperty(m,"__esModule",{value:!0}),m.NoticeMessage=m.DataRowMessage=m.CommandCompleteMessage=m.ReadyForQueryMessage=m.NotificationResponseMessage=m.BackendKeyDataMessage=m.AuthenticationMD5Password=m.ParameterStatusMessage=m.ParameterDescriptionMessage=m.RowDescriptionMessage=m.Field=m.CopyResponse=m.CopyDataMessage=m.DatabaseError=m.copyDone=m.emptyQuery=m.replicationStart=m.portalSuspended=m.noData=m.closeComplete=m.bindComplete=m.parseComplete=void 0,m.parseComplete={name:"parseComplete",length:5},m.bindComplete={name:"bindComplete",length:5},m.closeComplete={name:"closeComplete",length:5},m.noData={name:"noData",length:5},m.portalSuspended={name:"portalSuspended",length:5},m.replicationStart={name:"replicationStart",length:4},m.emptyQuery={name:"emptyQuery",length:4},m.copyDone={name:"copyDone",length:4};var i=class extends Error{constructor(f,_,A){super(f),this.length=_,this.name=A}};h(i,"DatabaseError"),m.DatabaseError=i;var u=class{constructor(f,_){this.length=f,this.chunk=_,this.name="copyData"}};h(u,"CopyDataMessage"),m.CopyDataMessage=u;var a=class{constructor(f,_,A,C){this.length=f,this.name=_,this.binary=A,this.columnTypes=Array(C)}};h(a,"CopyResponse"),m.CopyResponse=a;var o=class{constructor(f,_,A,C,v,T,Q){this.name=f,this.tableID=_,this.columnID=A,this.dataTypeID=C,this.dataTypeSize=v,this.dataTypeModifier=T,this.format=Q}};h(o,"Field"),m.Field=o;var r=class{constructor(f,_){this.length=f,this.fieldCount=_,this.name="rowDescription",this.fields=Array(this.fieldCount)}};h(r,"RowDescriptionMessage"),m.RowDescriptionMessage=r;var t=class{constructor(f,_){this.length=f,this.parameterCount=_,this.name="parameterDescription",this.dataTypeIDs=Array(this.parameterCount)}};h(t,"ParameterDescriptionMessage"),m.ParameterDescriptionMessage=t;var l=class{constructor(f,_,A){this.length=f,this.parameterName=_,this.parameterValue=A,this.name="parameterStatus"}};h(l,"ParameterStatusMessage"),m.ParameterStatusMessage=l;var y=class{constructor(f,_){this.length=f,this.salt=_,this.name="authenticationMD5Password"}};h(y,"AuthenticationMD5Password"),m.AuthenticationMD5Password=y;var b=class{constructor(f,_,A){this.length=f,this.processID=_,this.secretKey=A,this.name="backendKeyData"}};h(b,"BackendKeyDataMessage"),m.BackendKeyDataMessage=b;var d=class{constructor(f,_,A,C){this.length=f,this.processId=_,this.channel=A,this.payload=C,this.name="notification"}};h(d,"NotificationResponseMessage"),m.NotificationResponseMessage=d;var g=class{constructor(f,_){this.length=f,this.status=_,this.name="readyForQuery"}};h(g,"ReadyForQueryMessage"),m.ReadyForQueryMessage=g;var s=class{constructor(f,_){this.length=f,this.text=_,this.name="commandComplete"}};h(s,"CommandCompleteMessage"),m.CommandCompleteMessage=s;var w=class{constructor(f,_){this.length=f,this.fields=_,this.name="dataRow",this.fieldCount=_.length}};h(w,"DataRowMessage"),m.DataRowMessage=w;var p=class{constructor(f,_){this.length=f,this.message=_,this.name="notice"}};h(p,"NoticeMessage"),m.NoticeMessage=p}),un=G(m=>{U(),Object.defineProperty(m,"__esModule",{value:!0}),m.Writer=void 0;var i=class{constructor(u=256){this.size=u,this.offset=5,this.headerPosition=0,this.buffer=F.allocUnsafe(u)}ensure(u){if(this.buffer.length-this.offset<u){let a=this.buffer,o=a.length+(a.length>>1)+u;this.buffer=F.allocUnsafe(o),a.copy(this.buffer)}}addInt32(u){return this.ensure(4),this.buffer[this.offset++]=u>>>24&255,this.buffer[this.offset++]=u>>>16&255,this.buffer[this.offset++]=u>>>8&255,this.buffer[this.offset++]=u>>>0&255,this}addInt16(u){return this.ensure(2),this.buffer[this.offset++]=u>>>8&255,this.buffer[this.offset++]=u>>>0&255,this}addCString(u){if(u){let a=F.byteLength(u);this.ensure(a+1),this.buffer.write(u,this.offset,"utf-8"),this.offset+=a}else this.ensure(1);return this.buffer[this.offset++]=0,this}addString(u=""){let a=F.byteLength(u);return this.ensure(a),this.buffer.write(u,this.offset),this.offset+=a,this}add(u){return this.ensure(u.length),u.copy(this.buffer,this.offset),this.offset+=u.length,this}join(u){if(u){this.buffer[this.headerPosition]=u;let a=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(a,this.headerPosition+1)}return this.buffer.slice(u?0:5,this.offset)}flush(u){let a=this.join(u);return this.offset=5,this.headerPosition=0,this.buffer=F.allocUnsafe(this.size),a}};h(i,"Writer"),m.Writer=i}),cn=G(m=>{U(),Object.defineProperty(m,"__esModule",{value:!0}),m.serialize=void 0;var i=un(),u=new i.Writer,a=h(N=>{for(let X of(u.addInt16(3).addInt16(0),Object.keys(N)))u.addCString(X).addCString(N[X]);u.addCString("client_encoding").addCString("UTF8");let te=u.addCString("").flush(),Y=te.length+4;return new i.Writer().addInt32(Y).add(te).flush()},"startup"),o=h(()=>{let N=F.allocUnsafe(8);return N.writeInt32BE(8,0),N.writeInt32BE(80877103,4),N},"requestSsl"),r=h(N=>u.addCString(N).flush(112),"password"),t=h(function(N,te){return u.addCString(N).addInt32(F.byteLength(te)).addString(te),u.flush(112)},"sendSASLInitialResponseMessage"),l=h(function(N){return u.addString(N).flush(112)},"sendSCRAMClientFinalMessage"),y=h(N=>u.addCString(N).flush(81),"query"),b=[],d=h(N=>{let te=N.name||"";te.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",te,te.length),console.error("This can cause conflicts and silent errors executing queries"));let Y=N.types||b,X=Y.length,he=u.addCString(te).addCString(N.text).addInt16(X);for(let $=0;$<X;$++)he.addInt32(Y[$]);return u.flush(80)},"parse"),g=new i.Writer,s=h(function(N,te){for(let Y=0;Y<N.length;Y++){let X=te?te(N[Y],Y):N[Y];X==null?(u.addInt16(0),g.addInt32(-1)):X instanceof F?(u.addInt16(1),g.addInt32(X.length),g.add(X)):(u.addInt16(0),g.addInt32(F.byteLength(X)),g.addString(X))}},"writeValues"),w=h((N={})=>{let te=N.portal||"",Y=N.statement||"",X=N.binary||!1,he=N.values||b,$=he.length;return u.addCString(te).addCString(Y),u.addInt16($),s(he,N.valueMapper),u.addInt16($),u.add(g.flush()),u.addInt16(X?1:0),u.flush(66)},"bind"),p=F.from([69,0,0,0,9,0,0,0,0,0]),f=h(N=>{if(!N||!N.portal&&!N.rows)return p;let te=N.portal||"",Y=N.rows||0,X=F.byteLength(te),he=4+X+1+4,$=F.allocUnsafe(1+he);return $[0]=69,$.writeInt32BE(he,1),$.write(te,5,"utf-8"),$[X+5]=0,$.writeUInt32BE(Y,$.length-4),$},"execute"),_=h((N,te)=>{let Y=F.allocUnsafe(16);return Y.writeInt32BE(16,0),Y.writeInt16BE(1234,4),Y.writeInt16BE(5678,6),Y.writeInt32BE(N,8),Y.writeInt32BE(te,12),Y},"cancel"),A=h((N,te)=>{let Y=4+F.byteLength(te)+1,X=F.allocUnsafe(1+Y);return X[0]=N,X.writeInt32BE(Y,1),X.write(te,5,"utf-8"),X[Y]=0,X},"cstringMessage"),C=u.addCString("P").flush(68),v=u.addCString("S").flush(68),T=h(N=>N.name?A(68,`${N.type}${N.name||""}`):N.type==="P"?C:v,"describe"),Q=h(N=>A(67,`${N.type}${N.name||""}`),"close"),k=h(N=>u.add(N).flush(100),"copyData"),I=h(N=>A(102,N),"copyFail"),R=h(N=>F.from([N,0,0,0,4]),"codeOnlyBuffer"),S=R(72),L=R(83),D=R(88),H=R(99),ee={startup:a,password:r,requestSsl:o,sendSASLInitialResponseMessage:t,sendSCRAMClientFinalMessage:l,query:y,parse:d,bind:w,execute:f,describe:T,close:Q,flush:h(()=>S,"flush"),sync:h(()=>L,"sync"),end:h(()=>D,"end"),copyData:k,copyDone:h(()=>H,"copyDone"),copyFail:I,cancel:_};m.serialize=ee}),hn=G(m=>{U(),Object.defineProperty(m,"__esModule",{value:!0}),m.BufferReader=void 0;var i=F.allocUnsafe(0),u=class{constructor(a=0){this.offset=a,this.buffer=i,this.encoding="utf-8"}setBuffer(a,o){this.offset=a,this.buffer=o}int16(){let a=this.buffer.readInt16BE(this.offset);return this.offset+=2,a}byte(){let a=this.buffer[this.offset];return this.offset++,a}int32(){let a=this.buffer.readInt32BE(this.offset);return this.offset+=4,a}uint32(){let a=this.buffer.readUInt32BE(this.offset);return this.offset+=4,a}string(a){let o=this.buffer.toString(this.encoding,this.offset,this.offset+a);return this.offset+=a,o}cstring(){let a=this.offset,o=a;for(;this.buffer[o++]!==0;);return this.offset=o,this.buffer.toString(this.encoding,a,o-1)}bytes(a){let o=this.buffer.slice(this.offset,this.offset+a);return this.offset+=a,o}};h(u,"BufferReader"),m.BufferReader=u}),ln=G(m=>{U(),Object.defineProperty(m,"__esModule",{value:!0}),m.Parser=void 0;var i=ir(),u=hn(),a=F.allocUnsafe(0),o=class{constructor(r){if(this.buffer=a,this.bufferLength=0,this.bufferOffset=0,this.reader=new u.BufferReader,r?.mode==="binary")throw Error("Binary mode not supported yet");this.mode=r?.mode||"text"}parse(r,t){this.mergeBuffer(r);let l=this.bufferOffset+this.bufferLength,y=this.bufferOffset;for(;y+5<=l;){let b=this.buffer[y],d=this.buffer.readUInt32BE(y+1),g=1+d;if(g+y<=l)t(this.handlePacket(y+5,b,d,this.buffer)),y+=g;else break}y===l?(this.buffer=a,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=l-y,this.bufferOffset=y)}mergeBuffer(r){if(this.bufferLength>0){let t=this.bufferLength+r.byteLength;if(t+this.bufferOffset>this.buffer.byteLength){let l;if(t<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)l=this.buffer;else{let y=2*this.buffer.byteLength;for(;t>=y;)y*=2;l=F.allocUnsafe(y)}this.buffer.copy(l,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=l,this.bufferOffset=0}r.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=t}else this.buffer=r,this.bufferOffset=0,this.bufferLength=r.byteLength}handlePacket(r,t,l,y){switch(t){case 50:return i.bindComplete;case 49:return i.parseComplete;case 51:return i.closeComplete;case 110:return i.noData;case 115:return i.portalSuspended;case 99:return i.copyDone;case 87:return i.replicationStart;case 73:return i.emptyQuery;case 68:return this.parseDataRowMessage(r,l,y);case 67:return this.parseCommandCompleteMessage(r,l,y);case 90:return this.parseReadyForQueryMessage(r,l,y);case 65:return this.parseNotificationMessage(r,l,y);case 82:return this.parseAuthenticationResponse(r,l,y);case 83:return this.parseParameterStatusMessage(r,l,y);case 75:return this.parseBackendKeyData(r,l,y);case 69:return this.parseErrorMessage(r,l,y,"error");case 78:return this.parseErrorMessage(r,l,y,"notice");case 84:return this.parseRowDescriptionMessage(r,l,y);case 116:return this.parseParameterDescriptionMessage(r,l,y);case 71:return this.parseCopyInMessage(r,l,y);case 72:return this.parseCopyOutMessage(r,l,y);case 100:return this.parseCopyData(r,l,y);default:return new i.DatabaseError("received invalid response: "+t.toString(16),l,"error")}}parseReadyForQueryMessage(r,t,l){this.reader.setBuffer(r,l);let y=this.reader.string(1);return new i.ReadyForQueryMessage(t,y)}parseCommandCompleteMessage(r,t,l){this.reader.setBuffer(r,l);let y=this.reader.cstring();return new i.CommandCompleteMessage(t,y)}parseCopyData(r,t,l){let y=l.slice(r,r+(t-4));return new i.CopyDataMessage(t,y)}parseCopyInMessage(r,t,l){return this.parseCopyMessage(r,t,l,"copyInResponse")}parseCopyOutMessage(r,t,l){return this.parseCopyMessage(r,t,l,"copyOutResponse")}parseCopyMessage(r,t,l,y){this.reader.setBuffer(r,l);let b=this.reader.byte()!==0,d=this.reader.int16(),g=new i.CopyResponse(t,y,b,d);for(let s=0;s<d;s++)g.columnTypes[s]=this.reader.int16();return g}parseNotificationMessage(r,t,l){this.reader.setBuffer(r,l);let y=this.reader.int32(),b=this.reader.cstring(),d=this.reader.cstring();return new i.NotificationResponseMessage(t,y,b,d)}parseRowDescriptionMessage(r,t,l){this.reader.setBuffer(r,l);let y=this.reader.int16(),b=new i.RowDescriptionMessage(t,y);for(let d=0;d<y;d++)b.fields[d]=this.parseField();return b}parseField(){let r=this.reader.cstring(),t=this.reader.uint32(),l=this.reader.int16(),y=this.reader.uint32(),b=this.reader.int16(),d=this.reader.int32(),g=this.reader.int16()===0?"text":"binary";return new i.Field(r,t,l,y,b,d,g)}parseParameterDescriptionMessage(r,t,l){this.reader.setBuffer(r,l);let y=this.reader.int16(),b=new i.ParameterDescriptionMessage(t,y);for(let d=0;d<y;d++)b.dataTypeIDs[d]=this.reader.int32();return b}parseDataRowMessage(r,t,l){this.reader.setBuffer(r,l);let y=this.reader.int16(),b=Array(y);for(let d=0;d<y;d++){let g=this.reader.int32();b[d]=g===-1?null:this.reader.string(g)}return new i.DataRowMessage(t,b)}parseParameterStatusMessage(r,t,l){this.reader.setBuffer(r,l);let y=this.reader.cstring(),b=this.reader.cstring();return new i.ParameterStatusMessage(t,y,b)}parseBackendKeyData(r,t,l){this.reader.setBuffer(r,l);let y=this.reader.int32(),b=this.reader.int32();return new i.BackendKeyDataMessage(t,y,b)}parseAuthenticationResponse(r,t,l){this.reader.setBuffer(r,l);let y=this.reader.int32(),b={name:"authenticationOk",length:t};switch(y){case 0:break;case 3:b.length===8&&(b.name="authenticationCleartextPassword");break;case 5:if(b.length===12){b.name="authenticationMD5Password";let d=this.reader.bytes(4);return new i.AuthenticationMD5Password(t,d)}break;case 10:{let d;b.name="authenticationSASL",b.mechanisms=[];do(d=this.reader.cstring())&&b.mechanisms.push(d);while(d)}break;case 11:b.name="authenticationSASLContinue",b.data=this.reader.string(t-8);break;case 12:b.name="authenticationSASLFinal",b.data=this.reader.string(t-8);break;default:throw Error("Unknown authenticationOk message type "+y)}return b}parseErrorMessage(r,t,l,y){this.reader.setBuffer(r,l);let b={},d=this.reader.string(1);for(;d!=="\0";)b[d]=this.reader.cstring(),d=this.reader.string(1);let g=b.M,s=y==="notice"?new i.NoticeMessage(t,g):new i.DatabaseError(g,t,y);return s.severity=b.S,s.code=b.C,s.detail=b.D,s.hint=b.H,s.position=b.P,s.internalPosition=b.p,s.internalQuery=b.q,s.where=b.W,s.schema=b.s,s.table=b.t,s.column=b.c,s.dataType=b.d,s.constraint=b.n,s.file=b.F,s.line=b.L,s.routine=b.R,s}};h(o,"Parser"),m.Parser=o}),or=G(m=>{U(),Object.defineProperty(m,"__esModule",{value:!0}),m.DatabaseError=m.serialize=m.parse=void 0;var i=ir();Object.defineProperty(m,"DatabaseError",{enumerable:!0,get:h(function(){return i.DatabaseError},"get")});var u=cn();Object.defineProperty(m,"serialize",{enumerable:!0,get:h(function(){return u.serialize},"get")});var a=ln();function o(r,t){let l=new a.Parser;return r.on("data",y=>l.parse(y,t)),new Promise(y=>r.on("end",()=>y()))}h(o,"parse"),m.parse=o}),ar={};function ur({socket:m,servername:i}){return m.startTls(i),m}ve(ar,{connect:()=>ur});var fn=ge(()=>{U(),h(ur,"connect")}),cr=G((m,i)=>{U();var u=(ze(),z(Se)),a=be().EventEmitter,{parse:o,serialize:r}=or(),t=r.flush(),l=r.sync(),y=r.end(),b=class extends a{constructor(d){super(),d=d||{},this.stream=d.stream||new u.Socket,this._keepAlive=d.keepAlive,this._keepAliveInitialDelayMillis=d.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=d.ssl||!1,this._ending=!1,this._emitMessage=!1;var g=this;this.on("newListener",function(s){s==="message"&&(g._emitMessage=!0)})}connect(d,g){var s=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(d,g),this.stream.once("connect",function(){s._keepAlive&&s.stream.setKeepAlive(!0,s._keepAliveInitialDelayMillis),s.emit("connect")});let w=h(function(p){s._ending&&(p.code==="ECONNRESET"||p.code==="EPIPE")||s.emit("error",p)},"reportStreamError");if(this.stream.on("error",w),this.stream.on("close",function(){s.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(p){switch(p.toString("utf8")){case"S":break;case"N":return s.stream.end(),s.emit("error",Error("The server does not support SSL connections"));default:return s.stream.end(),s.emit("error",Error("There was an error establishing an SSL connection"))}var f=(fn(),z(ar));let _={socket:s.stream};s.ssl!==!0&&(Object.assign(_,s.ssl),"key"in s.ssl&&(_.key=s.ssl.key)),u.isIP(g)===0&&(_.servername=g);try{s.stream=f.connect(_)}catch(A){return s.emit("error",A)}s.attachListeners(s.stream),s.stream.on("error",w),s.emit("sslconnect")})}attachListeners(d){d.on("end",()=>{this.emit("end")}),o(d,g=>{var s=g.name==="error"?"errorMessage":g.name;this._emitMessage&&this.emit("message",g),this.emit(s,g)})}requestSsl(){this.stream.write(r.requestSsl())}startup(d){this.stream.write(r.startup(d))}cancel(d,g){this._send(r.cancel(d,g))}password(d){this._send(r.password(d))}sendSASLInitialResponseMessage(d,g){this._send(r.sendSASLInitialResponseMessage(d,g))}sendSCRAMClientFinalMessage(d){this._send(r.sendSCRAMClientFinalMessage(d))}_send(d){return!!this.stream.writable&&this.stream.write(d)}query(d){this._send(r.query(d))}parse(d){this._send(r.parse(d))}bind(d){this._send(r.bind(d))}execute(d){this._send(r.execute(d))}flush(){this.stream.writable&&this.stream.write(t)}sync(){this._ending=!0,this._send(t),this._send(l)}ref(){this.stream.ref()}unref(){this.stream.unref()}end(){if(this._ending=!0,!this._connecting||!this.stream.writable){this.stream.end();return}return this.stream.write(y,()=>{this.stream.end()})}close(d){this._send(r.close(d))}describe(d){this._send(r.describe(d))}sendCopyFromChunk(d){this._send(r.copyData(d))}endCopyFrom(){this._send(r.copyDone())}sendCopyFail(d){this._send(r.copyFail(d))}};h(b,"Connection"),i.exports=b}),pn=G((m,i)=>{U();var u=be().EventEmitter,a=(nt(),z(Ye),rt()),o=Jr(),r=rn(),t=mt(),l=St(),y=an(),b=tt(),d=cr(),g=class extends u{constructor(s){super(),this.connectionParameters=new l(s),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;var w=s||{};this._Promise=w.Promise||ce.Promise,this._types=new t(w.types),this._ending=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=w.connection||new d({stream:w.stream,ssl:this.connectionParameters.ssl,keepAlive:w.keepAlive||!1,keepAliveInitialDelayMillis:w.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=w.binary||b.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=w.connectionTimeoutMillis||0}_errorAllQueries(s){let w=h(p=>{j.nextTick(()=>{p.handleError(s,this.connection)})},"enqueueError");this.activeQuery&&(w(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(w),this.queryQueue.length=0}_connect(s){var w=this,p=this.connection;if(this._connectionCallback=s,this._connecting||this._connected){let f=Error("Client has already been connected. You cannot reuse a client.");j.nextTick(()=>{s(f)});return}this._connecting=!0,this.connectionTimeoutHandle,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{p._ending=!0,p.stream.destroy(Error("timeout expired"))},this._connectionTimeoutMillis)),this.host&&this.host.indexOf("/")===0?p.connect(this.host+"/.s.PGSQL."+this.port):p.connect(this.port,this.host),p.on("connect",function(){w.ssl?p.requestSsl():p.startup(w.getStartupConf())}),p.on("sslconnect",function(){p.startup(w.getStartupConf())}),this._attachListeners(p),p.once("end",()=>{let f=this._ending?Error("Connection terminated"):Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(f),this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(f):this._handleErrorEvent(f):this._connectionError||this._handleErrorEvent(f)),j.nextTick(()=>{this.emit("end")})})}connect(s){if(s){this._connect(s);return}return new this._Promise((w,p)=>{this._connect(f=>{f?p(f):w()})})}_attachListeners(s){s.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),s.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),s.on("authenticationSASL",this._handleAuthSASL.bind(this)),s.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),s.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),s.on("backendKeyData",this._handleBackendKeyData.bind(this)),s.on("error",this._handleErrorEvent.bind(this)),s.on("errorMessage",this._handleErrorMessage.bind(this)),s.on("readyForQuery",this._handleReadyForQuery.bind(this)),s.on("notice",this._handleNotice.bind(this)),s.on("rowDescription",this._handleRowDescription.bind(this)),s.on("dataRow",this._handleDataRow.bind(this)),s.on("portalSuspended",this._handlePortalSuspended.bind(this)),s.on("emptyQuery",this._handleEmptyQuery.bind(this)),s.on("commandComplete",this._handleCommandComplete.bind(this)),s.on("parseComplete",this._handleParseComplete.bind(this)),s.on("copyInResponse",this._handleCopyInResponse.bind(this)),s.on("copyData",this._handleCopyData.bind(this)),s.on("notification",this._handleNotification.bind(this))}_checkPgPass(s){let w=this.connection;typeof this.password=="function"?this._Promise.resolve().then(()=>this.password()).then(p=>{if(p!==void 0){if(typeof p!="string"){w.emit("error",TypeError("Password must be a string"));return}this.connectionParameters.password=this.password=p}else this.connectionParameters.password=this.password=null;s()}).catch(p=>{w.emit("error",p)}):this.password!==null?s():r(this.connectionParameters,p=>{p!==void 0&&(this.connectionParameters.password=this.password=p),s()})}_handleAuthCleartextPassword(s){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(s){this._checkPgPass(()=>{let w=a.postgresMd5PasswordHash(this.user,this.password,s.salt);this.connection.password(w)})}_handleAuthSASL(s){this._checkPgPass(()=>{this.saslSession=o.startSession(s.mechanisms),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)})}_handleAuthSASLContinue(s){o.continueSession(this.saslSession,this.password,s.data),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}_handleAuthSASLFinal(s){o.finalizeSession(this.saslSession,s.data),this.saslSession=null}_handleBackendKeyData(s){this.processID=s.processID,this.secretKey=s.secretKey}_handleReadyForQuery(s){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let{activeQuery:w}=this;this.activeQuery=null,this.readyForQuery=!0,w&&w.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(s){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(s);this.emit("error",s)}}_handleErrorEvent(s){if(this._connecting)return this._handleErrorWhileConnecting(s);this._queryable=!1,this._errorAllQueries(s),this.emit("error",s)}_handleErrorMessage(s){if(this._connecting)return this._handleErrorWhileConnecting(s);let w=this.activeQuery;if(!w){this._handleErrorEvent(s);return}this.activeQuery=null,w.handleError(s,this.connection)}_handleRowDescription(s){this.activeQuery.handleRowDescription(s)}_handleDataRow(s){this.activeQuery.handleDataRow(s)}_handlePortalSuspended(s){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(s){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(s){this.activeQuery.handleCommandComplete(s,this.connection)}_handleParseComplete(s){this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(s){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(s){this.activeQuery.handleCopyData(s,this.connection)}_handleNotification(s){this.emit("notification",s)}_handleNotice(s){this.emit("notice",s)}getStartupConf(){var s=this.connectionParameters,w={user:s.user,database:s.database},p=s.application_name||s.fallback_application_name;return p&&(w.application_name=p),s.replication&&(w.replication=""+s.replication),s.statement_timeout&&(w.statement_timeout=String(parseInt(s.statement_timeout,10))),s.lock_timeout&&(w.lock_timeout=String(parseInt(s.lock_timeout,10))),s.idle_in_transaction_session_timeout&&(w.idle_in_transaction_session_timeout=String(parseInt(s.idle_in_transaction_session_timeout,10))),s.options&&(w.options=s.options),w}cancel(s,w){if(s.activeQuery===w){var p=this.connection;this.host&&this.host.indexOf("/")===0?p.connect(this.host+"/.s.PGSQL."+this.port):p.connect(this.port,this.host),p.on("connect",function(){p.cancel(s.processID,s.secretKey)})}else s.queryQueue.indexOf(w)!==-1&&s.queryQueue.splice(s.queryQueue.indexOf(w),1)}setTypeParser(s,w,p){return this._types.setTypeParser(s,w,p)}getTypeParser(s,w){return this._types.getTypeParser(s,w)}escapeIdentifier(s){return'"'+s.replace(/"/g,'""')+'"'}escapeLiteral(s){for(var w=!1,p="'",f=0;f<s.length;f++){var _=s[f];_==="'"?p+=_+_:_==="\\"?(p+=_+_,w=!0):p+=_}return p+="'",w===!0&&(p=" E"+p),p}_pulseQueryQueue(){if(this.readyForQuery===!0)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;let s=this.activeQuery.submit(this.connection);s&&j.nextTick(()=>{this.activeQuery.handleError(s,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}query(s,w,p){var f,_,A,C,v;if(s==null)throw TypeError("Client was passed a null or undefined query");return typeof s.submit=="function"?(A=s.query_timeout||this.connectionParameters.query_timeout,_=f=s,typeof w=="function"&&(f.callback=f.callback||w)):(A=this.connectionParameters.query_timeout,(f=new y(s,w,p)).callback||(_=new this._Promise((T,Q)=>{f.callback=(k,I)=>k?Q(k):T(I)}))),A&&(v=f.callback,C=setTimeout(()=>{var T=Error("Query read timeout");j.nextTick(()=>{f.handleError(T,this.connection)}),v(T),f.callback=()=>{};var Q=this.queryQueue.indexOf(f);Q>-1&&this.queryQueue.splice(Q,1),this._pulseQueryQueue()},A),f.callback=(T,Q)=>{clearTimeout(C),v(T,Q)}),this.binary&&!f.binary&&(f.binary=!0),f._result&&!f._result._types&&(f._result._types=this._types),this._queryable?this._ending?j.nextTick(()=>{f.handleError(Error("Client was closed and is not queryable"),this.connection)}):(this.queryQueue.push(f),this._pulseQueryQueue()):j.nextTick(()=>{f.handleError(Error("Client has encountered a connection error and is not queryable"),this.connection)}),_}ref(){this.connection.ref()}unref(){this.connection.unref()}end(s){if(this._ending=!0,!this.connection._connecting){if(!s)return this._Promise.resolve();s()}if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),!s)return new this._Promise(w=>{this.connection.once("end",w)});this.connection.once("end",s)}};h(g,"Client"),g.Query=y,i.exports=g}),dn=G((m,i)=>{U();var u=be().EventEmitter,a=h(function(){},"NOOP"),o=h((g,s)=>{let w=g.findIndex(s);return w===-1?void 0:g.splice(w,1)[0]},"removeWhere"),r=class{constructor(g,s,w){this.client=g,this.idleListener=s,this.timeoutId=w}};h(r,"IdleItem");var t=class{constructor(g){this.callback=g}};function l(){throw Error("Release called on client which has already been released to the pool.")}function y(g,s){let w,p;return s?{callback:s,result:void 0}:{callback:h(function(f,_){f?w(f):p(_)},"cb"),result:new g(function(f,_){p=f,w=_}).catch(f=>{throw Error.captureStackTrace(f),f})}}function b(g,s){return h(function w(p){p.client=s,s.removeListener("error",w),s.on("error",()=>{g.log("additional client error after disconnection due to error",p)}),g._remove(s),g.emit("error",p,s)},"idleListener")}h(t,"PendingItem"),h(l,"throwOnDoubleRelease"),h(y,"promisify"),h(b,"makeIdleListener");var d=class extends u{constructor(g,s){super(),this.options=Object.assign({},g),g!=null&&"password"in g&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:g.password}),g!=null&&g.ssl&&g.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.min=this.options.min||0,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||s||st().Client,this.Promise=this.options.Promise||ce.Promise,typeof this.options.idleTimeoutMillis>"u"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_isAboveMin(){return this._clients.length>this.options.min}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(s=>{this._remove(s.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;let g=this._pendingQueue.shift();if(this._idle.length){let s=this._idle.pop();clearTimeout(s.timeoutId);let w=s.client;w.ref&&w.ref();let p=s.idleListener;return this._acquireClient(w,g,p,!1)}if(!this._isFull())return this.newClient(g);throw Error("unexpected condition")}_remove(g){let s=o(this._idle,w=>w.client===g);s!==void 0&&clearTimeout(s.timeoutId),this._clients=this._clients.filter(w=>w!==g),g.end(),this.emit("remove",g)}connect(g){if(this.ending){let p=Error("Cannot use a pool after calling end on the pool");return g?g(p):this.Promise.reject(p)}let s=y(this.Promise,g),w=s.result;if(this._isFull()||this._idle.length){if(this._idle.length&&j.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new t(s.callback)),w;let p=h((A,C,v)=>{clearTimeout(_),s.callback(A,C,v)},"queueCallback"),f=new t(p),_=setTimeout(()=>{o(this._pendingQueue,A=>A.callback===p),f.timedOut=!0,s.callback(Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return _.unref&&_.unref(),this._pendingQueue.push(f),w}return this.newClient(new t(s.callback)),w}newClient(g){let s=new this.Client(this.options);this._clients.push(s);let w=b(this,s);this.log("checking client timeout");let p,f=!1;this.options.connectionTimeoutMillis&&(p=setTimeout(()=>{this.log("ending client due to timeout"),f=!0,s.connection?s.connection.stream.destroy():s.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),s.connect(_=>{if(p&&clearTimeout(p),s.on("error",w),_)this.log("client failed to connect",_),this._clients=this._clients.filter(A=>A!==s),f&&(_=Error("Connection terminated due to connection timeout",{cause:_})),this._pulseQueue(),g.timedOut||g.callback(_,void 0,a);else{if(this.log("new client connected"),this.options.maxLifetimeSeconds!==0){let A=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(s),this._idle.findIndex(C=>C.client===s)!==-1&&this._acquireClient(s,new t((C,v,T)=>T()),w,!1)},1e3*this.options.maxLifetimeSeconds);A.unref(),s.once("end",()=>clearTimeout(A))}return this._acquireClient(s,g,w,!0)}})}_acquireClient(g,s,w,p){p&&this.emit("connect",g),this.emit("acquire",g),g.release=this._releaseOnce(g,w),g.removeListener("error",w),s.timedOut?p&&this.options.verify?this.options.verify(g,g.release):g.release():p&&this.options.verify?this.options.verify(g,f=>{if(f)return g.release(f),s.callback(f,void 0,a);s.callback(void 0,g,g.release)}):s.callback(void 0,g,g.release)}_releaseOnce(g,s){let w=!1;return p=>{w&&l(),w=!0,this._release(g,s,p)}}_release(g,s,w){let p;if(g.on("error",s),g._poolUseCount=(g._poolUseCount||0)+1,this.emit("release",w,g),w||this.ending||!g._queryable||g._ending||g._poolUseCount>=this.options.maxUses){g._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(g),this._pulseQueue();return}if(this._expired.has(g)){this.log("remove expired client"),this._expired.delete(g),this._remove(g),this._pulseQueue();return}this.options.idleTimeoutMillis&&this._isAboveMin()&&(p=setTimeout(()=>{this.log("remove idle client"),this._remove(g)},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&p.unref()),this.options.allowExitOnIdle&&g.unref(),this._idle.push(new r(g,s,p)),this._pulseQueue()}query(g,s,w){if(typeof g=="function"){let f=y(this.Promise,g);return se(function(){return f.callback(Error("Passing a function as the first parameter to pool.query is not supported"))}),f.result}typeof s=="function"&&(w=s,s=void 0);let p=y(this.Promise,w);return w=p.callback,this.connect((f,_)=>{if(f)return w(f);let A=!1,C=h(v=>{A||(A=!0,_.release(v),w(v))},"onError");_.once("error",C),this.log("dispatching query");try{_.query(g,s,(v,T)=>{if(this.log("query dispatched"),_.removeListener("error",C),!A)return A=!0,_.release(v),v?w(v):w(void 0,T)})}catch(v){return _.release(v),w(v)}}),p.result}end(g){if(this.log("ending"),this.ending){let w=Error("Called end on pool more than once");return g?g(w):this.Promise.reject(w)}this.ending=!0;let s=y(this.Promise,g);return this._endCallback=s.callback,this._pulseQueue(),s.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((g,s)=>g+(this._expired.has(s)?1:0),0)}get totalCount(){return this._clients.length}};h(d,"Pool"),i.exports=d}),hr={};ve(hr,{default:()=>lr});var lr,gn=ge(()=>{U(),lr={}}),yn=G((m,i)=>{i.exports={name:"pg",version:"8.8.0",description:"PostgreSQL client - pure javascript & libpq with the same API",keywords:["database","libpq","pg","postgre","postgres","postgresql","rdbms"],homepage:"https://github.com/brianc/node-postgres",repository:{type:"git",url:"git://github.com/brianc/node-postgres.git",directory:"packages/pg"},author:"Brian Carlson <brian.m.carlson@gmail.com>",main:"./lib",dependencies:{"buffer-writer":"2.0.0","packet-reader":"1.0.0","pg-connection-string":"^2.5.0","pg-pool":"^3.5.2","pg-protocol":"^1.5.0","pg-types":"^2.1.0",pgpass:"1.x"},devDependencies:{async:"2.6.4",bluebird:"3.5.2",co:"4.6.0","pg-copy-streams":"0.3.0"},peerDependencies:{"pg-native":">=3.0.1"},peerDependenciesMeta:{"pg-native":{optional:!0}},scripts:{test:"make test-all"},files:["lib","SPONSORS.md"],license:"MIT",engines:{node:">= 8.0.0"},gitHead:"c99fb2c127ddf8d712500db2c7b9a5491a178655"}}),mn=G((m,i)=>{U();var u=be().EventEmitter,a=(nt(),z(Ye)),o=rt(),r=i.exports=function(l,y,b){u.call(this),l=o.normalizeQueryConfig(l,y,b),this.text=l.text,this.values=l.values,this.name=l.name,this.callback=l.callback,this.state="new",this._arrayMode=l.rowMode==="array",this._emitRowEvents=!1,this.on("newListener",function(d){d==="row"&&(this._emitRowEvents=!0)}.bind(this))};a.inherits(r,u);var t={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};r.prototype.handleError=function(l){var y=this.native.pq.resultErrorFields();if(y)for(var b in y)l[t[b]||b]=y[b];this.callback?this.callback(l):this.emit("error",l),this.state="error"},r.prototype.then=function(l,y){return this._getPromise().then(l,y)},r.prototype.catch=function(l){return this._getPromise().catch(l)},r.prototype._getPromise=function(){return this._promise||(this._promise=new Promise(function(l,y){this._once("end",l),this._once("error",y)}.bind(this))),this._promise},r.prototype.submit=function(l){this.state="running";var y=this;this.native=l.native,l.native.arrayMode=this._arrayMode;var b=h(function(s,w,p){if(l.native.arrayMode=!1,se(function(){y.emit("_done")}),s)return y.handleError(s);y._emitRowEvents&&(p.length>1?w.forEach((f,_)=>{f.forEach(A=>{y.emit("row",A,p[_])})}):w.forEach(function(f){y.emit("row",f,p)})),y.state="end",y.emit("end",p),y.callback&&y.callback(null,p)},"after");if(j.domain&&(b=j.domain.bind(b)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));var d=(this.values||[]).map(o.prepareValue);if(l.namedQueries[this.name]){if(this.text&&l.namedQueries[this.name]!==this.text){let s=Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return b(s)}return l.native.execute(this.name,d,b)}return l.native.prepare(this.name,this.text,d.length,function(s){return s?b(s):(l.namedQueries[y.name]=y.text,y.native.execute(y.name,d,b))})}if(this.values){if(!Array.isArray(this.values)){let s=Error("Query values must be an array");return b(s)}var g=this.values.map(o.prepareValue);l.native.query(this.text,g,b)}else l.native.query(this.text,b)}}),_n=G((m,i)=>{U();var u=(gn(),z(hr)),a=mt(),o=(yn(),be().EventEmitter),r=(nt(),z(Ye)),t=St(),l=mn(),y=i.exports=function(b){o.call(this),b=b||{},this._Promise=b.Promise||ce.Promise,this._types=new a(b.types),this.native=new u({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;var d=this.connectionParameters=new t(b);this.user=d.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:d.password}),this.database=d.database,this.host=d.host,this.port=d.port,this.namedQueries={}};y.Query=l,r.inherits(y,o),y.prototype._errorAllQueries=function(b){let d=h(g=>{j.nextTick(()=>{g.native=this.native,g.handleError(b)})},"enqueueError");this._hasActiveQuery()&&(d(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(d),this._queryQueue.length=0},y.prototype._connect=function(b){var d=this;if(this._connecting){j.nextTick(()=>b(Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(g,s){if(g)return b(g);d.native.connect(s,function(w){if(w)return d.native.end(),b(w);d._connected=!0,d.native.on("error",function(p){d._queryable=!1,d._errorAllQueries(p),d.emit("error",p)}),d.native.on("notification",function(p){d.emit("notification",{channel:p.relname,payload:p.extra})}),d.emit("connect"),d._pulseQueryQueue(!0),b()})})},y.prototype.connect=function(b){if(b){this._connect(b);return}return new this._Promise((d,g)=>{this._connect(s=>{s?g(s):d()})})},y.prototype.query=function(b,d,g){var s,w,p,f,_;if(b==null)throw TypeError("Client was passed a null or undefined query");if(typeof b.submit=="function")p=b.query_timeout||this.connectionParameters.query_timeout,w=s=b,typeof d=="function"&&(b.callback=d);else if(p=this.connectionParameters.query_timeout,!(s=new l(b,d,g)).callback){let A,C;w=new this._Promise((v,T)=>{A=v,C=T}),s.callback=(v,T)=>v?C(v):A(T)}return p&&(_=s.callback,f=setTimeout(()=>{var A=Error("Query read timeout");j.nextTick(()=>{s.handleError(A,this.connection)}),_(A),s.callback=()=>{};var C=this._queryQueue.indexOf(s);C>-1&&this._queryQueue.splice(C,1),this._pulseQueryQueue()},p),s.callback=(A,C)=>{clearTimeout(f),_(A,C)}),this._queryable?this._ending?(s.native=this.native,j.nextTick(()=>{s.handleError(Error("Client was closed and is not queryable"))})):(this._queryQueue.push(s),this._pulseQueryQueue()):(s.native=this.native,j.nextTick(()=>{s.handleError(Error("Client has encountered a connection error and is not queryable"))})),w},y.prototype.end=function(b){var d,g=this;return this._ending=!0,this._connected||this.once("connect",this.end.bind(this,b)),b||(d=new this._Promise(function(s,w){b=h(p=>p?w(p):s(),"cb")})),this.native.end(function(){g._errorAllQueries(Error("Connection terminated")),j.nextTick(()=>{g.emit("end"),b&&b()})}),d},y.prototype._hasActiveQuery=function(){return this._activeQuery&&this._activeQuery.state!=="error"&&this._activeQuery.state!=="end"},y.prototype._pulseQueryQueue=function(b){if(this._connected&&!this._hasActiveQuery()){var d=this._queryQueue.shift();if(!d){b||this.emit("drain");return}this._activeQuery=d,d.submit(this);var g=this;d.once("_done",function(){g._pulseQueryQueue()})}},y.prototype.cancel=function(b){this._activeQuery===b?this.native.cancel(function(){}):this._queryQueue.indexOf(b)!==-1&&this._queryQueue.splice(this._queryQueue.indexOf(b),1)},y.prototype.ref=function(){},y.prototype.unref=function(){},y.prototype.setTypeParser=function(b,d,g){return this._types.setTypeParser(b,d,g)},y.prototype.getTypeParser=function(b,d){return this._types.getTypeParser(b,d)}}),fr=G((m,i)=>{U(),i.exports=_n()}),st=G((m,i)=>{U();var u=pn(),a=tt(),o=cr(),r=dn(),{DatabaseError:t}=or(),l=h(b=>{var d;return h(d=class extends r{constructor(g){super(g,b)}},"BoundPool"),d},"poolFactory"),y=h(function(b){this.defaults=a,this.Client=b,this.Query=this.Client.Query,this.Pool=l(this.Client),this._pools=[],this.Connection=o,this.types=et(),this.DatabaseError=t},"PG");"u">typeof j.env.NODE_PG_FORCE_NATIVE?i.exports=new y(fr()):(i.exports=new y(u),Object.defineProperty(i.exports,"native",{configurable:!0,enumerable:!1,get(){var b=null;try{b=new y(fr())}catch(d){if(d.code!=="MODULE_NOT_FOUND")throw d}return Object.defineProperty(i.exports,"native",{value:b}),b}}))});U(),U(),ze(),Qt(),U();var bn=Object.defineProperty,wn=Object.defineProperties,vn=Object.getOwnPropertyDescriptors,pr=Object.getOwnPropertySymbols,En=Object.prototype.hasOwnProperty,Sn=Object.prototype.propertyIsEnumerable,dr=h((m,i,u)=>i in m?bn(m,i,{enumerable:!0,configurable:!0,writable:!0,value:u}):m[i]=u,"__defNormalProp"),An=h((m,i)=>{for(var u in i||(i={}))En.call(i,u)&&dr(m,u,i[u]);if(pr)for(var u of pr(i))Sn.call(i,u)&&dr(m,u,i[u]);return m},"__spreadValues"),xn=h((m,i)=>wn(m,vn(i)),"__spreadProps"),gr=new Uint8Array(new Uint16Array([258]).buffer)[0]===2,Cn=new TextDecoder,At=new TextEncoder,it=At.encode("0123456789abcdef"),ot=At.encode("0123456789ABCDEF"),yr=At.encode("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/").slice();function mr(m,{alphabet:i,scratchArr:u}={}){if(!W)if(W=new Uint16Array(256),re=new Uint16Array(256),gr)for(let s=0;s<256;s++)W[s]=it[15&s]<<8|it[s>>>4],re[s]=ot[15&s]<<8|ot[s>>>4];else for(let s=0;s<256;s++)W[s]=it[15&s]|it[s>>>4]<<8,re[s]=ot[15&s]|ot[s>>>4]<<8;m.byteOffset%4!=0&&(m=new Uint8Array(m));let a=m.length,o=a>>>2,r=u||new Uint16Array(a),t=new Uint32Array(m.buffer,m.byteOffset,o),l=new Uint32Array(r.buffer,r.byteOffset,a>>>1),y=i==="upper"?re:W,b=0,d=0,g;if(gr)for(;b<o;)g=t[b++],l[d++]=y[g>>>8&255]<<16|y[255&g],l[d++]=y[g>>>24]<<16|y[g>>>16&255];else for(;b<o;)g=t[b++],l[d++]=y[g>>>24]<<16|y[g>>>16&255],l[d++]=y[g>>>8&255]<<16|y[255&g];for(b<<=2;b<a;)r[b]=y[m[b++]];return Cn.decode(r.subarray(0,a))}function _r(m,i={}){let u="",a=m.length,o=Math.ceil(a/504e3),r=new Uint16Array(o>1?504e3:a);for(let t=0;t<o;t++){let l=504e3*t,y=l+504e3;u+=mr(m.subarray(l,y),xn(An({},i),{scratchArr:r}))}return u}function br(m,i={}){return i.alphabet!=="upper"&&typeof m.toHex=="function"?m.toHex():_r(m,i)}yr[62]=45,yr[63]=95,h(mr,"_toHex"),h(_r,"_toHexChunked"),h(br,"toHex"),U();var xt=class Qr{constructor(i,u){this.strings=i,this.values=u}toParameterizedQuery(i={query:"",params:[]}){let{strings:u,values:a}=this;for(let o=0,r=u.length;o<r;o++)if(i.query+=u[o],o<a.length){let t=a[o];if(t instanceof vr)i.query+=t.sql;else if(t instanceof at)if(t.queryData instanceof Qr)t.queryData.toParameterizedQuery(i);else{if(t.queryData.params?.length)throw Error("This query is not composable");i.query+=t.queryData.query}else{let{params:l}=i;l.push(t),i.query+="$"+l.length,(t instanceof F||ArrayBuffer.isView(t))&&(i.query+="::bytea")}}return i}};h(xt,"SqlTemplate");var wr=class{constructor(m){this.sql=m}};h(wr,"UnsafeRawSql");var vr=wr;function Ct(){"u">typeof window&&"u">typeof document&&"u">typeof console&&typeof console.warn=="function"&&console.warn(`          
        ************************************************************
        *                                                          *
        *  WARNING: Running SQL directly from the browser can have *
        *  security implications. Even if your database is         *
        *  protected by Row-Level Security (RLS), use it at your   *
        *  own risk. This approach is great for fast prototyping,  *
        *  but ensure proper safeguards are in place to prevent    *
        *  misuse or execution of expensive SQL queries by your    *
        *  end users.                                              *
        *                                                          *
        *  If you've assessed the risks, suppress this message     *
        *  using the disableWarningInBrowsers configuration        *
        *  parameter.                                              *
        *                                                          *
        ************************************************************`)}U(),h(Ct,"warnIfBrowser"),ze();var kn=O(mt()),Pn=O(rt()),De=class qr extends Error{constructor(i){super(i),M(this,"name","NeonDbError"),M(this,"severity"),M(this,"code"),M(this,"detail"),M(this,"hint"),M(this,"position"),M(this,"internalPosition"),M(this,"internalQuery"),M(this,"where"),M(this,"schema"),M(this,"table"),M(this,"column"),M(this,"dataType"),M(this,"constraint"),M(this,"file"),M(this,"line"),M(this,"routine"),M(this,"sourceError"),"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,qr)}};h(De,"NeonDbError");var Er="transaction() expects an array of queries, or a function returning an array of queries",In=["severity","code","detail","hint","position","internalPosition","internalQuery","where","schema","table","column","dataType","constraint","file","line","routine"];function Sr(m){return m instanceof F?"\\x"+br(m):m}function kt(m){let{query:i,params:u}=m instanceof xt?m.toParameterizedQuery():m;return{query:i,params:u.map(a=>Sr((0,Pn.prepareValue)(a)))}}function Pt(m,{arrayMode:i,fullResults:u,fetchOptions:a,isolationLevel:o,readOnly:r,deferrable:t,authToken:l,disableWarningInBrowsers:y}={}){let b;if(!m)throw Error("No database connection string was provided to `neon()`. Perhaps an environment variable has not been set?");try{b=yt(m)}catch{throw Error("Database connection string provided to `neon()` is not a valid URL. Connection string: "+String(m))}let{protocol:d,username:g,hostname:s,port:w,pathname:p}=b;if(d!=="postgres:"&&d!=="postgresql:"||!g||!s||!p)throw Error("Database connection string format for `neon()` should be: postgresql://user:password@host.tld/dbname?option=value");function f(A,...C){if(!(Array.isArray(A)&&Array.isArray(A.raw)&&Array.isArray(C)))throw Error('This function can now be called only as a tagged-template function: sql`SELECT ${value}`, not sql("SELECT $1", [value], options). For a conventional function call with value placeholders ($1, $2, etc.), use sql.query("SELECT $1", [value], options).');return new at(_,new xt(A,C))}async function _(A,C,v){let T,{fetchEndpoint:Q,fetchFunction:k}=Ke,I=Array.isArray(A)?{queries:A.map(he=>kt(he))}:kt(A),R=a??{},S=i??!1,L=u??!1,D=o,H=r,ee=t;v!==void 0&&(v.fetchOptions!==void 0&&(R={...R,...v.fetchOptions}),v.arrayMode!==void 0&&(S=v.arrayMode),v.fullResults!==void 0&&(L=v.fullResults),v.isolationLevel!==void 0&&(D=v.isolationLevel),v.readOnly!==void 0&&(H=v.readOnly),v.deferrable!==void 0&&(ee=v.deferrable)),C===void 0||Array.isArray(C)||C.fetchOptions===void 0||(R={...R,...C.fetchOptions});let N=l;Array.isArray(C)||C?.authToken===void 0||(N=C.authToken);let te=typeof Q=="function"?Q(s,w,{jwtAuth:N!==void 0}):Q,Y={"Neon-Connection-String":m,"Neon-Raw-Text-Output":"true","Neon-Array-Mode":"true"},X=await xr(N);X&&(Y.Authorization=`Bearer ${X}`),Array.isArray(A)&&(D!==void 0&&(Y["Neon-Batch-Isolation-Level"]=D),H!==void 0&&(Y["Neon-Batch-Read-Only"]=String(H)),ee!==void 0&&(Y["Neon-Batch-Deferrable"]=String(ee))),y||Ke.disableWarningInBrowsers||Ct();try{T=await(k??fetch)(te,{method:"POST",body:JSON.stringify(I),headers:Y,...R})}catch(he){let $=new De(`Error connecting to database: ${he}`);throw $.sourceError=he,$}if(T.ok){let he=await T.json();if(Array.isArray(A)){let $=he.results;if(!Array.isArray($))throw new De("Neon internal error: unexpected result format");return $.map((le,Oe)=>{let Ne=C[Oe]??{};return It(le,{arrayMode:Ne.arrayMode??S,fullResults:Ne.fullResults??L,types:Ne.types})})}{let $=C??{};return It(he,{arrayMode:$.arrayMode??S,fullResults:$.fullResults??L,types:$.types})}}{let{status:he}=T;if(he===400){let $=await T.json(),le=new De($.message);for(let Oe of In)le[Oe]=$[Oe]??void 0;throw le}{let $=await T.text();throw new De(`Server error (HTTP status ${he}): ${$}`)}}}return h(f,"templateFn"),f.query=(A,C,v)=>new at(_,{query:A,params:C??[]},v),f.unsafe=A=>new vr(A),f.transaction=async(A,C)=>{if(typeof A=="function"&&(A=A(f)),!Array.isArray(A))throw Error(Er);return A.forEach(v=>{if(!(v instanceof at))throw Error(Er)}),_(A.map(v=>v.queryData),A.map(v=>v.opts??{}),C)},h(_,"execute"),f}h(Sr,"encodeBuffersAsBytea"),h(kt,"prepareQuery"),h(Pt,"neon");var Ar=class{constructor(m,i,u){this.execute=m,this.queryData=i,this.opts=u}then(m,i){return this.execute(this.queryData,this.opts).then(m,i)}catch(m){return this.execute(this.queryData,this.opts).catch(m)}finally(m){return this.execute(this.queryData,this.opts).finally(m)}};h(Ar,"NeonQueryPromise");var at=Ar;function It(m,{arrayMode:i,fullResults:u,types:a}){let o=new kn.default(a),r=m.fields.map(y=>y.name),t=m.fields.map(y=>o.getTypeParser(y.dataTypeID)),l=i===!0?m.rows.map(y=>y.map((b,d)=>b===null?null:t[d](b))):m.rows.map(y=>Object.fromEntries(y.map((b,d)=>[r[d],b===null?null:t[d](b)])));return u?(m.viaNeonFetch=!0,m.rowAsArray=i,m.rows=l,m._parsers=t,m._types=o,m):l}async function xr(m){if(typeof m=="string")return m;if(typeof m=="function")try{return await Promise.resolve(m())}catch(i){let u=new De("Error getting auth token.");throw i instanceof Error&&(u=new De(`Error getting auth token: ${i.message}`)),u}}h(It,"processQueryResult"),h(xr,"getAuthToken"),U();var Rn=O(st());U();var Ln=O(st()),Cr=class extends Ln.Client{constructor(m){super(m),this.config=m}get neonConfig(){return this.connection.stream}connect(m){let{neonConfig:i}=this;i.forceDisablePgSSL&&(this.ssl=this.connection.ssl=!1),this.ssl&&i.useSecureWebSocket&&console.warn("SSL is enabled for both Postgres (e.g. ?sslmode=require in the connection string + forceDisablePgSSL = false) and the WebSocket tunnel (useSecureWebSocket = true). Double encryption will increase latency and CPU usage. It may be appropriate to disable SSL in the Postgres connection parameters or set forceDisablePgSSL = true.");let u=typeof this.config!="string"&&this.config?.host!==void 0||typeof this.config!="string"&&this.config?.connectionString!==void 0||j.env.PGHOST!==void 0,a=j.env.USER??j.env.USERNAME;if(!u&&this.host==="localhost"&&this.user===a&&this.database===a&&this.password===null)throw Error(`No database host or connection string was set, and key parameters have default values (host: localhost, user: ${a}, db: ${a}, password: null). Is an environment variable missing? Alternatively, if you intended to connect with these parameters, please set the host to 'localhost' explicitly.`);let o=super.connect(m),r=i.pipelineTLS&&this.ssl,t=i.pipelineConnect==="password";if(!r&&!i.pipelineConnect)return o;let l=this.connection;if(r&&l.on("connect",()=>l.stream.emit("data","S")),t){l.removeAllListeners("authenticationCleartextPassword"),l.removeAllListeners("readyForQuery"),l.once("readyForQuery",()=>l.on("readyForQuery",this._handleReadyForQuery.bind(this)));let y=this.ssl?"sslconnect":"connect";l.on(y,()=>{this.neonConfig.disableWarningInBrowsers||Ct(),this._handleAuthCleartextPassword(),this._handleReadyForQuery()})}return o}async _handleAuthSASLContinue(m){if(typeof crypto>"u"||crypto.subtle===void 0||crypto.subtle.importKey===void 0)throw Error("Cannot use SASL auth when `crypto.subtle` is not defined");let i=crypto.subtle,u=this.saslSession,a=this.password,o=m.data;if(u.message!=="SASLInitialResponse"||typeof a!="string"||typeof o!="string")throw Error("SASL: protocol error");let r=Object.fromEntries(o.split(",").map(Y=>{if(!/^.=/.test(Y))throw Error("SASL: Invalid attribute pair entry");return[Y[0],Y.substring(2)]})),t=r.r,l=r.s,y=r.i;if(!t||!/^[!-+--~]+$/.test(t))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing/unprintable");if(!l||!/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(l))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing/not base64");if(!y||!/^[1-9][0-9]*$/.test(y))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: missing/invalid iteration count");if(!t.startsWith(u.clientNonce))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");if(t.length===u.clientNonce.length)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short");let b=parseInt(y,10),d=F.from(l,"base64"),g=new TextEncoder,s=g.encode(a),w=await i.importKey("raw",s,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),p=new Uint8Array(await i.sign("HMAC",w,F.concat([d,F.from([0,0,0,1])]))),f=p;for(var _=0;_<b-1;_++)p=new Uint8Array(await i.sign("HMAC",w,p)),f=F.from(f.map((Y,X)=>f[X]^p[X]));let A=f,C=await i.importKey("raw",A,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),v=new Uint8Array(await i.sign("HMAC",C,g.encode("Client Key"))),T=await i.digest("SHA-256",v),Q="n=*,r="+u.clientNonce,k="r="+t+",s="+l+",i="+b,I="c=biws,r="+t,R=Q+","+k+","+I,S=await i.importKey("raw",T,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var L=new Uint8Array(await i.sign("HMAC",S,g.encode(R))),D=F.from(v.map((Y,X)=>v[X]^L[X])).toString("base64");let H=await i.importKey("raw",A,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),ee=await i.sign("HMAC",H,g.encode("Server Key")),N=await i.importKey("raw",ee,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var te=F.from(await i.sign("HMAC",N,g.encode(R)));u.message="SASLResponse",u.serverSignature=te.toString("base64"),u.response=I+",p="+D,this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}};h(Cr,"NeonClient"),ze();var Tn=O(St());function kr(m,i){let u,a;return i?{callback:i,result:void 0}:{callback:h(function(o,r){o?u(o):a(r)},"cb"),result:new m(function(o,r){a=o,u=r})}}h(kr,"promisify"),h(class extends Rn.Pool{constructor(){super(...arguments),M(this,"Client",Cr),M(this,"hasFetchUnsupportedListeners",!1),M(this,"addListener",this.on)}on(m,i){return m!=="error"&&(this.hasFetchUnsupportedListeners=!0),super.on(m,i)}query(m,i,u){if(!Ke.poolQueryViaFetch||this.hasFetchUnsupportedListeners||typeof m=="function")return super.query(m,i,u);typeof i=="function"&&(u=i,i=void 0);let a=kr(this.Promise,u);u=a.callback;try{let o=new Tn.default(this.options),r=encodeURIComponent,t=encodeURI,l=`postgresql://${r(o.user)}:${r(o.password)}@${r(o.host)}/${t(o.database)}`,y=typeof m=="string"?m:m.text,b=i??m.values??[];Pt(l,{fullResults:!0,arrayMode:m.rowMode==="array"}).query(y,b,{types:m.types??this.options?.types}).then(d=>u(void 0,d)).catch(d=>u(d))}catch(o){u(o)}return a.result}},"NeonPool"),ze();var Ze=O(st());Ze.DatabaseError,Ze.defaults,Ze.escapeIdentifier,Ze.escapeLiteral,Ze.types;let Mn=Pt(process.env.DATABASE_URL);async function Pr(m,i=[]){try{return{rows:await Mn(m,i)}}catch(u){throw console.error("Database query error:",u),u}}let On="edge";async function Bn(){try{let m=await Pr("SELECT NOW() as current_time, VERSION() as version");return Response.json({success:!0,message:"Edge Runtime + PostgreSQL working!",data:m.rows[0],timestamp:new Date().toISOString()})}catch(m){return console.error("Edge API Error:",m),Response.json({success:!1,error:m.message},{status:500})}}async function Dn(m){try{let i=await m.json(),u=await Pr("SELECT $1 as message, $2 as number",[i.message||"Hello from Edge Runtime!",i.number||42]);return Response.json({success:!0,echo:u.rows[0]})}catch(i){return Response.json({success:!1,error:i.message},{status:500})}}let Rt=new Le.AppRouteRouteModule({definition:{kind:Be.x.APP_ROUTE,page:"/api/test-edge/route",pathname:"/api/test-edge",filename:"route",bundlePath:"app/api/test-edge/route"},resolvedPagePath:"/Users/sean/git/alert24-app/app/api/test-edge/route.js",nextConfigOutput:"",userland:K}),{requestAsyncStorage:Nn,staticGenerationAsyncStorage:Ir,serverHooks:Rr}=Rt,Un="/api/test-edge/route";function Fn(){return(0,$e.XH)({serverHooks:Rr,staticGenerationAsyncStorage:Ir})}let Qn=ae,qn=Ee.a.wrap(Rt)}},ye=>{var me=W=>ye(ye.s=W);ye.O(0,[2720,7883],()=>me(3003));var Z=ye.O();(ne._ENTRIES=typeof ne._ENTRIES>"u"?{}:ne._ENTRIES)["middleware_app/api/test-edge/route"]=Z}]),function(){let ye={exports:{},loaded:!1};return function(Z,W){var re=Object.create,K=Object.defineProperty,ae=Object.getOwnPropertyDescriptor,ce=Object.getOwnPropertyNames,se=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty,j=O=>K(O,"__esModule",{value:!0}),Ee=(O,z)=>{j(O);for(var M in z)K(O,M,{get:z[M],enumerable:!0})},Le=(O,z,M)=>{if(z&&typeof z=="object"||typeof z=="function")for(let J of ce(z))!F.call(O,J)&&J!=="default"&&K(O,J,{get:()=>z[J],enumerable:!(M=ae(z,J))||M.enumerable});return O},Be=O=>Le(j(K(O!=null?re(se(O)):{},"default",O&&O.__esModule&&"default"in O?{get:()=>O.default,enumerable:!0}:{value:O,enumerable:!0})),O);Ee(W,{default:()=>ge});var $e=Be((Nr(),zn(Xe))),We="@next/request-context",Re=Symbol.for(We),Fe=Symbol.for("internal.storage");function lt(){let O=ne;if(!O[Re]){let z=new $e.AsyncLocalStorage,M={get:()=>z.getStore(),[Fe]:z};O[Re]=M}return O[Re]}var ft=lt();function pt(O,z){return ft[Fe].run(O,z)}function dt(O){let z={};return O&&O.forEach((M,J)=>{z[J]=M,J.toLowerCase()==="set-cookie"&&(z[J]=h(M))}),z}function h(O){let z=[],M=0,J,ke,_e,U,be;function Se(){for(;M<O.length&&/\s/.test(O.charAt(M));)M+=1;return M<O.length}function Pe(){return ke=O.charAt(M),ke!=="="&&ke!==";"&&ke!==","}for(;M<O.length;){for(J=M,be=!1;Se();)if(ke=O.charAt(M),ke===","){for(_e=M,M+=1,Se(),U=M;M<O.length&&Pe();)M+=1;M<O.length&&O.charAt(M)==="="?(be=!0,M=U,z.push(O.substring(J,_e)),J=M):M=_e+1}else M+=1;(!be||M>=O.length)&&z.push(O.substring(J,O.length))}return z}function ge(O){let z=O.staticRoutes.map(J=>({regexp:new RegExp(J.namedRegex),page:J.page})),M=O.dynamicRoutes?.map(J=>({regexp:new RegExp(J.namedRegex),page:J.page}))||[];return async function(J,ke){let _e=new URL(J.url).pathname,U={};if(O.nextConfig?.basePath&&_e.startsWith(O.nextConfig.basePath)&&(_e=_e.replace(O.nextConfig.basePath,"")||"/"),O.nextConfig?.i18n)for(let Se of O.nextConfig.i18n.locales){let Pe=new RegExp(`^/${Se}($|/)`,"i");if(_e.match(Pe)){_e=_e.replace(Pe,"/")||"/";break}}for(let Se of z)if(Se.regexp.exec(_e)){U.name=Se.page;break}if(!U.name){let Se=ve(_e);for(let Pe of M||[]){if(Se&&!ve(Pe.page))continue;let He=Pe.regexp.exec(_e);if(He){U={name:Pe.page,params:He.groups};break}}}let be=await pt({waitUntil:ke.waitUntil},()=>ne._ENTRIES[`middleware_${O.name}`].default.call({},{request:{url:J.url,method:J.method,headers:dt(J.headers),ip:G(J.headers,Ce.Ip),geo:{city:G(J.headers,Ce.City,!0),country:G(J.headers,Ce.Country,!0),latitude:G(J.headers,Ce.Latitude),longitude:G(J.headers,Ce.Longitude),region:G(J.headers,Ce.Region,!0)},nextConfig:O.nextConfig,page:U,body:J.body}}));return be.waitUntil&&ke.waitUntil(be.waitUntil),be.response}}function G(O,z,M=!1){let J=O.get(z)||void 0;return M&&J?decodeURIComponent(J):J}function ve(O){return O==="/api"||O.startsWith("/api/")}var Ce;(function(O){O.City="x-vercel-ip-city",O.Country="x-vercel-ip-country",O.Ip="x-real-ip",O.Latitude="x-vercel-ip-latitude",O.Longitude="x-vercel-ip-longitude",O.Region="x-vercel-ip-country-region"})(Ce||(Ce={}))}(ye,ye.exports),ye.exports}.call({}).default({name:"app/api/test-edge/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/accept-invitation",regex:"^/accept\\-invitation(?:/)?$",routeKeys:{},namedRegex:"^/accept\\-invitation(?:/)?$"},{page:"/debug-email",regex:"^/debug\\-email(?:/)?$",routeKeys:{},namedRegex:"^/debug\\-email(?:/)?$"},{page:"/debug-monitoring",regex:"^/debug\\-monitoring(?:/)?$",routeKeys:{},namedRegex:"^/debug\\-monitoring(?:/)?$"},{page:"/escalation-policies/new",regex:"^/escalation\\-policies/new(?:/)?$",routeKeys:{},namedRegex:"^/escalation\\-policies/new(?:/)?$"},{page:"/favicon.ico",regex:"^/favicon\\.ico(?:/)?$",routeKeys:{},namedRegex:"^/favicon\\.ico(?:/)?$"},{page:"/help",regex:"^/help(?:/)?$",routeKeys:{},namedRegex:"^/help(?:/)?$"},{page:"/incidents",regex:"^/incidents(?:/)?$",routeKeys:{},namedRegex:"^/incidents(?:/)?$"},{page:"/incidents/new",regex:"^/incidents/new(?:/)?$",routeKeys:{},namedRegex:"^/incidents/new(?:/)?$"},{page:"/monitoring",regex:"^/monitoring(?:/)?$",routeKeys:{},namedRegex:"^/monitoring(?:/)?$"},{page:"/monitoring/new",regex:"^/monitoring/new(?:/)?$",routeKeys:{},namedRegex:"^/monitoring/new(?:/)?$"},{page:"/on-call",regex:"^/on\\-call(?:/)?$",routeKeys:{},namedRegex:"^/on\\-call(?:/)?$"},{page:"/on-call/new",regex:"^/on\\-call/new(?:/)?$",routeKeys:{},namedRegex:"^/on\\-call/new(?:/)?$"},{page:"/organizations",regex:"^/organizations(?:/)?$",routeKeys:{},namedRegex:"^/organizations(?:/)?$"},{page:"/profile",regex:"^/profile(?:/)?$",routeKeys:{},namedRegex:"^/profile(?:/)?$"},{page:"/settings",regex:"^/settings(?:/)?$",routeKeys:{},namedRegex:"^/settings(?:/)?$"},{page:"/status-pages",regex:"^/status\\-pages(?:/)?$",routeKeys:{},namedRegex:"^/status\\-pages(?:/)?$"}],dynamicRoutes:[{page:"/api/auth/[...nextauth]",regex:"^/api/auth/(.+?)(?:/)?$",routeKeys:{nxtPnextauth:"nxtPnextauth"},namedRegex:"^/api/auth/(?<nxtPnextauth>.+?)(?:/)?$"},{page:"/api/incidents/[id]",regex:"^/api/incidents/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/incidents/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/incidents/[id]/updates",regex:"^/api/incidents/([^/]+?)/updates(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/incidents/(?<nxtPid>[^/]+?)/updates(?:/)?$"},{page:"/api/monitoring/[id]",regex:"^/api/monitoring/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/monitoring/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/on-call-schedules/[id]",regex:"^/api/on\\-call\\-schedules/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/on\\-call\\-schedules/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/organizations/[id]",regex:"^/api/organizations/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/organizations/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/organizations/[id]/invitations",regex:"^/api/organizations/([^/]+?)/invitations(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/organizations/(?<nxtPid>[^/]+?)/invitations(?:/)?$"},{page:"/api/services/[id]",regex:"^/api/services/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/services/[id]/monitoring",regex:"^/api/services/([^/]+?)/monitoring(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)/monitoring(?:/)?$"},{page:"/api/services/[id]/sla",regex:"^/api/services/([^/]+?)/sla(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)/sla(?:/)?$"},{page:"/api/status-pages/public/[slug]",regex:"^/api/status\\-pages/public/([^/]+?)(?:/)?$",routeKeys:{nxtPslug:"nxtPslug"},namedRegex:"^/api/status\\-pages/public/(?<nxtPslug>[^/]+?)(?:/)?$"},{page:"/api/status-pages/[id]",regex:"^/api/status\\-pages/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/status\\-pages/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/incidents/[id]",regex:"^/incidents/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/incidents/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/incidents/[id]/edit",regex:"^/incidents/([^/]+?)/edit(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/incidents/(?<nxtPid>[^/]+?)/edit(?:/)?$"},{page:"/monitoring/edit/[id]",regex:"^/monitoring/edit/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/monitoring/edit/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/on-call/[id]/edit",regex:"^/on\\-call/([^/]+?)/edit(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/on\\-call/(?<nxtPid>[^/]+?)/edit(?:/)?$"},{page:"/status/[slug]",regex:"^/status/([^/]+?)(?:/)?$",routeKeys:{nxtPslug:"nxtPslug"},namedRegex:"^/status/(?<nxtPslug>[^/]+?)(?:/)?$"}],nextConfig:{basePath:""}})))(xe,xe,xe);export{li as default};
