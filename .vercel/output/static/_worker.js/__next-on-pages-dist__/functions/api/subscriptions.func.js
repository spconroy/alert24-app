var Q=Object.defineProperty;var Y=Object.getOwnPropertyDescriptor;var Z=Object.getOwnPropertyNames;var ee=Object.prototype.hasOwnProperty;var te=(m,y)=>()=>(m&&(y=m(m=0)),y);var H=(m,y,U,b)=>{if(y&&typeof y=="object"||typeof y=="function")for(let _ of Z(y))!ee.call(m,_)&&_!==U&&Q(m,_,{get:()=>y[_],enumerable:!(b=Y(y,_))||b.enumerable});return m},z=(m,y,U)=>(H(m,y,"default"),U&&H(U,y,"default"));var se=m=>H(Q({},"__esModule",{value:!0}),m);var G={};import*as Nt from"async_hooks";var W=te(()=>{z(G,Nt)});import{__getNamedExports as re}from"../../../__next-on-pages-dist__/webpack/5856.js";import{__getNamedExports as ne}from"../../../__next-on-pages-dist__/webpack/aa5c0a3237ae1fd635b2d0bab25b6e94.js";import{__getNamedExports as ae}from"../../../__next-on-pages-dist__/webpack/ac7e0cd817c0f96ac6506045b651299a.js";import{__getNamedExports as ie}from"../../../__next-on-pages-dist__/webpack/5c7c089f9b18fab21905bdbf6a451f6c.js";import{__getNamedExports as oe}from"../../../__next-on-pages-dist__/webpack/fc1dd92f63cefab5577162dd844679df.js";import{__getNamedExports as ue}from"../../../__next-on-pages-dist__/manifest/537259e2ed205f5a7994cb4f05664668.js";var $=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/subscriptions"),ce=re($,$,$),he=ce.__chunk_5856,J=ne($,$,$),_e=J.__chunk_6095,le=J.__chunk_3543,de=J.__chunk_2641,d=ae($,$,$),pe=d.__chunk_6195,ge=d.__chunk_2067,fe=d.__chunk_9182,me=d.__chunk_8983,ke=d.__chunk_5228,xe=d.__chunk_2296,Pe=d.__chunk_2594,ye=d.__chunk_6735,be=d.__chunk_8219,$e=d.__chunk_5577,ve=d.__chunk_9254,Ee=d.__chunk_9206,we=d.__chunk_989,je=d.__chunk_1863,Oe=d.__chunk_3039,Ae=d.__chunk_335,Re=d.__chunk_8042,Ne=d.__chunk_7765,Te=d.__chunk_6991,Se=d.__chunk_8816,Ce=d.__chunk_6631,Me=d.__chunk_4828,Ke=d.__chunk_4834,Ie=d.__chunk_828,Fe=d.__chunk_5927,De=d.__chunk_8439,Le=d.__chunk_4363,Be=d.__chunk_2039,Ue=d.__chunk_8264,qe=d.__chunk_1583,Ge=d.__chunk_7908,He=d.__chunk_8949,ze=d.__chunk_796,Je=d.__chunk_1651,Xe=d.__chunk_5105,Qe=d.__chunk_9642,We=d.__chunk_5028,Ve=d.__chunk_9548,Ye=d.__chunk_6914,Ze=d.__chunk_7960,et=d.__chunk_4337,tt=d.__chunk_8819,D=ie($,$,$),st=D.__chunk_6006,rt=D.__chunk_9985,nt=D.__chunk_4155,at=D.__chunk_9037,it=D.__chunk_5737,ot=D.__chunk_4919,ut=D.__chunk_6855,ct=D.__chunk_3607,w=oe($,$,$),ht=w.__chunk_1730,_t=w.__chunk_3818,lt=w.__chunk_7037,dt=w.__chunk_9573,pt=w.__chunk_7701,gt=w.__chunk_662,ft=w.__chunk_4101,mt=w.__chunk_6776,kt=w.__chunk_3665,xt=w.__chunk_7444,Pt=w.__chunk_4591,yt=w.__chunk_7983,bt=w.__chunk_581,$t=w.__chunk_2561,vt=w.__chunk_2988,Et=w.__chunk_6947,wt=w.__chunk_5996,jt=w.__chunk_676,V=ue($,$,$),Ot=V.__NEXT_FONT_MANIFEST,At=V.__REACT_LOADABLE_MANIFEST,Ft=((m,y,U)=>(y._ENTRIES={},m.__BUILD_MANIFEST={polyfillFiles:["static/chunks/polyfills-42372ed130431b0a.js"],devFiles:[],ampDevFiles:[],lowPriorityFiles:[],rootMainFiles:["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/fd9d1056-30de07f4a3c346ee.js","static/chunks/7466-8fdf295a7c02cf2e.js","static/chunks/main-app-8eaf6dc4ad0df15d.js"],pages:{"/_app":["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/framework-8e0e0f4a6b83a956.js","static/chunks/main-17007a384daea84e.js","static/chunks/pages/_app-3c9ca398d360b709.js"],"/_error":["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/framework-8e0e0f4a6b83a956.js","static/chunks/main-17007a384daea84e.js","static/chunks/pages/_error-cf5ca766ac8f493f.js"]},ampFirstPages:[]},m.__BUILD_MANIFEST.lowPriorityFiles=["/static/5vAXtrh2qjJDoCjPjRb93/_buildManifest.js",,"/static/5vAXtrh2qjJDoCjPjRb93/_ssgManifest.js"],m.__REACT_LOADABLE_MANIFEST=At,m.__NEXT_FONT_MANIFEST=Ot,m.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",(()=>{"use strict";var b={},_={};function i(n){var c=_[n];if(c!==void 0)return c.exports;var u=_[n]={exports:{}},h=!0;try{b[n].call(u.exports,u,u.exports,i),h=!1}finally{h&&delete _[n]}return u.exports}i.m=b,i.amdO={},(()=>{var n=[];i.O=(c,u,h,t)=>{if(u){t=t||0;for(var e=n.length;e>0&&n[e-1][2]>t;e--)n[e]=n[e-1];n[e]=[u,h,t];return}for(var s=1/0,e=0;e<n.length;e++){for(var[u,h,t]=n[e],r=!0,o=0;o<u.length;o++)s>=t&&Object.keys(i.O).every(A=>i.O[A](u[o]))?u.splice(o--,1):(r=!1,t<s&&(s=t));if(r){n.splice(e--,1);var l=h();l!==void 0&&(c=l)}}return c}})(),i.n=n=>{var c=n&&n.__esModule?()=>n.default:()=>n;return i.d(c,{a:c}),c},(()=>{var n,c=Object.getPrototypeOf?u=>Object.getPrototypeOf(u):u=>u.__proto__;i.t=function(u,h){if(1&h&&(u=this(u)),8&h||typeof u=="object"&&u&&(4&h&&u.__esModule||16&h&&typeof u.then=="function"))return u;var t=Object.create(null);i.r(t);var e={};n=n||[null,c({}),c([]),c(c)];for(var s=2&h&&u;typeof s=="object"&&!~n.indexOf(s);s=c(s))Object.getOwnPropertyNames(s).forEach(r=>e[r]=()=>u[r]);return e.default=()=>u,i.d(t,e),t}})(),i.d=(n,c)=>{for(var u in c)i.o(c,u)&&!i.o(n,u)&&Object.defineProperty(n,u,{enumerable:!0,get:c[u]})},i.e=()=>Promise.resolve(),i.g=function(){if(typeof y=="object")return y;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(n,c)=>Object.prototype.hasOwnProperty.call(n,c),i.r=n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},(()=>{var n={5993:0};i.O.j=h=>n[h]===0;var c=(h,t)=>{var e,s,[r,o,l]=t,f=0;if(r.some(k=>n[k]!==0)){for(e in o)i.o(o,e)&&(i.m[e]=o[e]);if(l)var P=l(i)}for(h&&h(t);f<r.length;f++)s=r[f],i.o(n,s)&&n[s]&&n[s][0](),n[s]=0;return i.O(P)},u=m.webpackChunk_N_E=m.webpackChunk_N_E||[];u.forEach(c.bind(null,0)),u.push=c.bind(null,u.push.bind(u))})()})(),(m.webpackChunk_N_E=m.webpackChunk_N_E||[]).push([[2720],{8819:tt,4337:et,7960:Ze,6914:Ye,9548:Ve,5028:We,9642:Qe,5105:Xe,1651:Je,796:ze,8949:He,7908:Ge,1583:qe,8264:Ue,2039:Be,4363:Le,8439:De,5927:Fe,828:Ie,4834:Ke,4828:Me,6631:Ce,8816:Se,6991:Te,7765:Ne,8042:Re,335:Ae,3039:Oe,1863:je,989:we,9206:Ee,9254:ve,5577:$e,8219:be,6735:ye,2594:Pe,2296:xe,5228:ke,8983:me,9182:fe}]),(m.webpackChunk_N_E=m.webpackChunk_N_E||[]).push([[7883],{676:jt,5996:wt,6947:Et,2988:vt,2561:$t,581:bt,7983:yt,4591:Pt,7444:xt,3665:kt,6776:mt,4101:ft,662:gt,7701:pt,9573:dt,7037:lt,3818:_t,1730:ht}]),(m.webpackChunk_N_E=m.webpackChunk_N_E||[]).push([[1377],{3607:ct,4953:function(b,_,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_,"__esModule",{value:!0});let c=n(i(3607)),u=n(i(6855));class h{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=c.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=Object.assign({},this.headers),this.headers[e]=s,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var l,f,P;let k=null,v=null,A=null,O=o.status,j=o.statusText;if(o.ok){if(this.method!=="HEAD"){let I=await o.text();I===""||(v=this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?I:JSON.parse(I))}let S=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),K=(f=o.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");S&&K&&K.length>1&&(A=parseInt(K[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(k={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,A=null,O=406,j="Not Acceptable"):v=v.length===1?v[0]:null)}else{let S=await o.text();try{k=JSON.parse(S),Array.isArray(k)&&o.status===404&&(v=[],k=null,O=200,j="OK")}catch{o.status===404&&S===""?(O=204,j="No Content"):k={message:S}}if(k&&this.isMaybeSingle&&((P=k?.details)===null||P===void 0?void 0:P.includes("0 rows"))&&(k=null,O=200,j="OK"),k&&this.shouldThrowOnError)throw new u.default(k)}return{error:k,data:v,count:A,status:O,statusText:j}});return this.shouldThrowOnError||(r=r.catch(o=>{var l,f,P;return{error:{message:`${(l=o?.name)!==null&&l!==void 0?l:"FetchError"}: ${o?.message}`,details:`${(f=o?.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(P=o?.code)!==null&&P!==void 0?P:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,s)}returns(){return this}overrideTypes(){return this}}_.default=h},4708:function(b,_,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_,"__esModule",{value:!0});let c=n(i(3449)),u=n(i(5245)),h=i(4919);class t{constructor(s,{headers:r={},schema:o,fetch:l}={}){this.url=s,this.headers=Object.assign(Object.assign({},h.DEFAULT_HEADERS),r),this.schemaName=o,this.fetch=l}from(s){let r=new URL(`${this.url}/${s}`);return new c.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new t(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,r={},{head:o=!1,get:l=!1,count:f}={}){let P,k,v=new URL(`${this.url}/rpc/${s}`);o||l?(P=o?"HEAD":"GET",Object.entries(r).filter(([O,j])=>j!==void 0).map(([O,j])=>[O,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([O,j])=>{v.searchParams.append(O,j)})):(P="POST",k=r);let A=Object.assign({},this.headers);return f&&(A.Prefer=`count=${f}`),new u.default({method:P,url:v,headers:A,schema:this.schemaName,body:k,fetch:this.fetch,allowEmpty:!1})}}_.default=t},6855:ut,5245:function(b,_,i){"use strict";var n=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(_,"__esModule",{value:!0});let c=n(i(1560));class u extends c.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){let s=Array.from(new Set(e)).map(r=>typeof r=="string"&&RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:s,type:r}={}){let o="";r==="plain"?o="pl":r==="phrase"?o="ph":r==="websearch"&&(o="w");let l=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${o}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,s])=>{this.url.searchParams.append(e,`eq.${s}`)}),this}not(t,e,s){return this.url.searchParams.append(t,`not.${e}.${s}`),this}or(t,{foreignTable:e,referencedTable:s=e}={}){let r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,s){return this.url.searchParams.append(t,`${e}.${s}`),this}}_.default=u},3449:function(b,_,i){"use strict";var n=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(_,"__esModule",{value:!0});let c=n(i(5245));class u{constructor(t,{headers:e={},schema:s,fetch:r}){this.url=t,this.headers=e,this.schema=s,this.fetch=r}select(t,{head:e=!1,count:s}={}){let r=!1,o=(t??"*").split("").map(l=>/\s/.test(l)&&!r?"":(l==='"'&&(r=!r),l)).join("");return this.url.searchParams.set("select",o),s&&(this.headers.Prefer=`count=${s}`),new c.default({method:e?"HEAD":"GET",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:s=!0}={}){let r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),e&&r.push(`count=${e}`),s||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(t)){let o=t.reduce((l,f)=>l.concat(Object.keys(f)),[]);if(o.length>0){let l=[...new Set(o)].map(f=>`"${f}"`);this.url.searchParams.set("columns",l.join(","))}}return new c.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:s=!1,count:r,defaultToNull:o=!0}={}){let l=[`resolution=${s?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&l.push(this.headers.Prefer),r&&l.push(`count=${r}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){let f=t.reduce((P,k)=>P.concat(Object.keys(k)),[]);if(f.length>0){let P=[...new Set(f)].map(k=>`"${k}"`);this.url.searchParams.set("columns",P.join(","))}}return new c.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){let s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),e&&s.push(`count=${e}`),this.headers.Prefer=s.join(","),new c.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let e=[];return t&&e.push(`count=${t}`),this.headers.Prefer&&e.unshift(this.headers.Prefer),this.headers.Prefer=e.join(","),new c.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}_.default=u},1560:function(b,_,i){"use strict";var n=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(_,"__esModule",{value:!0});let c=n(i(4953));class u extends c.default{select(t){let e=!1,s=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:s,foreignTable:r,referencedTable:o=r}={}){let l=o?`${o}.order`:"order",f=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${f?`${f},`:""}${t}.${e?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:s=e}={}){let r=s===void 0?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:s,referencedTable:r=s}={}){let o=r===void 0?"offset":`${r}.offset`,l=r===void 0?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:s=!1,buffers:r=!1,wal:o=!1,format:l="text"}={}){var f;let P=[t?"analyze":null,e?"verbose":null,s?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),k=(f=this.headers.Accept)!==null&&f!==void 0?f:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${k}"; options=${P};`,this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}_.default=u},4919:ot,7483:function(b,_,i){"use strict";var n=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_,"__esModule",{value:!0}),_.PostgrestError=_.PostgrestBuilder=_.PostgrestTransformBuilder=_.PostgrestFilterBuilder=_.PostgrestQueryBuilder=_.PostgrestClient=void 0;let c=n(i(4708));_.PostgrestClient=c.default;let u=n(i(3449));_.PostgrestQueryBuilder=u.default;let h=n(i(5245));_.PostgrestFilterBuilder=h.default;let t=n(i(1560));_.PostgrestTransformBuilder=t.default;let e=n(i(4953));_.PostgrestBuilder=e.default;let s=n(i(6855));_.PostgrestError=s.default,_.default={PostgrestClient:c.default,PostgrestQueryBuilder:u.default,PostgrestFilterBuilder:h.default,PostgrestTransformBuilder:t.default,PostgrestBuilder:e.default,PostgrestError:s.default}},5737:it,9037:at,4155:nt,9985:rt}]),(m.webpackChunk_N_E=m.webpackChunk_N_E||[]).push([[3452],{2641:de,3543:le}]),(m.webpackChunk_N_E=m.webpackChunk_N_E||[]).push([[6006],{6006:st}]),(m.webpackChunk_N_E=m.webpackChunk_N_E||[]).push([[9372],{2067:ge,6195:pe,8237:(b,_,i)=>{"use strict";i.r(_),i.d(_,{ComponentMod:()=>K,default:()=>I});var n={};i.r(n),i.d(n,{DELETE:()=>P,POST:()=>f,runtime:()=>l});var c={};i.r(c),i.d(c,{originalPathname:()=>j,patchFetch:()=>S,requestAsyncStorage:()=>v,routeModule:()=>k,serverHooks:()=>O,staticGenerationAsyncStorage:()=>A});var u=i(7983),h=i(2561),t=i(4828),e=i(6631),s=i(9985);i(6095);var r=i(6006);i(5856);let o=new r._,l="edge";async function f(q){try{let{status_page_id:E,email:T}=await q.json();if(!E||!T)return s.xk.json({error:"Missing status_page_id or email"},{status:400});if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(T))return s.xk.json({error:"Invalid email format"},{status:400});let N=await o.getStatusPageById(E);if(!N)return s.xk.json({error:"Status page not found"},{status:404});if(!N.is_public)return s.xk.json({error:"Cannot subscribe to private status page"},{status:403});if(await o.getSubscription(E,T))return s.xk.json({error:"Email is already subscribed to this status page"},{status:409});let a=new Uint8Array(32);crypto.getRandomValues(a);let x=Array.from(a).map(p=>p.toString(16).padStart(2,"0")).join(""),g=await o.createSubscription({status_page_id:E,email:T,unsubscribe_token:x,subscribed_at:new Date().toISOString(),is_active:!0});return s.xk.json({success:!0,message:"Successfully subscribed to status page updates",subscription_id:g.id,unsubscribe_token:x})}catch(E){return console.error("Error creating subscription:",E),s.xk.json({success:!1,error:"Failed to create subscription",details:E.message},{status:500})}}async function P(q){try{let{searchParams:E}=new URL(q.url),T=E.get("token");return T?await o.unsubscribeByToken(T)?s.xk.json({success:!0,message:"Successfully unsubscribed from status page updates"}):s.xk.json({error:"Invalid unsubscribe token"},{status:404}):s.xk.json({error:"Unsubscribe token is required"},{status:400})}catch(E){return console.error("Error unsubscribing:",E),s.xk.json({success:!1,error:"Failed to unsubscribe",details:E.message},{status:500})}}let k=new h.AppRouteRouteModule({definition:{kind:t.x.APP_ROUTE,page:"/api/subscriptions/route",pathname:"/api/subscriptions",filename:"route",bundlePath:"app/api/subscriptions/route"},resolvedPagePath:"/Users/sean/git/alert24-app/app/api/subscriptions/route.js",nextConfigOutput:"",userland:n}),{requestAsyncStorage:v,staticGenerationAsyncStorage:A,serverHooks:O}=k,j="/api/subscriptions/route";function S(){return(0,e.XH)({serverHooks:O,staticGenerationAsyncStorage:A})}let K=c,I=u.a.wrap(k)},6095:_e,5856:he},b=>{var _=n=>b(b.s=n);b.O(0,[2720,7883,1377,3452,6006],()=>_(8237));var i=b.O();(y._ENTRIES=typeof y._ENTRIES>"u"?{}:y._ENTRIES)["middleware_app/api/subscriptions/route"]=i}]),function(){let b={exports:{},loaded:!1};return function(i,n){var c=Object.create,u=Object.defineProperty,h=Object.getOwnPropertyDescriptor,t=Object.getOwnPropertyNames,e=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,r=a=>u(a,"__esModule",{value:!0}),o=(a,x)=>{r(a);for(var g in x)u(a,g,{get:x[g],enumerable:!0})},l=(a,x,g)=>{if(x&&typeof x=="object"||typeof x=="function")for(let p of t(x))!s.call(a,p)&&p!=="default"&&u(a,p,{get:()=>x[p],enumerable:!(g=h(x,p))||g.enumerable});return a},f=a=>l(r(u(a!=null?c(e(a)):{},"default",a&&a.__esModule&&"default"in a?{get:()=>a.default,enumerable:!0}:{value:a,enumerable:!0})),a);o(n,{default:()=>q});var P=f((W(),se(G))),k="@next/request-context",v=Symbol.for(k),A=Symbol.for("internal.storage");function O(){let a=y;if(!a[v]){let x=new P.AsyncLocalStorage,g={get:()=>x.getStore(),[A]:x};a[v]=g}return a[v]}var j=O();function S(a,x){return j[A].run(a,x)}function K(a){let x={};return a&&a.forEach((g,p)=>{x[p]=g,p.toLowerCase()==="set-cookie"&&(x[p]=I(g))}),x}function I(a){let x=[],g=0,p,C,R,L,B;function M(){for(;g<a.length&&/\s/.test(a.charAt(g));)g+=1;return g<a.length}function F(){return C=a.charAt(g),C!=="="&&C!==";"&&C!==","}for(;g<a.length;){for(p=g,B=!1;M();)if(C=a.charAt(g),C===","){for(R=g,g+=1,M(),L=g;g<a.length&&F();)g+=1;g<a.length&&a.charAt(g)==="="?(B=!0,g=L,x.push(a.substring(p,R)),p=g):g=R+1}else g+=1;(!B||g>=a.length)&&x.push(a.substring(p,a.length))}return x}function q(a){let x=a.staticRoutes.map(p=>({regexp:new RegExp(p.namedRegex),page:p.page})),g=a.dynamicRoutes?.map(p=>({regexp:new RegExp(p.namedRegex),page:p.page}))||[];return async function(p,C){let R=new URL(p.url).pathname,L={};if(a.nextConfig?.basePath&&R.startsWith(a.nextConfig.basePath)&&(R=R.replace(a.nextConfig.basePath,"")||"/"),a.nextConfig?.i18n)for(let M of a.nextConfig.i18n.locales){let F=new RegExp(`^/${M}($|/)`,"i");if(R.match(F)){R=R.replace(F,"/")||"/";break}}for(let M of x)if(M.regexp.exec(R)){L.name=M.page;break}if(!L.name){let M=T(R);for(let F of g||[]){if(M&&!T(F.page))continue;let X=F.regexp.exec(R);if(X){L={name:F.page,params:X.groups};break}}}let B=await S({waitUntil:C.waitUntil},()=>y._ENTRIES[`middleware_${a.name}`].default.call({},{request:{url:p.url,method:p.method,headers:K(p.headers),ip:E(p.headers,N.Ip),geo:{city:E(p.headers,N.City,!0),country:E(p.headers,N.Country,!0),latitude:E(p.headers,N.Latitude),longitude:E(p.headers,N.Longitude),region:E(p.headers,N.Region,!0)},nextConfig:a.nextConfig,page:L,body:p.body}}));return B.waitUntil&&C.waitUntil(B.waitUntil),B.response}}function E(a,x,g=!1){let p=a.get(x)||void 0;return g&&p?decodeURIComponent(p):p}function T(a){return a==="/api"||a.startsWith("/api/")}var N;(function(a){a.City="x-vercel-ip-city",a.Country="x-vercel-ip-country",a.Ip="x-real-ip",a.Latitude="x-vercel-ip-latitude",a.Longitude="x-vercel-ip-longitude",a.Region="x-vercel-ip-country-region"})(N||(N={}))}(b,b.exports),b.exports}.call({}).default({name:"app/api/subscriptions/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/accept-invitation",regex:"^/accept\\-invitation(?:/)?$",routeKeys:{},namedRegex:"^/accept\\-invitation(?:/)?$"},{page:"/debug-email",regex:"^/debug\\-email(?:/)?$",routeKeys:{},namedRegex:"^/debug\\-email(?:/)?$"},{page:"/debug-monitoring",regex:"^/debug\\-monitoring(?:/)?$",routeKeys:{},namedRegex:"^/debug\\-monitoring(?:/)?$"},{page:"/escalation-policies/new",regex:"^/escalation\\-policies/new(?:/)?$",routeKeys:{},namedRegex:"^/escalation\\-policies/new(?:/)?$"},{page:"/favicon.ico",regex:"^/favicon\\.ico(?:/)?$",routeKeys:{},namedRegex:"^/favicon\\.ico(?:/)?$"},{page:"/help",regex:"^/help(?:/)?$",routeKeys:{},namedRegex:"^/help(?:/)?$"},{page:"/incidents",regex:"^/incidents(?:/)?$",routeKeys:{},namedRegex:"^/incidents(?:/)?$"},{page:"/incidents/new",regex:"^/incidents/new(?:/)?$",routeKeys:{},namedRegex:"^/incidents/new(?:/)?$"},{page:"/monitoring",regex:"^/monitoring(?:/)?$",routeKeys:{},namedRegex:"^/monitoring(?:/)?$"},{page:"/monitoring/new",regex:"^/monitoring/new(?:/)?$",routeKeys:{},namedRegex:"^/monitoring/new(?:/)?$"},{page:"/on-call",regex:"^/on\\-call(?:/)?$",routeKeys:{},namedRegex:"^/on\\-call(?:/)?$"},{page:"/on-call/new",regex:"^/on\\-call/new(?:/)?$",routeKeys:{},namedRegex:"^/on\\-call/new(?:/)?$"},{page:"/organizations",regex:"^/organizations(?:/)?$",routeKeys:{},namedRegex:"^/organizations(?:/)?$"},{page:"/profile",regex:"^/profile(?:/)?$",routeKeys:{},namedRegex:"^/profile(?:/)?$"},{page:"/settings",regex:"^/settings(?:/)?$",routeKeys:{},namedRegex:"^/settings(?:/)?$"},{page:"/status-pages",regex:"^/status\\-pages(?:/)?$",routeKeys:{},namedRegex:"^/status\\-pages(?:/)?$"}],dynamicRoutes:[{page:"/api/auth/[...nextauth]",regex:"^/api/auth/(.+?)(?:/)?$",routeKeys:{nxtPnextauth:"nxtPnextauth"},namedRegex:"^/api/auth/(?<nxtPnextauth>.+?)(?:/)?$"},{page:"/api/incidents/[id]",regex:"^/api/incidents/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/incidents/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/incidents/[id]/updates",regex:"^/api/incidents/([^/]+?)/updates(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/incidents/(?<nxtPid>[^/]+?)/updates(?:/)?$"},{page:"/api/monitoring/[id]",regex:"^/api/monitoring/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/monitoring/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/on-call-schedules/[id]",regex:"^/api/on\\-call\\-schedules/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/on\\-call\\-schedules/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/organizations/[id]",regex:"^/api/organizations/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/organizations/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/organizations/[id]/invitations",regex:"^/api/organizations/([^/]+?)/invitations(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/organizations/(?<nxtPid>[^/]+?)/invitations(?:/)?$"},{page:"/api/services/[id]",regex:"^/api/services/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/services/[id]/monitoring",regex:"^/api/services/([^/]+?)/monitoring(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)/monitoring(?:/)?$"},{page:"/api/services/[id]/sla",regex:"^/api/services/([^/]+?)/sla(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)/sla(?:/)?$"},{page:"/api/status-pages/public/[slug]",regex:"^/api/status\\-pages/public/([^/]+?)(?:/)?$",routeKeys:{nxtPslug:"nxtPslug"},namedRegex:"^/api/status\\-pages/public/(?<nxtPslug>[^/]+?)(?:/)?$"},{page:"/api/status-pages/[id]",regex:"^/api/status\\-pages/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/status\\-pages/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/incidents/[id]",regex:"^/incidents/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/incidents/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/incidents/[id]/edit",regex:"^/incidents/([^/]+?)/edit(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/incidents/(?<nxtPid>[^/]+?)/edit(?:/)?$"},{page:"/monitoring/edit/[id]",regex:"^/monitoring/edit/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/monitoring/edit/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/on-call/[id]/edit",regex:"^/on\\-call/([^/]+?)/edit(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/on\\-call/(?<nxtPid>[^/]+?)/edit(?:/)?$"},{page:"/status/[slug]",regex:"^/status/([^/]+?)(?:/)?$",routeKeys:{nxtPslug:"nxtPslug"},namedRegex:"^/status/(?<nxtPslug>[^/]+?)(?:/)?$"}],nextConfig:{basePath:""}})))($,$,$);export{Ft as default};
