var X=Object.defineProperty;var V=Object.getOwnPropertyDescriptor;var Y=Object.getOwnPropertyNames;var Z=Object.prototype.hasOwnProperty;var ee=(m,y)=>()=>(m&&(y=m(m=0)),y);var G=(m,y,z,b)=>{if(y&&typeof y=="object"||typeof y=="function")for(let l of Y(y))!Z.call(m,l)&&l!==z&&X(m,l,{get:()=>y[l],enumerable:!(b=V(y,l))||b.enumerable});return m},H=(m,y,z)=>(G(m,y,"default"),z&&G(z,y,"default"));var te=m=>G(X({},"__esModule",{value:!0}),m);var q={};import*as $t from"async_hooks";var Q=ee(()=>{H(q,$t)});import{__getNamedExports as re}from"../../../__next-on-pages-dist__/webpack/ac7e0cd817c0f96ac6506045b651299a.js";import{__getNamedExports as se}from"../../../__next-on-pages-dist__/webpack/5c7c089f9b18fab21905bdbf6a451f6c.js";import{__getNamedExports as ne}from"../../../__next-on-pages-dist__/webpack/fc1dd92f63cefab5577162dd844679df.js";import{__getNamedExports as ae}from"../../../__next-on-pages-dist__/manifest/537259e2ed205f5a7994cb4f05664668.js";var j=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/test-cloudflare-db"),d=re(j,j,j),ie=d.__chunk_6195,oe=d.__chunk_2067,ue=d.__chunk_9182,ce=d.__chunk_8983,he=d.__chunk_5228,le=d.__chunk_2296,_e=d.__chunk_2594,de=d.__chunk_6735,pe=d.__chunk_8219,ge=d.__chunk_5577,fe=d.__chunk_9254,me=d.__chunk_9206,ke=d.__chunk_989,xe=d.__chunk_1863,Pe=d.__chunk_3039,ye=d.__chunk_335,be=d.__chunk_8042,$e=d.__chunk_7765,ve=d.__chunk_6991,we=d.__chunk_8816,Ee=d.__chunk_6631,je=d.__chunk_4828,Oe=d.__chunk_4834,Re=d.__chunk_828,Ae=d.__chunk_5927,Te=d.__chunk_8439,Se=d.__chunk_4363,Ne=d.__chunk_2039,Ce=d.__chunk_8264,Me=d.__chunk_1583,Ke=d.__chunk_7908,Ie=d.__chunk_8949,De=d.__chunk_796,Fe=d.__chunk_1651,Le=d.__chunk_5105,Be=d.__chunk_9642,Ue=d.__chunk_5028,ze=d.__chunk_9548,qe=d.__chunk_6914,Ge=d.__chunk_7960,He=d.__chunk_4337,Je=d.__chunk_8819,F=se(j,j,j),Xe=F.__chunk_6006,Qe=F.__chunk_9985,We=F.__chunk_4155,Ve=F.__chunk_9037,Ye=F.__chunk_5737,Ze=F.__chunk_4919,et=F.__chunk_6855,tt=F.__chunk_3607,v=ne(j,j,j),rt=v.__chunk_1730,st=v.__chunk_3818,nt=v.__chunk_7037,at=v.__chunk_9573,it=v.__chunk_7701,ot=v.__chunk_662,ut=v.__chunk_4101,ct=v.__chunk_6776,ht=v.__chunk_3665,lt=v.__chunk_7444,_t=v.__chunk_4591,dt=v.__chunk_7983,pt=v.__chunk_581,gt=v.__chunk_2561,ft=v.__chunk_2988,mt=v.__chunk_6947,kt=v.__chunk_5996,xt=v.__chunk_676,W=ae(j,j,j),Pt=W.__NEXT_FONT_MANIFEST,yt=W.__REACT_LOADABLE_MANIFEST,Ot=((m,y,z)=>(y._ENTRIES={},m.__BUILD_MANIFEST={polyfillFiles:["static/chunks/polyfills-42372ed130431b0a.js"],devFiles:[],ampDevFiles:[],lowPriorityFiles:[],rootMainFiles:["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/fd9d1056-30de07f4a3c346ee.js","static/chunks/7466-8fdf295a7c02cf2e.js","static/chunks/main-app-8eaf6dc4ad0df15d.js"],pages:{"/_app":["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/framework-8e0e0f4a6b83a956.js","static/chunks/main-17007a384daea84e.js","static/chunks/pages/_app-3c9ca398d360b709.js"],"/_error":["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/framework-8e0e0f4a6b83a956.js","static/chunks/main-17007a384daea84e.js","static/chunks/pages/_error-cf5ca766ac8f493f.js"]},ampFirstPages:[]},m.__BUILD_MANIFEST.lowPriorityFiles=["/static/5vAXtrh2qjJDoCjPjRb93/_buildManifest.js",,"/static/5vAXtrh2qjJDoCjPjRb93/_ssgManifest.js"],m.__REACT_LOADABLE_MANIFEST=yt,m.__NEXT_FONT_MANIFEST=Pt,m.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",(()=>{"use strict";var b={},l={};function i(n){var c=l[n];if(c!==void 0)return c.exports;var o=l[n]={exports:{}},h=!0;try{b[n].call(o.exports,o,o.exports,i),h=!1}finally{h&&delete l[n]}return o.exports}i.m=b,i.amdO={},(()=>{var n=[];i.O=(c,o,h,t)=>{if(o){t=t||0;for(var e=n.length;e>0&&n[e-1][2]>t;e--)n[e]=n[e-1];n[e]=[o,h,t];return}for(var r=1/0,e=0;e<n.length;e++){for(var[o,h,t]=n[e],s=!0,u=0;u<o.length;u++)r>=t&&Object.keys(i.O).every(O=>i.O[O](o[u]))?o.splice(u--,1):(s=!1,t<r&&(r=t));if(s){n.splice(e--,1);var _=h();_!==void 0&&(c=_)}}return c}})(),i.n=n=>{var c=n&&n.__esModule?()=>n.default:()=>n;return i.d(c,{a:c}),c},(()=>{var n,c=Object.getPrototypeOf?o=>Object.getPrototypeOf(o):o=>o.__proto__;i.t=function(o,h){if(1&h&&(o=this(o)),8&h||typeof o=="object"&&o&&(4&h&&o.__esModule||16&h&&typeof o.then=="function"))return o;var t=Object.create(null);i.r(t);var e={};n=n||[null,c({}),c([]),c(c)];for(var r=2&h&&o;typeof r=="object"&&!~n.indexOf(r);r=c(r))Object.getOwnPropertyNames(r).forEach(s=>e[s]=()=>o[s]);return e.default=()=>o,i.d(t,e),t}})(),i.d=(n,c)=>{for(var o in c)i.o(c,o)&&!i.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:c[o]})},i.e=()=>Promise.resolve(),i.g=function(){if(typeof y=="object")return y;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(n,c)=>Object.prototype.hasOwnProperty.call(n,c),i.r=n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},(()=>{var n={5993:0};i.O.j=h=>n[h]===0;var c=(h,t)=>{var e,r,[s,u,_]=t,f=0;if(s.some(x=>n[x]!==0)){for(e in u)i.o(u,e)&&(i.m[e]=u[e]);if(_)var P=_(i)}for(h&&h(t);f<s.length;f++)r=s[f],i.o(n,r)&&n[r]&&n[r][0](),n[r]=0;return i.O(P)},o=m.webpackChunk_N_E=m.webpackChunk_N_E||[];o.forEach(c.bind(null,0)),o.push=c.bind(null,o.push.bind(o))})()})(),(m.webpackChunk_N_E=m.webpackChunk_N_E||[]).push([[2720],{8819:Je,4337:He,7960:Ge,6914:qe,9548:ze,5028:Ue,9642:Be,5105:Le,1651:Fe,796:De,8949:Ie,7908:Ke,1583:Me,8264:Ce,2039:Ne,4363:Se,8439:Te,5927:Ae,828:Re,4834:Oe,4828:je,6631:Ee,8816:we,6991:ve,7765:$e,8042:be,335:ye,3039:Pe,1863:xe,989:ke,9206:me,9254:fe,5577:ge,8219:pe,6735:de,2594:_e,2296:le,5228:he,8983:ce,9182:ue}]),(m.webpackChunk_N_E=m.webpackChunk_N_E||[]).push([[7883],{676:xt,5996:kt,6947:mt,2988:ft,2561:gt,581:pt,7983:dt,4591:_t,7444:lt,3665:ht,6776:ct,4101:ut,662:ot,7701:it,9573:at,7037:nt,3818:st,1730:rt}]),(m.webpackChunk_N_E=m.webpackChunk_N_E||[]).push([[1377],{3607:tt,4953:function(b,l,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(l,"__esModule",{value:!0});let c=n(i(3607)),o=n(i(6855));class h{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=c.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let s=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var _,f,P;let x=null,$=null,O=null,R=u.status,w=u.statusText;if(u.ok){if(this.method!=="HEAD"){let A=await u.text();A===""||($=this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?A:JSON.parse(A))}let C=(_=this.headers.Prefer)===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),I=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");C&&I&&I.length>1&&(O=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray($)&&($.length>1?(x={code:"PGRST116",details:`Results contain ${$.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},$=null,O=null,R=406,w="Not Acceptable"):$=$.length===1?$[0]:null)}else{let C=await u.text();try{x=JSON.parse(C),Array.isArray(x)&&u.status===404&&($=[],x=null,R=200,w="OK")}catch{u.status===404&&C===""?(R=204,w="No Content"):x={message:C}}if(x&&this.isMaybeSingle&&((P=x?.details)===null||P===void 0?void 0:P.includes("0 rows"))&&(x=null,R=200,w="OK"),x&&this.shouldThrowOnError)throw new o.default(x)}return{error:x,data:$,count:O,status:R,statusText:w}});return this.shouldThrowOnError||(s=s.catch(u=>{var _,f,P;return{error:{message:`${(_=u?.name)!==null&&_!==void 0?_:"FetchError"}: ${u?.message}`,details:`${(f=u?.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(P=u?.code)!==null&&P!==void 0?P:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}}l.default=h},4708:function(b,l,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l,"__esModule",{value:!0});let c=n(i(3449)),o=n(i(5245)),h=i(4919);class t{constructor(r,{headers:s={},schema:u,fetch:_}={}){this.url=r,this.headers=Object.assign(Object.assign({},h.DEFAULT_HEADERS),s),this.schemaName=u,this.fetch=_}from(r){let s=new URL(`${this.url}/${r}`);return new c.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new t(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,s={},{head:u=!1,get:_=!1,count:f}={}){let P,x,$=new URL(`${this.url}/rpc/${r}`);u||_?(P=u?"HEAD":"GET",Object.entries(s).filter(([R,w])=>w!==void 0).map(([R,w])=>[R,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([R,w])=>{$.searchParams.append(R,w)})):(P="POST",x=s);let O=Object.assign({},this.headers);return f&&(O.Prefer=`count=${f}`),new o.default({method:P,url:$,headers:O,schema:this.schemaName,body:x,fetch:this.fetch,allowEmpty:!1})}}l.default=t},6855:et,5245:function(b,l,i){"use strict";var n=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(l,"__esModule",{value:!0});let c=n(i(1560));class o extends c.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){let r=Array.from(new Set(e)).map(s=>typeof s=="string"&&RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:s}={}){let u="";s==="plain"?u="pl":s==="phrase"?u="ph":s==="websearch"&&(u="w");let _=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${u}fts${_}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){let s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}}l.default=o},3449:function(b,l,i){"use strict";var n=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(l,"__esModule",{value:!0});let c=n(i(5245));class o{constructor(t,{headers:e={},schema:r,fetch:s}){this.url=t,this.headers=e,this.schema=r,this.fetch=s}select(t,{head:e=!1,count:r}={}){let s=!1,u=(t??"*").split("").map(_=>/\s/.test(_)&&!s?"":(_==='"'&&(s=!s),_)).join("");return this.url.searchParams.set("select",u),r&&(this.headers.Prefer=`count=${r}`),new c.default({method:e?"HEAD":"GET",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:r=!0}={}){let s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),e&&s.push(`count=${e}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){let u=t.reduce((_,f)=>_.concat(Object.keys(f)),[]);if(u.length>0){let _=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",_.join(","))}}return new c.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:s,defaultToNull:u=!0}={}){let _=[`resolution=${r?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&_.push(this.headers.Prefer),s&&_.push(`count=${s}`),u||_.push("missing=default"),this.headers.Prefer=_.join(","),Array.isArray(t)){let f=t.reduce((P,x)=>P.concat(Object.keys(x)),[]);if(f.length>0){let P=[...new Set(f)].map(x=>`"${x}"`);this.url.searchParams.set("columns",P.join(","))}}return new c.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){let r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),e&&r.push(`count=${e}`),this.headers.Prefer=r.join(","),new c.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let e=[];return t&&e.push(`count=${t}`),this.headers.Prefer&&e.unshift(this.headers.Prefer),this.headers.Prefer=e.join(","),new c.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}l.default=o},1560:function(b,l,i){"use strict";var n=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(l,"__esModule",{value:!0});let c=n(i(4953));class o extends c.default{select(t){let e=!1,r=(t??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:s,referencedTable:u=s}={}){let _=u?`${u}.order`:"order",f=this.url.searchParams.get(_);return this.url.searchParams.set(_,`${f?`${f},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){let s=r===void 0?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:s=r}={}){let u=s===void 0?"offset":`${s}.offset`,_=s===void 0?"limit":`${s}.limit`;return this.url.searchParams.set(u,`${t}`),this.url.searchParams.set(_,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:s=!1,wal:u=!1,format:_="text"}={}){var f;let P=[t?"analyze":null,e?"verbose":null,r?"settings":null,s?"buffers":null,u?"wal":null].filter(Boolean).join("|"),x=(f=this.headers.Accept)!==null&&f!==void 0?f:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${_}; for="${x}"; options=${P};`,this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}l.default=o},4919:Ze,7483:function(b,l,i){"use strict";var n=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0}),l.PostgrestError=l.PostgrestBuilder=l.PostgrestTransformBuilder=l.PostgrestFilterBuilder=l.PostgrestQueryBuilder=l.PostgrestClient=void 0;let c=n(i(4708));l.PostgrestClient=c.default;let o=n(i(3449));l.PostgrestQueryBuilder=o.default;let h=n(i(5245));l.PostgrestFilterBuilder=h.default;let t=n(i(1560));l.PostgrestTransformBuilder=t.default;let e=n(i(4953));l.PostgrestBuilder=e.default;let r=n(i(6855));l.PostgrestError=r.default,l.default={PostgrestClient:c.default,PostgrestQueryBuilder:o.default,PostgrestFilterBuilder:h.default,PostgrestTransformBuilder:t.default,PostgrestBuilder:e.default,PostgrestError:r.default}},5737:Ye,9037:Ve,4155:We,9985:Qe}]),(m.webpackChunk_N_E=m.webpackChunk_N_E||[]).push([[6006],{6006:Xe}]),(m.webpackChunk_N_E=m.webpackChunk_N_E||[]).push([[3208],{2067:oe,6195:ie,9486:(b,l,i)=>{"use strict";i.r(l),i.d(l,{ComponentMod:()=>C,default:()=>I});var n={};i.r(n),i.d(n,{GET:()=>_,POST:()=>f,runtime:()=>u});var c={};i.r(c),i.d(c,{originalPathname:()=>R,patchFetch:()=>w,requestAsyncStorage:()=>x,routeModule:()=>P,serverHooks:()=>O,staticGenerationAsyncStorage:()=>$});var o=i(7983),h=i(2561),t=i(4828),e=i(6631),r=i(9985),s=i(6006);let u="edge";async function _(){try{console.log("Testing Supabase connection...");let A="https://rwsjzzggxenacfkdazce.supabase.co",T=await s.db.testConnection();return r.xk.json({success:T.success,message:"Supabase connection test completed",baseUrl:A,hasCredentials:{supabase_url:!!A,supabase_anon_key:!0},connectionResult:T,timestamp:new Date().toISOString()})}catch(A){return console.error("Supabase connection test error:",A),r.xk.json({success:!1,error:A.message,baseUrl:"https://rwsjzzggxenacfkdazce.supabase.co",hasCredentials:{supabase_url:!0,supabase_anon_key:!0},timestamp:new Date().toISOString()},{status:500})}}async function f(A){try{let T,{table:S,operation:U="select",data:E={}}=await A.json();if(!S)return r.xk.json({success:!1,error:"Table name is required",timestamp:new Date().toISOString()},{status:400});switch(U){case"select":T=await s.db.select(S,"*",E);break;case"insert":T=await s.db.insert(S,E);break;case"update":if(!E.id)throw Error("ID is required for update operations");let{id:a,...k}=E;T=await s.db.update(S,a,k);break;case"delete":if(!E.id)throw Error("ID is required for delete operations");T=await s.db.delete(S,E.id);break;default:throw Error(`Unsupported operation: ${U}`)}return r.xk.json({success:!0,operation:U,table:S,result:T,timestamp:new Date().toISOString()})}catch(T){return console.error("Database operation error:",T),r.xk.json({success:!1,error:T.message,timestamp:new Date().toISOString()},{status:500})}}let P=new h.AppRouteRouteModule({definition:{kind:t.x.APP_ROUTE,page:"/api/test-cloudflare-db/route",pathname:"/api/test-cloudflare-db",filename:"route",bundlePath:"app/api/test-cloudflare-db/route"},resolvedPagePath:"/Users/sean/git/alert24-app/app/api/test-cloudflare-db/route.js",nextConfigOutput:"",userland:n}),{requestAsyncStorage:x,staticGenerationAsyncStorage:$,serverHooks:O}=P,R="/api/test-cloudflare-db/route";function w(){return(0,e.XH)({serverHooks:O,staticGenerationAsyncStorage:$})}let C=c,I=o.a.wrap(P)}},b=>{var l=n=>b(b.s=n);b.O(0,[2720,7883,1377,6006],()=>l(9486));var i=b.O();(y._ENTRIES=typeof y._ENTRIES>"u"?{}:y._ENTRIES)["middleware_app/api/test-cloudflare-db/route"]=i}]),function(){let b={exports:{},loaded:!1};return function(i,n){var c=Object.create,o=Object.defineProperty,h=Object.getOwnPropertyDescriptor,t=Object.getOwnPropertyNames,e=Object.getPrototypeOf,r=Object.prototype.hasOwnProperty,s=a=>o(a,"__esModule",{value:!0}),u=(a,k)=>{s(a);for(var g in k)o(a,g,{get:k[g],enumerable:!0})},_=(a,k,g)=>{if(k&&typeof k=="object"||typeof k=="function")for(let p of t(k))!r.call(a,p)&&p!=="default"&&o(a,p,{get:()=>k[p],enumerable:!(g=h(k,p))||g.enumerable});return a},f=a=>_(s(o(a!=null?c(e(a)):{},"default",a&&a.__esModule&&"default"in a?{get:()=>a.default,enumerable:!0}:{value:a,enumerable:!0})),a);u(n,{default:()=>T});var P=f((Q(),te(q))),x="@next/request-context",$=Symbol.for(x),O=Symbol.for("internal.storage");function R(){let a=y;if(!a[$]){let k=new P.AsyncLocalStorage,g={get:()=>k.getStore(),[O]:k};a[$]=g}return a[$]}var w=R();function C(a,k){return w[O].run(a,k)}function I(a){let k={};return a&&a.forEach((g,p)=>{k[p]=g,p.toLowerCase()==="set-cookie"&&(k[p]=A(g))}),k}function A(a){let k=[],g=0,p,M,N,L,B;function K(){for(;g<a.length&&/\s/.test(a.charAt(g));)g+=1;return g<a.length}function D(){return M=a.charAt(g),M!=="="&&M!==";"&&M!==","}for(;g<a.length;){for(p=g,B=!1;K();)if(M=a.charAt(g),M===","){for(N=g,g+=1,K(),L=g;g<a.length&&D();)g+=1;g<a.length&&a.charAt(g)==="="?(B=!0,g=L,k.push(a.substring(p,N)),p=g):g=N+1}else g+=1;(!B||g>=a.length)&&k.push(a.substring(p,a.length))}return k}function T(a){let k=a.staticRoutes.map(p=>({regexp:new RegExp(p.namedRegex),page:p.page})),g=a.dynamicRoutes?.map(p=>({regexp:new RegExp(p.namedRegex),page:p.page}))||[];return async function(p,M){let N=new URL(p.url).pathname,L={};if(a.nextConfig?.basePath&&N.startsWith(a.nextConfig.basePath)&&(N=N.replace(a.nextConfig.basePath,"")||"/"),a.nextConfig?.i18n)for(let K of a.nextConfig.i18n.locales){let D=new RegExp(`^/${K}($|/)`,"i");if(N.match(D)){N=N.replace(D,"/")||"/";break}}for(let K of k)if(K.regexp.exec(N)){L.name=K.page;break}if(!L.name){let K=U(N);for(let D of g||[]){if(K&&!U(D.page))continue;let J=D.regexp.exec(N);if(J){L={name:D.page,params:J.groups};break}}}let B=await C({waitUntil:M.waitUntil},()=>y._ENTRIES[`middleware_${a.name}`].default.call({},{request:{url:p.url,method:p.method,headers:I(p.headers),ip:S(p.headers,E.Ip),geo:{city:S(p.headers,E.City,!0),country:S(p.headers,E.Country,!0),latitude:S(p.headers,E.Latitude),longitude:S(p.headers,E.Longitude),region:S(p.headers,E.Region,!0)},nextConfig:a.nextConfig,page:L,body:p.body}}));return B.waitUntil&&M.waitUntil(B.waitUntil),B.response}}function S(a,k,g=!1){let p=a.get(k)||void 0;return g&&p?decodeURIComponent(p):p}function U(a){return a==="/api"||a.startsWith("/api/")}var E;(function(a){a.City="x-vercel-ip-city",a.Country="x-vercel-ip-country",a.Ip="x-real-ip",a.Latitude="x-vercel-ip-latitude",a.Longitude="x-vercel-ip-longitude",a.Region="x-vercel-ip-country-region"})(E||(E={}))}(b,b.exports),b.exports}.call({}).default({name:"app/api/test-cloudflare-db/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/accept-invitation",regex:"^/accept\\-invitation(?:/)?$",routeKeys:{},namedRegex:"^/accept\\-invitation(?:/)?$"},{page:"/debug-email",regex:"^/debug\\-email(?:/)?$",routeKeys:{},namedRegex:"^/debug\\-email(?:/)?$"},{page:"/debug-monitoring",regex:"^/debug\\-monitoring(?:/)?$",routeKeys:{},namedRegex:"^/debug\\-monitoring(?:/)?$"},{page:"/escalation-policies/new",regex:"^/escalation\\-policies/new(?:/)?$",routeKeys:{},namedRegex:"^/escalation\\-policies/new(?:/)?$"},{page:"/favicon.ico",regex:"^/favicon\\.ico(?:/)?$",routeKeys:{},namedRegex:"^/favicon\\.ico(?:/)?$"},{page:"/help",regex:"^/help(?:/)?$",routeKeys:{},namedRegex:"^/help(?:/)?$"},{page:"/incidents",regex:"^/incidents(?:/)?$",routeKeys:{},namedRegex:"^/incidents(?:/)?$"},{page:"/incidents/new",regex:"^/incidents/new(?:/)?$",routeKeys:{},namedRegex:"^/incidents/new(?:/)?$"},{page:"/monitoring",regex:"^/monitoring(?:/)?$",routeKeys:{},namedRegex:"^/monitoring(?:/)?$"},{page:"/monitoring/new",regex:"^/monitoring/new(?:/)?$",routeKeys:{},namedRegex:"^/monitoring/new(?:/)?$"},{page:"/on-call",regex:"^/on\\-call(?:/)?$",routeKeys:{},namedRegex:"^/on\\-call(?:/)?$"},{page:"/on-call/new",regex:"^/on\\-call/new(?:/)?$",routeKeys:{},namedRegex:"^/on\\-call/new(?:/)?$"},{page:"/organizations",regex:"^/organizations(?:/)?$",routeKeys:{},namedRegex:"^/organizations(?:/)?$"},{page:"/profile",regex:"^/profile(?:/)?$",routeKeys:{},namedRegex:"^/profile(?:/)?$"},{page:"/settings",regex:"^/settings(?:/)?$",routeKeys:{},namedRegex:"^/settings(?:/)?$"},{page:"/status-pages",regex:"^/status\\-pages(?:/)?$",routeKeys:{},namedRegex:"^/status\\-pages(?:/)?$"}],dynamicRoutes:[{page:"/api/auth/[...nextauth]",regex:"^/api/auth/(.+?)(?:/)?$",routeKeys:{nxtPnextauth:"nxtPnextauth"},namedRegex:"^/api/auth/(?<nxtPnextauth>.+?)(?:/)?$"},{page:"/api/incidents/[id]",regex:"^/api/incidents/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/incidents/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/incidents/[id]/updates",regex:"^/api/incidents/([^/]+?)/updates(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/incidents/(?<nxtPid>[^/]+?)/updates(?:/)?$"},{page:"/api/monitoring/[id]",regex:"^/api/monitoring/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/monitoring/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/on-call-schedules/[id]",regex:"^/api/on\\-call\\-schedules/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/on\\-call\\-schedules/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/organizations/[id]",regex:"^/api/organizations/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/organizations/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/organizations/[id]/invitations",regex:"^/api/organizations/([^/]+?)/invitations(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/organizations/(?<nxtPid>[^/]+?)/invitations(?:/)?$"},{page:"/api/services/[id]",regex:"^/api/services/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/services/[id]/monitoring",regex:"^/api/services/([^/]+?)/monitoring(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)/monitoring(?:/)?$"},{page:"/api/services/[id]/sla",regex:"^/api/services/([^/]+?)/sla(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)/sla(?:/)?$"},{page:"/api/status-pages/public/[slug]",regex:"^/api/status\\-pages/public/([^/]+?)(?:/)?$",routeKeys:{nxtPslug:"nxtPslug"},namedRegex:"^/api/status\\-pages/public/(?<nxtPslug>[^/]+?)(?:/)?$"},{page:"/api/status-pages/[id]",regex:"^/api/status\\-pages/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/status\\-pages/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/incidents/[id]",regex:"^/incidents/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/incidents/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/incidents/[id]/edit",regex:"^/incidents/([^/]+?)/edit(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/incidents/(?<nxtPid>[^/]+?)/edit(?:/)?$"},{page:"/monitoring/edit/[id]",regex:"^/monitoring/edit/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/monitoring/edit/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/on-call/[id]/edit",regex:"^/on\\-call/([^/]+?)/edit(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/on\\-call/(?<nxtPid>[^/]+?)/edit(?:/)?$"},{page:"/status/[slug]",regex:"^/status/([^/]+?)(?:/)?$",routeKeys:{nxtPslug:"nxtPslug"},namedRegex:"^/status/(?<nxtPslug>[^/]+?)(?:/)?$"}],nextConfig:{basePath:""}})))(j,j,j);export{Ot as default};
