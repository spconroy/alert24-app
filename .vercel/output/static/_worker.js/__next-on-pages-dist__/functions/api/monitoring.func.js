var ee=Object.defineProperty;var ie=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var ce=Object.prototype.hasOwnProperty;var ue=(x,$)=>()=>(x&&($=x(x=0)),$);var X=(x,$,z,b)=>{if($&&typeof $=="object"||typeof $=="function")for(let _ of oe($))!ce.call(x,_)&&_!==z&&ee(x,_,{get:()=>$[_],enumerable:!(b=ie($,_))||b.enumerable});return x},Q=(x,$,z)=>(X(x,$,"default"),z&&X(z,$,"default"));var he=x=>X(ee({},"__esModule",{value:!0}),x);var q={};import*as Ut from"async_hooks";var te=ue(()=>{Q(q,Ut)});import{__getNamedExports as _e}from"../../../__next-on-pages-dist__/webpack/aa5c0a3237ae1fd635b2d0bab25b6e94.js";import{__getNamedExports as le}from"../../../__next-on-pages-dist__/webpack/ac7e0cd817c0f96ac6506045b651299a.js";import{__getNamedExports as de}from"../../../__next-on-pages-dist__/webpack/5c7c089f9b18fab21905bdbf6a451f6c.js";import{__getNamedExports as pe}from"../../../__next-on-pages-dist__/webpack/fc1dd92f63cefab5577162dd844679df.js";import{__getNamedExports as ge}from"../../../__next-on-pages-dist__/manifest/537259e2ed205f5a7994cb4f05664668.js";var E=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/monitoring"),W=_e(E,E,E),me=W.__chunk_6095,fe=W.__chunk_3543,ke=W.__chunk_2641,m=le(E,E,E),xe=m.__chunk_6195,ye=m.__chunk_2067,Pe=m.__chunk_9182,$e=m.__chunk_8983,be=m.__chunk_5228,ve=m.__chunk_2296,we=m.__chunk_2594,Ee=m.__chunk_6735,je=m.__chunk_8219,Oe=m.__chunk_5577,Ae=m.__chunk_9254,Re=m.__chunk_9206,Ne=m.__chunk_989,Te=m.__chunk_1863,Se=m.__chunk_3039,Me=m.__chunk_335,Ce=m.__chunk_8042,Ie=m.__chunk_7765,Ke=m.__chunk_6991,Ue=m.__chunk_8816,De=m.__chunk_6631,Fe=m.__chunk_4828,Le=m.__chunk_4834,Be=m.__chunk_828,ze=m.__chunk_5927,qe=m.__chunk_8439,Ge=m.__chunk_4363,He=m.__chunk_2039,Je=m.__chunk_8264,Xe=m.__chunk_1583,Qe=m.__chunk_7908,We=m.__chunk_8949,Ve=m.__chunk_796,Ye=m.__chunk_1651,Ze=m.__chunk_5105,et=m.__chunk_9642,tt=m.__chunk_5028,rt=m.__chunk_9548,nt=m.__chunk_6914,st=m.__chunk_7960,at=m.__chunk_4337,it=m.__chunk_8819,B=de(E,E,E),ot=B.__chunk_6006,ct=B.__chunk_9985,ut=B.__chunk_4155,ht=B.__chunk_9037,_t=B.__chunk_5737,lt=B.__chunk_4919,dt=B.__chunk_6855,pt=B.__chunk_3607,j=pe(E,E,E),gt=j.__chunk_1730,mt=j.__chunk_3818,ft=j.__chunk_7037,kt=j.__chunk_9573,xt=j.__chunk_7701,yt=j.__chunk_662,Pt=j.__chunk_4101,$t=j.__chunk_6776,bt=j.__chunk_3665,vt=j.__chunk_7444,wt=j.__chunk_4591,Et=j.__chunk_7983,jt=j.__chunk_581,Ot=j.__chunk_2561,At=j.__chunk_2988,Rt=j.__chunk_6947,Nt=j.__chunk_5996,Tt=j.__chunk_676,re=ge(E,E,E),St=re.__NEXT_FONT_MANIFEST,Mt=re.__REACT_LOADABLE_MANIFEST,qt=((x,$,z)=>($._ENTRIES={},x.__BUILD_MANIFEST={polyfillFiles:["static/chunks/polyfills-42372ed130431b0a.js"],devFiles:[],ampDevFiles:[],lowPriorityFiles:[],rootMainFiles:["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/fd9d1056-30de07f4a3c346ee.js","static/chunks/7466-8fdf295a7c02cf2e.js","static/chunks/main-app-8eaf6dc4ad0df15d.js"],pages:{"/_app":["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/framework-8e0e0f4a6b83a956.js","static/chunks/main-17007a384daea84e.js","static/chunks/pages/_app-3c9ca398d360b709.js"],"/_error":["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/framework-8e0e0f4a6b83a956.js","static/chunks/main-17007a384daea84e.js","static/chunks/pages/_error-cf5ca766ac8f493f.js"]},ampFirstPages:[]},x.__BUILD_MANIFEST.lowPriorityFiles=["/static/5vAXtrh2qjJDoCjPjRb93/_buildManifest.js",,"/static/5vAXtrh2qjJDoCjPjRb93/_ssgManifest.js"],x.__REACT_LOADABLE_MANIFEST=Mt,x.__NEXT_FONT_MANIFEST=St,x.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",(()=>{"use strict";var b={},_={};function o(a){var u=_[a];if(u!==void 0)return u.exports;var c=_[a]={exports:{}},h=!0;try{b[a].call(c.exports,c,c.exports,o),h=!1}finally{h&&delete _[a]}return c.exports}o.m=b,o.amdO={},(()=>{var a=[];o.O=(u,c,h,t)=>{if(c){t=t||0;for(var e=a.length;e>0&&a[e-1][2]>t;e--)a[e]=a[e-1];a[e]=[c,h,t];return}for(var r=1/0,e=0;e<a.length;e++){for(var[c,h,t]=a[e],s=!0,i=0;i<c.length;i++)r>=t&&Object.keys(o.O).every(R=>o.O[R](c[i]))?c.splice(i--,1):(s=!1,t<r&&(r=t));if(s){a.splice(e--,1);var l=h();l!==void 0&&(u=l)}}return u}})(),o.n=a=>{var u=a&&a.__esModule?()=>a.default:()=>a;return o.d(u,{a:u}),u},(()=>{var a,u=Object.getPrototypeOf?c=>Object.getPrototypeOf(c):c=>c.__proto__;o.t=function(c,h){if(1&h&&(c=this(c)),8&h||typeof c=="object"&&c&&(4&h&&c.__esModule||16&h&&typeof c.then=="function"))return c;var t=Object.create(null);o.r(t);var e={};a=a||[null,u({}),u([]),u(u)];for(var r=2&h&&c;typeof r=="object"&&!~a.indexOf(r);r=u(r))Object.getOwnPropertyNames(r).forEach(s=>e[s]=()=>c[s]);return e.default=()=>c,o.d(t,e),t}})(),o.d=(a,u)=>{for(var c in u)o.o(u,c)&&!o.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:u[c]})},o.e=()=>Promise.resolve(),o.g=function(){if(typeof $=="object")return $;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),o.o=(a,u)=>Object.prototype.hasOwnProperty.call(a,u),o.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},(()=>{var a={5993:0};o.O.j=h=>a[h]===0;var u=(h,t)=>{var e,r,[s,i,l]=t,k=0;if(s.some(y=>a[y]!==0)){for(e in i)o.o(i,e)&&(o.m[e]=i[e]);if(l)var P=l(o)}for(h&&h(t);k<s.length;k++)r=s[k],o.o(a,r)&&a[r]&&a[r][0](),a[r]=0;return o.O(P)},c=x.webpackChunk_N_E=x.webpackChunk_N_E||[];c.forEach(u.bind(null,0)),c.push=u.bind(null,c.push.bind(c))})()})(),(x.webpackChunk_N_E=x.webpackChunk_N_E||[]).push([[2720],{8819:it,4337:at,7960:st,6914:nt,9548:rt,5028:tt,9642:et,5105:Ze,1651:Ye,796:Ve,8949:We,7908:Qe,1583:Xe,8264:Je,2039:He,4363:Ge,8439:qe,5927:ze,828:Be,4834:Le,4828:Fe,6631:De,8816:Ue,6991:Ke,7765:Ie,8042:Ce,335:Me,3039:Se,1863:Te,989:Ne,9206:Re,9254:Ae,5577:Oe,8219:je,6735:Ee,2594:we,2296:ve,5228:be,8983:$e,9182:Pe}]),(x.webpackChunk_N_E=x.webpackChunk_N_E||[]).push([[7883],{676:Tt,5996:Nt,6947:Rt,2988:At,2561:Ot,581:jt,7983:Et,4591:wt,7444:vt,3665:bt,6776:$t,4101:Pt,662:yt,7701:xt,9573:kt,7037:ft,3818:mt,1730:gt}]),(x.webpackChunk_N_E=x.webpackChunk_N_E||[]).push([[1377],{3607:pt,4953:function(b,_,o){"use strict";var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_,"__esModule",{value:!0});let u=a(o(3607)),c=a(o(6855));class h{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=u.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let s=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var l,k,P;let y=null,v=null,R=null,T=i.status,w=i.statusText;if(i.ok){if(this.method!=="HEAD"){let F=await i.text();F===""||(v=this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?F:JSON.parse(F))}let U=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),D=(k=i.headers.get("content-range"))===null||k===void 0?void 0:k.split("/");U&&D&&D.length>1&&(R=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(y={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,R=null,T=406,w="Not Acceptable"):v=v.length===1?v[0]:null)}else{let U=await i.text();try{y=JSON.parse(U),Array.isArray(y)&&i.status===404&&(v=[],y=null,T=200,w="OK")}catch{i.status===404&&U===""?(T=204,w="No Content"):y={message:U}}if(y&&this.isMaybeSingle&&((P=y?.details)===null||P===void 0?void 0:P.includes("0 rows"))&&(y=null,T=200,w="OK"),y&&this.shouldThrowOnError)throw new c.default(y)}return{error:y,data:v,count:R,status:T,statusText:w}});return this.shouldThrowOnError||(s=s.catch(i=>{var l,k,P;return{error:{message:`${(l=i?.name)!==null&&l!==void 0?l:"FetchError"}: ${i?.message}`,details:`${(k=i?.stack)!==null&&k!==void 0?k:""}`,hint:"",code:`${(P=i?.code)!==null&&P!==void 0?P:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}}_.default=h},4708:function(b,_,o){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_,"__esModule",{value:!0});let u=a(o(3449)),c=a(o(5245)),h=o(4919);class t{constructor(r,{headers:s={},schema:i,fetch:l}={}){this.url=r,this.headers=Object.assign(Object.assign({},h.DEFAULT_HEADERS),s),this.schemaName=i,this.fetch=l}from(r){let s=new URL(`${this.url}/${r}`);return new u.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new t(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,s={},{head:i=!1,get:l=!1,count:k}={}){let P,y,v=new URL(`${this.url}/rpc/${r}`);i||l?(P=i?"HEAD":"GET",Object.entries(s).filter(([T,w])=>w!==void 0).map(([T,w])=>[T,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([T,w])=>{v.searchParams.append(T,w)})):(P="POST",y=s);let R=Object.assign({},this.headers);return k&&(R.Prefer=`count=${k}`),new c.default({method:P,url:v,headers:R,schema:this.schemaName,body:y,fetch:this.fetch,allowEmpty:!1})}}_.default=t},6855:dt,5245:function(b,_,o){"use strict";var a=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(_,"__esModule",{value:!0});let u=a(o(1560));class c extends u.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){let r=Array.from(new Set(e)).map(s=>typeof s=="string"&&RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");let l=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){let s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}}_.default=c},3449:function(b,_,o){"use strict";var a=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(_,"__esModule",{value:!0});let u=a(o(5245));class c{constructor(t,{headers:e={},schema:r,fetch:s}){this.url=t,this.headers=e,this.schema=r,this.fetch=s}select(t,{head:e=!1,count:r}={}){let s=!1,i=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new u.default({method:e?"HEAD":"GET",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:r=!0}={}){let s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),e&&s.push(`count=${e}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){let i=t.reduce((l,k)=>l.concat(Object.keys(k)),[]);if(i.length>0){let l=[...new Set(i)].map(k=>`"${k}"`);this.url.searchParams.set("columns",l.join(","))}}return new u.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){let l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){let k=t.reduce((P,y)=>P.concat(Object.keys(y)),[]);if(k.length>0){let P=[...new Set(k)].map(y=>`"${y}"`);this.url.searchParams.set("columns",P.join(","))}}return new u.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){let r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),e&&r.push(`count=${e}`),this.headers.Prefer=r.join(","),new u.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let e=[];return t&&e.push(`count=${t}`),this.headers.Prefer&&e.unshift(this.headers.Prefer),this.headers.Prefer=e.join(","),new u.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}_.default=c},1560:function(b,_,o){"use strict";var a=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(_,"__esModule",{value:!0});let u=a(o(4953));class c extends u.default{select(t){let e=!1,r=(t??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){let l=i?`${i}.order`:"order",k=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${k?`${k},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){let s=r===void 0?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:s=r}={}){let i=s===void 0?"offset":`${s}.offset`,l=s===void 0?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:l="text"}={}){var k;let P=[t?"analyze":null,e?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),y=(k=this.headers.Accept)!==null&&k!==void 0?k:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${y}"; options=${P};`,this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}_.default=c},4919:lt,7483:function(b,_,o){"use strict";var a=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(_,"__esModule",{value:!0}),_.PostgrestError=_.PostgrestBuilder=_.PostgrestTransformBuilder=_.PostgrestFilterBuilder=_.PostgrestQueryBuilder=_.PostgrestClient=void 0;let u=a(o(4708));_.PostgrestClient=u.default;let c=a(o(3449));_.PostgrestQueryBuilder=c.default;let h=a(o(5245));_.PostgrestFilterBuilder=h.default;let t=a(o(1560));_.PostgrestTransformBuilder=t.default;let e=a(o(4953));_.PostgrestBuilder=e.default;let r=a(o(6855));_.PostgrestError=r.default,_.default={PostgrestClient:u.default,PostgrestQueryBuilder:c.default,PostgrestFilterBuilder:h.default,PostgrestTransformBuilder:t.default,PostgrestBuilder:e.default,PostgrestError:r.default}},5737:_t,9037:ht,4155:ut,9985:ct}]),(x.webpackChunk_N_E=x.webpackChunk_N_E||[]).push([[3452],{2641:ke,3543:fe}]),(x.webpackChunk_N_E=x.webpackChunk_N_E||[]).push([[6006],{6006:ot}]),(x.webpackChunk_N_E=x.webpackChunk_N_E||[]).push([[5853],{2067:ye,6195:xe,7070:(b,_,o)=>{"use strict";o.r(_),o.d(_,{ComponentMod:()=>G,default:()=>L});var a={};o.r(a),o.d(a,{DELETE:()=>v,GET:()=>k,POST:()=>P,PUT:()=>y,runtime:()=>l});var u={};o.r(u),o.d(u,{originalPathname:()=>D,patchFetch:()=>F,requestAsyncStorage:()=>T,routeModule:()=>R,serverHooks:()=>U,staticGenerationAsyncStorage:()=>w});var c=o(7983),h=o(2561),t=o(4828),e=o(6631),r=o(9985),s=o(6095);let i=new(o(6006))._,l="edge";async function k(K){try{let d=await(0,s.I8)();if(!d||!d.user?.email)return r.xk.json({error:"Unauthorized"},{status:401});let{searchParams:n}=new URL(K.url),f=n.get("organization_id"),p=n.get("check_type"),g=n.get("status"),M=parseInt(n.get("limit"))||10,O=parseInt(n.get("offset"))||0,N=await i.getUserByEmail(d.user.email);if(!N)return r.xk.json({error:"User not found"},{status:404});let I={organization_id:f,check_type:p,status:g,limit:M,offset:O};console.log("Monitoring API - Filters:",I),console.log("Monitoring API - User ID:",N.id);let A=[];try{A=await i.getMonitoringChecks(N.id,I),console.log("Monitoring API - Raw result count:",A.length)}catch(S){console.warn("Database error fetching monitoring checks, returning empty array:",S),A=[]}let C=(A||[]).map(S=>({...S,is_active:S.status==="active"||S.is_active,organization_name:S.organization_name||S.organizations?.name,created_by_name:S.created_by_user?.name,created_by_email:S.created_by_user?.email}));return r.xk.json({success:!0,monitoring_checks:C,count:C.length})}catch(d){return console.error("Error fetching monitoring checks:",d),r.xk.json({success:!1,error:"Failed to fetch monitoring checks",details:d.message},{status:500})}}async function P(K){try{let d=await(0,s.I8)();if(!d||!d.user?.email)return r.xk.json({error:"Unauthorized"},{status:401});let n=await K.json(),{name:f,check_type:p,target_url:g,check_interval_seconds:M=300,timeout_seconds:O=30,organization_id:N,expected_status_codes:I=[200],keyword_match:A,keyword_match_type:C,http_method:S="GET",http_headers:ne={},follow_redirects:V=!0,ssl_check_enabled:se=!1,is_active:Y=!0,monitoring_locations:Ct=[],target_port:It}=n;if(!f||!p||!N)return r.xk.json({error:"Name, check_type, and organization_id are required"},{status:400});let H=await i.getUserByEmail(d.user.email);if(!H)return r.xk.json({error:"User not found"},{status:404});let Z=await i.getOrganizationMember(N,H.id);if(!Z||!["owner","admin","responder"].includes(Z.role))return r.xk.json({error:"Access denied - insufficient permissions"},{status:403});let J={name:f,check_type:p,target_url:g,organization_id:N,is_active:Y===void 0||Y,ssl_check_enabled:se||!1,http_method:S||"GET",expected_status_codes:I||[200],follow_redirects:V===void 0||V,keyword_match:A,keyword_match_type:C,http_headers:ne||{},check_interval_seconds:M||300,timeout_seconds:O||30,created_by:H.id};console.log("Monitoring API - Request body:",n),console.log("Monitoring API - Processed checkData:",J),console.log("Creating monitoring check with minimal data:",J);let ae=await i.createMonitoringCheck(J);return r.xk.json({success:!0,monitoring_check:ae,message:"Monitoring check created successfully"},{status:201})}catch(d){return console.error("Error creating monitoring check:",d),console.error("Error details:",{message:d.message,code:d.code,details:d.details,hint:d.hint}),r.xk.json({success:!1,error:"Failed to create monitoring check",details:d.message||"Unknown error occurred",debug:{code:d.code,details:d.details,hint:d.hint}},{status:500})}}async function y(K){try{let d=await(0,s.I8)();if(!d||!d.user?.email)return r.xk.json({error:"Unauthorized"},{status:401});let{searchParams:n}=new URL(K.url),f=n.get("id");if(!f)return r.xk.json({error:"Monitoring check ID is required"},{status:400});let p=await K.json();if(!await i.getUserByEmail(d.user.email))return r.xk.json({error:"User not found"},{status:404});let g=await i.updateMonitoringCheck(f,{...p,updated_at:new Date().toISOString()});return r.xk.json({success:!0,monitoring_check:g,message:"Monitoring check updated successfully"})}catch(d){return console.error("Error updating monitoring check:",d),r.xk.json({success:!1,error:"Failed to update monitoring check",details:d.message},{status:500})}}async function v(K){try{let d=await(0,s.I8)();if(!d||!d.user?.email)return r.xk.json({error:"Unauthorized"},{status:401});let{searchParams:n}=new URL(K.url),f=n.get("id");return f?await i.getUserByEmail(d.user.email)?(await i.deleteMonitoringCheck(f),r.xk.json({success:!0,message:"Monitoring check deleted successfully"})):r.xk.json({error:"User not found"},{status:404}):r.xk.json({error:"Monitoring check ID is required"},{status:400})}catch(d){return console.error("Error deleting monitoring check:",d),r.xk.json({success:!1,error:"Failed to delete monitoring check",details:d.message},{status:500})}}let R=new h.AppRouteRouteModule({definition:{kind:t.x.APP_ROUTE,page:"/api/monitoring/route",pathname:"/api/monitoring",filename:"route",bundlePath:"app/api/monitoring/route"},resolvedPagePath:"/Users/sean/git/alert24-app/app/api/monitoring/route.js",nextConfigOutput:"",userland:a}),{requestAsyncStorage:T,staticGenerationAsyncStorage:w,serverHooks:U}=R,D="/api/monitoring/route";function F(){return(0,e.XH)({serverHooks:U,staticGenerationAsyncStorage:w})}let G=u,L=c.a.wrap(R)},6095:me},b=>{var _=a=>b(b.s=a);b.O(0,[2720,7883,1377,3452,6006],()=>_(7070));var o=b.O();($._ENTRIES=typeof $._ENTRIES>"u"?{}:$._ENTRIES)["middleware_app/api/monitoring/route"]=o}]),function(){let b={exports:{},loaded:!1};return function(o,a){var u=Object.create,c=Object.defineProperty,h=Object.getOwnPropertyDescriptor,t=Object.getOwnPropertyNames,e=Object.getPrototypeOf,r=Object.prototype.hasOwnProperty,s=n=>c(n,"__esModule",{value:!0}),i=(n,f)=>{s(n);for(var p in f)c(n,p,{get:f[p],enumerable:!0})},l=(n,f,p)=>{if(f&&typeof f=="object"||typeof f=="function")for(let g of t(f))!r.call(n,g)&&g!=="default"&&c(n,g,{get:()=>f[g],enumerable:!(p=h(f,g))||p.enumerable});return n},k=n=>l(s(c(n!=null?u(e(n)):{},"default",n&&n.__esModule&&"default"in n?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n);i(a,{default:()=>G});var P=k((te(),he(q))),y="@next/request-context",v=Symbol.for(y),R=Symbol.for("internal.storage");function T(){let n=$;if(!n[v]){let f=new P.AsyncLocalStorage,p={get:()=>f.getStore(),[R]:f};n[v]=p}return n[v]}var w=T();function U(n,f){return w[R].run(n,f)}function D(n){let f={};return n&&n.forEach((p,g)=>{f[g]=p,g.toLowerCase()==="set-cookie"&&(f[g]=F(p))}),f}function F(n){let f=[],p=0,g,M,O,N,I;function A(){for(;p<n.length&&/\s/.test(n.charAt(p));)p+=1;return p<n.length}function C(){return M=n.charAt(p),M!=="="&&M!==";"&&M!==","}for(;p<n.length;){for(g=p,I=!1;A();)if(M=n.charAt(p),M===","){for(O=p,p+=1,A(),N=p;p<n.length&&C();)p+=1;p<n.length&&n.charAt(p)==="="?(I=!0,p=N,f.push(n.substring(g,O)),g=p):p=O+1}else p+=1;(!I||p>=n.length)&&f.push(n.substring(g,n.length))}return f}function G(n){let f=n.staticRoutes.map(g=>({regexp:new RegExp(g.namedRegex),page:g.page})),p=n.dynamicRoutes?.map(g=>({regexp:new RegExp(g.namedRegex),page:g.page}))||[];return async function(g,M){let O=new URL(g.url).pathname,N={};if(n.nextConfig?.basePath&&O.startsWith(n.nextConfig.basePath)&&(O=O.replace(n.nextConfig.basePath,"")||"/"),n.nextConfig?.i18n)for(let A of n.nextConfig.i18n.locales){let C=new RegExp(`^/${A}($|/)`,"i");if(O.match(C)){O=O.replace(C,"/")||"/";break}}for(let A of f)if(A.regexp.exec(O)){N.name=A.page;break}if(!N.name){let A=K(O);for(let C of p||[]){if(A&&!K(C.page))continue;let S=C.regexp.exec(O);if(S){N={name:C.page,params:S.groups};break}}}let I=await U({waitUntil:M.waitUntil},()=>$._ENTRIES[`middleware_${n.name}`].default.call({},{request:{url:g.url,method:g.method,headers:D(g.headers),ip:L(g.headers,d.Ip),geo:{city:L(g.headers,d.City,!0),country:L(g.headers,d.Country,!0),latitude:L(g.headers,d.Latitude),longitude:L(g.headers,d.Longitude),region:L(g.headers,d.Region,!0)},nextConfig:n.nextConfig,page:N,body:g.body}}));return I.waitUntil&&M.waitUntil(I.waitUntil),I.response}}function L(n,f,p=!1){let g=n.get(f)||void 0;return p&&g?decodeURIComponent(g):g}function K(n){return n==="/api"||n.startsWith("/api/")}var d;(function(n){n.City="x-vercel-ip-city",n.Country="x-vercel-ip-country",n.Ip="x-real-ip",n.Latitude="x-vercel-ip-latitude",n.Longitude="x-vercel-ip-longitude",n.Region="x-vercel-ip-country-region"})(d||(d={}))}(b,b.exports),b.exports}.call({}).default({name:"app/api/monitoring/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/accept-invitation",regex:"^/accept\\-invitation(?:/)?$",routeKeys:{},namedRegex:"^/accept\\-invitation(?:/)?$"},{page:"/debug-email",regex:"^/debug\\-email(?:/)?$",routeKeys:{},namedRegex:"^/debug\\-email(?:/)?$"},{page:"/debug-monitoring",regex:"^/debug\\-monitoring(?:/)?$",routeKeys:{},namedRegex:"^/debug\\-monitoring(?:/)?$"},{page:"/escalation-policies/new",regex:"^/escalation\\-policies/new(?:/)?$",routeKeys:{},namedRegex:"^/escalation\\-policies/new(?:/)?$"},{page:"/favicon.ico",regex:"^/favicon\\.ico(?:/)?$",routeKeys:{},namedRegex:"^/favicon\\.ico(?:/)?$"},{page:"/help",regex:"^/help(?:/)?$",routeKeys:{},namedRegex:"^/help(?:/)?$"},{page:"/incidents",regex:"^/incidents(?:/)?$",routeKeys:{},namedRegex:"^/incidents(?:/)?$"},{page:"/incidents/new",regex:"^/incidents/new(?:/)?$",routeKeys:{},namedRegex:"^/incidents/new(?:/)?$"},{page:"/monitoring",regex:"^/monitoring(?:/)?$",routeKeys:{},namedRegex:"^/monitoring(?:/)?$"},{page:"/monitoring/new",regex:"^/monitoring/new(?:/)?$",routeKeys:{},namedRegex:"^/monitoring/new(?:/)?$"},{page:"/on-call",regex:"^/on\\-call(?:/)?$",routeKeys:{},namedRegex:"^/on\\-call(?:/)?$"},{page:"/on-call/new",regex:"^/on\\-call/new(?:/)?$",routeKeys:{},namedRegex:"^/on\\-call/new(?:/)?$"},{page:"/organizations",regex:"^/organizations(?:/)?$",routeKeys:{},namedRegex:"^/organizations(?:/)?$"},{page:"/profile",regex:"^/profile(?:/)?$",routeKeys:{},namedRegex:"^/profile(?:/)?$"},{page:"/settings",regex:"^/settings(?:/)?$",routeKeys:{},namedRegex:"^/settings(?:/)?$"},{page:"/status-pages",regex:"^/status\\-pages(?:/)?$",routeKeys:{},namedRegex:"^/status\\-pages(?:/)?$"}],dynamicRoutes:[{page:"/api/auth/[...nextauth]",regex:"^/api/auth/(.+?)(?:/)?$",routeKeys:{nxtPnextauth:"nxtPnextauth"},namedRegex:"^/api/auth/(?<nxtPnextauth>.+?)(?:/)?$"},{page:"/api/incidents/[id]",regex:"^/api/incidents/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/incidents/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/incidents/[id]/updates",regex:"^/api/incidents/([^/]+?)/updates(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/incidents/(?<nxtPid>[^/]+?)/updates(?:/)?$"},{page:"/api/monitoring/[id]",regex:"^/api/monitoring/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/monitoring/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/on-call-schedules/[id]",regex:"^/api/on\\-call\\-schedules/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/on\\-call\\-schedules/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/organizations/[id]",regex:"^/api/organizations/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/organizations/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/organizations/[id]/invitations",regex:"^/api/organizations/([^/]+?)/invitations(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/organizations/(?<nxtPid>[^/]+?)/invitations(?:/)?$"},{page:"/api/services/[id]",regex:"^/api/services/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/services/[id]/monitoring",regex:"^/api/services/([^/]+?)/monitoring(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)/monitoring(?:/)?$"},{page:"/api/services/[id]/sla",regex:"^/api/services/([^/]+?)/sla(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)/sla(?:/)?$"},{page:"/api/status-pages/public/[slug]",regex:"^/api/status\\-pages/public/([^/]+?)(?:/)?$",routeKeys:{nxtPslug:"nxtPslug"},namedRegex:"^/api/status\\-pages/public/(?<nxtPslug>[^/]+?)(?:/)?$"},{page:"/api/status-pages/[id]",regex:"^/api/status\\-pages/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/status\\-pages/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/incidents/[id]",regex:"^/incidents/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/incidents/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/incidents/[id]/edit",regex:"^/incidents/([^/]+?)/edit(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/incidents/(?<nxtPid>[^/]+?)/edit(?:/)?$"},{page:"/monitoring/edit/[id]",regex:"^/monitoring/edit/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/monitoring/edit/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/on-call/[id]/edit",regex:"^/on\\-call/([^/]+?)/edit(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/on\\-call/(?<nxtPid>[^/]+?)/edit(?:/)?$"},{page:"/status/[slug]",regex:"^/status/([^/]+?)(?:/)?$",routeKeys:{nxtPslug:"nxtPslug"},namedRegex:"^/status/(?<nxtPslug>[^/]+?)(?:/)?$"}],nextConfig:{basePath:""}})))(E,E,E);export{qt as default};
