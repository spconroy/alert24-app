var W=Object.defineProperty;var Q=Object.getOwnPropertyDescriptor;var V=Object.getOwnPropertyNames;var Y=Object.prototype.hasOwnProperty;var Z=(c,p)=>()=>(c&&(p=c(c=0)),p);var q=(c,p,M,k)=>{if(p&&typeof p=="object"||typeof p=="function")for(let f of V(p))!Y.call(c,f)&&f!==M&&W(c,f,{get:()=>p[f],enumerable:!(k=Q(p,f))||k.enumerable});return c},z=(c,p,M)=>(q(c,p,"default"),M&&q(M,p,"default"));var ee=c=>q(W({},"__esModule",{value:!0}),c);var U={};import*as dt from"async_hooks";var G=Z(()=>{z(U,dt)});import{__getNamedExports as te}from"../../../__next-on-pages-dist__/webpack/ac7e0cd817c0f96ac6506045b651299a.js";import{__getNamedExports as ne}from"../../../__next-on-pages-dist__/webpack/fc1dd92f63cefab5577162dd844679df.js";import{__getNamedExports as ae}from"../../../__next-on-pages-dist__/manifest/537259e2ed205f5a7994cb4f05664668.js";var v=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/debug-http"),a=te(v,v,v),_e=a.__chunk_6195,oe=a.__chunk_2067,re=a.__chunk_9182,se=a.__chunk_8983,ie=a.__chunk_5228,ce=a.__chunk_2296,ue=a.__chunk_2594,pe=a.__chunk_6735,ge=a.__chunk_8219,de=a.__chunk_5577,he=a.__chunk_9254,le=a.__chunk_9206,xe=a.__chunk_989,ke=a.__chunk_1863,fe=a.__chunk_3039,me=a.__chunk_335,ye=a.__chunk_8042,be=a.__chunk_7765,Pe=a.__chunk_6991,ve=a.__chunk_8816,Ee=a.__chunk_6631,Re=a.__chunk_4828,$e=a.__chunk_4834,we=a.__chunk_828,Te=a.__chunk_5927,Ae=a.__chunk_8439,Oe=a.__chunk_4363,Ne=a.__chunk_2039,je=a.__chunk_8264,Se=a.__chunk_1583,Ce=a.__chunk_7908,Ke=a.__chunk_8949,Ie=a.__chunk_796,Me=a.__chunk_1651,Le=a.__chunk_5105,Fe=a.__chunk_9642,Ue=a.__chunk_5028,De=a.__chunk_9548,He=a.__chunk_6914,Be=a.__chunk_7960,qe=a.__chunk_4337,ze=a.__chunk_8819,x=ne(v,v,v),Je=x.__chunk_1730,We=x.__chunk_3818,Ge=x.__chunk_7037,Xe=x.__chunk_9573,Qe=x.__chunk_7701,Ve=x.__chunk_662,Ye=x.__chunk_4101,Ze=x.__chunk_6776,et=x.__chunk_3665,tt=x.__chunk_7444,nt=x.__chunk_4591,at=x.__chunk_7983,_t=x.__chunk_581,ot=x.__chunk_2561,rt=x.__chunk_2988,st=x.__chunk_6947,it=x.__chunk_5996,ct=x.__chunk_676,X=ae(v,v,v),ut=X.__NEXT_FONT_MANIFEST,pt=X.__REACT_LOADABLE_MANIFEST,kt=((c,p,M)=>(p._ENTRIES={},c.__BUILD_MANIFEST={polyfillFiles:["static/chunks/polyfills-42372ed130431b0a.js"],devFiles:[],ampDevFiles:[],lowPriorityFiles:[],rootMainFiles:["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/fd9d1056-30de07f4a3c346ee.js","static/chunks/7466-8fdf295a7c02cf2e.js","static/chunks/main-app-8eaf6dc4ad0df15d.js"],pages:{"/_app":["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/framework-8e0e0f4a6b83a956.js","static/chunks/main-17007a384daea84e.js","static/chunks/pages/_app-3c9ca398d360b709.js"],"/_error":["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/framework-8e0e0f4a6b83a956.js","static/chunks/main-17007a384daea84e.js","static/chunks/pages/_error-cf5ca766ac8f493f.js"]},ampFirstPages:[]},c.__BUILD_MANIFEST.lowPriorityFiles=["/static/5vAXtrh2qjJDoCjPjRb93/_buildManifest.js",,"/static/5vAXtrh2qjJDoCjPjRb93/_ssgManifest.js"],c.__REACT_LOADABLE_MANIFEST=pt,c.__NEXT_FONT_MANIFEST=ut,c.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",(()=>{"use strict";var k={},f={};function _(t){var s=f[t];if(s!==void 0)return s.exports;var n=f[t]={exports:{}},g=!0;try{k[t].call(n.exports,n,n.exports,_),g=!1}finally{g&&delete f[t]}return n.exports}_.m=k,_.amdO={},(()=>{var t=[];_.O=(s,n,g,d)=>{if(n){d=d||0;for(var u=t.length;u>0&&t[u-1][2]>d;u--)t[u]=t[u-1];t[u]=[n,g,d];return}for(var h=1/0,u=0;u<t.length;u++){for(var[n,g,d]=t[u],y=!0,b=0;b<n.length;b++)h>=d&&Object.keys(_.O).every(C=>_.O[C](n[b]))?n.splice(b--,1):(y=!1,d<h&&(h=d));if(y){t.splice(u--,1);var R=g();R!==void 0&&(s=R)}}return s}})(),_.n=t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return _.d(s,{a:s}),s},(()=>{var t,s=Object.getPrototypeOf?n=>Object.getPrototypeOf(n):n=>n.__proto__;_.t=function(n,g){if(1&g&&(n=this(n)),8&g||typeof n=="object"&&n&&(4&g&&n.__esModule||16&g&&typeof n.then=="function"))return n;var d=Object.create(null);_.r(d);var u={};t=t||[null,s({}),s([]),s(s)];for(var h=2&g&&n;typeof h=="object"&&!~t.indexOf(h);h=s(h))Object.getOwnPropertyNames(h).forEach(y=>u[y]=()=>n[y]);return u.default=()=>n,_.d(d,u),d}})(),_.d=(t,s)=>{for(var n in s)_.o(s,n)&&!_.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:s[n]})},_.e=()=>Promise.resolve(),_.g=function(){if(typeof p=="object")return p;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),_.o=(t,s)=>Object.prototype.hasOwnProperty.call(t,s),_.r=t=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={5993:0};_.O.j=g=>t[g]===0;var s=(g,d)=>{var u,h,[y,b,R]=d,A=0;if(y.some(L=>t[L]!==0)){for(u in b)_.o(b,u)&&(_.m[u]=b[u]);if(R)var S=R(_)}for(g&&g(d);A<y.length;A++)h=y[A],_.o(t,h)&&t[h]&&t[h][0](),t[h]=0;return _.O(S)},n=c.webpackChunk_N_E=c.webpackChunk_N_E||[];n.forEach(s.bind(null,0)),n.push=s.bind(null,n.push.bind(n))})()})(),(c.webpackChunk_N_E=c.webpackChunk_N_E||[]).push([[2720],{8819:ze,4337:qe,7960:Be,6914:He,9548:De,5028:Ue,9642:Fe,5105:Le,1651:Me,796:Ie,8949:Ke,7908:Ce,1583:Se,8264:je,2039:Ne,4363:Oe,8439:Ae,5927:Te,828:we,4834:$e,4828:Re,6631:Ee,8816:ve,6991:Pe,7765:be,8042:ye,335:me,3039:fe,1863:ke,989:xe,9206:le,9254:he,5577:de,8219:ge,6735:pe,2594:ue,2296:ce,5228:ie,8983:se,9182:re}]),(c.webpackChunk_N_E=c.webpackChunk_N_E||[]).push([[7883],{676:ct,5996:it,6947:st,2988:rt,2561:ot,581:_t,7983:at,4591:nt,7444:tt,3665:et,6776:Ze,4101:Ye,662:Ve,7701:Qe,9573:Xe,7037:Ge,3818:We,1730:Je}]),(c.webpackChunk_N_E=c.webpackChunk_N_E||[]).push([[4878],{2067:oe,6195:_e,1993:(k,f,_)=>{"use strict";_.r(f),_.d(f,{ComponentMod:()=>C,default:()=>B});var t={};_.r(t),_.d(t,{GET:()=>y,runtime:()=>h});var s={};_.r(s),_.d(s,{originalPathname:()=>L,patchFetch:()=>F,requestAsyncStorage:()=>R,routeModule:()=>b,serverHooks:()=>S,staticGenerationAsyncStorage:()=>A});var n=_(7983),g=_(2561),d=_(4828),u=_(6631);let h="edge";async function y(){let N=process.env.HTTP_DATABASE_URL,K=process.env.JWT_SECRET;try{let $;if(!N)return Response.json({step:1,success:!1,error:"HTTP_DATABASE_URL not configured",env_check:{HTTP_DATABASE_URL:"missing",JWT_SECRET:K?"present":"missing"}},{status:500});if(!K)return Response.json({step:1,success:!1,error:"JWT_SECRET not configured",env_check:{HTTP_DATABASE_URL:"present",JWT_SECRET:"missing"}},{status:500});console.log("Testing connectivity to:",N);let D=await fetch(N,{method:"GET",headers:{Accept:"application/json"}}),H=D.status,w=await D.text();try{let l={role:"authenticated",iat:Math.floor(Date.now()/1e3),exp:Math.floor(Date.now()/1e3)+3600},e=btoa(JSON.stringify({alg:"HS256",typ:"JWT"})).replace(/[=+/]/g,P=>({"=":"","+":"-","/":"_"})[P]),i=btoa(JSON.stringify(l)).replace(/[=+/]/g,P=>({"=":"","+":"-","/":"_"})[P]),o=`${e}.${i}`,r=await crypto.subtle.importKey("raw",new TextEncoder().encode(K),{name:"HMAC",hash:"SHA-256"},!1,["sign"]),E=await crypto.subtle.sign("HMAC",r,new TextEncoder().encode(o)),m=btoa(String.fromCharCode(...new Uint8Array(E))).replace(/[=+/]/g,P=>({"=":"","+":"-","/":"_"})[P]);$=`${o}.${m}`}catch(l){return Response.json({step:3,success:!1,error:"JWT generation failed",jwt_error:l.message,connectivity:{status:H,response:w.substring(0,200)}},{status:500})}let I={};for(let l of["/rpc/execute_sql","/rpc/health_check","/health","/"])try{let e=await fetch(`${N}${l}`,{method:l==="/rpc/execute_sql"?"POST":"GET",headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json",Accept:"application/json"},body:l==="/rpc/execute_sql"?JSON.stringify({query:"SELECT 1 as test"}):void 0}),i=await e.text();I[l]={status:e.status,ok:e.ok,response:i.substring(0,200)}}catch(e){I[l]={status:"error",error:e.message}}return Response.json({success:!0,debug_info:{step:"completed",environment:{HTTP_DATABASE_URL:N,JWT_SECRET_LENGTH:K.length},connectivity:{status:H,response_preview:w.substring(0,200)},jwt_token:{generated:!0,length:$.length,preview:$.substring(0,50)+"..."},endpoint_tests:I}})}catch($){return Response.json({success:!1,error:$.message,stack:$.stack},{status:500})}}let b=new g.AppRouteRouteModule({definition:{kind:d.x.APP_ROUTE,page:"/api/debug-http/route",pathname:"/api/debug-http",filename:"route",bundlePath:"app/api/debug-http/route"},resolvedPagePath:"/Users/sean/git/alert24-app/app/api/debug-http/route.js",nextConfigOutput:"",userland:t}),{requestAsyncStorage:R,staticGenerationAsyncStorage:A,serverHooks:S}=b,L="/api/debug-http/route";function F(){return(0,u.XH)({serverHooks:S,staticGenerationAsyncStorage:A})}let C=s,B=n.a.wrap(b)}},k=>{var f=t=>k(k.s=t);k.O(0,[2720,7883],()=>f(1993));var _=k.O();(p._ENTRIES=typeof p._ENTRIES>"u"?{}:p._ENTRIES)["middleware_app/api/debug-http/route"]=_}]),function(){let k={exports:{},loaded:!1};return function(_,t){var s=Object.create,n=Object.defineProperty,g=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,u=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty,y=e=>n(e,"__esModule",{value:!0}),b=(e,i)=>{y(e);for(var o in i)n(e,o,{get:i[o],enumerable:!0})},R=(e,i,o)=>{if(i&&typeof i=="object"||typeof i=="function")for(let r of d(i))!h.call(e,r)&&r!=="default"&&n(e,r,{get:()=>i[r],enumerable:!(o=g(i,r))||o.enumerable});return e},A=e=>R(y(n(e!=null?s(u(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);b(t,{default:()=>H});var S=A((G(),ee(U))),L="@next/request-context",F=Symbol.for(L),C=Symbol.for("internal.storage");function B(){let e=p;if(!e[F]){let i=new S.AsyncLocalStorage,o={get:()=>i.getStore(),[C]:i};e[F]=o}return e[F]}var N=B();function K(e,i){return N[C].run(e,i)}function $(e){let i={};return e&&e.forEach((o,r)=>{i[r]=o,r.toLowerCase()==="set-cookie"&&(i[r]=D(o))}),i}function D(e){let i=[],o=0,r,E,m,P,j;function T(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}function O(){return E=e.charAt(o),E!=="="&&E!==";"&&E!==","}for(;o<e.length;){for(r=o,j=!1;T();)if(E=e.charAt(o),E===","){for(m=o,o+=1,T(),P=o;o<e.length&&O();)o+=1;o<e.length&&e.charAt(o)==="="?(j=!0,o=P,i.push(e.substring(r,m)),r=o):o=m+1}else o+=1;(!j||o>=e.length)&&i.push(e.substring(r,e.length))}return i}function H(e){let i=e.staticRoutes.map(r=>({regexp:new RegExp(r.namedRegex),page:r.page})),o=e.dynamicRoutes?.map(r=>({regexp:new RegExp(r.namedRegex),page:r.page}))||[];return async function(r,E){let m=new URL(r.url).pathname,P={};if(e.nextConfig?.basePath&&m.startsWith(e.nextConfig.basePath)&&(m=m.replace(e.nextConfig.basePath,"")||"/"),e.nextConfig?.i18n)for(let T of e.nextConfig.i18n.locales){let O=new RegExp(`^/${T}($|/)`,"i");if(m.match(O)){m=m.replace(O,"/")||"/";break}}for(let T of i)if(T.regexp.exec(m)){P.name=T.page;break}if(!P.name){let T=I(m);for(let O of o||[]){if(T&&!I(O.page))continue;let J=O.regexp.exec(m);if(J){P={name:O.page,params:J.groups};break}}}let j=await K({waitUntil:E.waitUntil},()=>p._ENTRIES[`middleware_${e.name}`].default.call({},{request:{url:r.url,method:r.method,headers:$(r.headers),ip:w(r.headers,l.Ip),geo:{city:w(r.headers,l.City,!0),country:w(r.headers,l.Country,!0),latitude:w(r.headers,l.Latitude),longitude:w(r.headers,l.Longitude),region:w(r.headers,l.Region,!0)},nextConfig:e.nextConfig,page:P,body:r.body}}));return j.waitUntil&&E.waitUntil(j.waitUntil),j.response}}function w(e,i,o=!1){let r=e.get(i)||void 0;return o&&r?decodeURIComponent(r):r}function I(e){return e==="/api"||e.startsWith("/api/")}var l;(function(e){e.City="x-vercel-ip-city",e.Country="x-vercel-ip-country",e.Ip="x-real-ip",e.Latitude="x-vercel-ip-latitude",e.Longitude="x-vercel-ip-longitude",e.Region="x-vercel-ip-country-region"})(l||(l={}))}(k,k.exports),k.exports}.call({}).default({name:"app/api/debug-http/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/accept-invitation",regex:"^/accept\\-invitation(?:/)?$",routeKeys:{},namedRegex:"^/accept\\-invitation(?:/)?$"},{page:"/debug-email",regex:"^/debug\\-email(?:/)?$",routeKeys:{},namedRegex:"^/debug\\-email(?:/)?$"},{page:"/debug-monitoring",regex:"^/debug\\-monitoring(?:/)?$",routeKeys:{},namedRegex:"^/debug\\-monitoring(?:/)?$"},{page:"/escalation-policies/new",regex:"^/escalation\\-policies/new(?:/)?$",routeKeys:{},namedRegex:"^/escalation\\-policies/new(?:/)?$"},{page:"/favicon.ico",regex:"^/favicon\\.ico(?:/)?$",routeKeys:{},namedRegex:"^/favicon\\.ico(?:/)?$"},{page:"/help",regex:"^/help(?:/)?$",routeKeys:{},namedRegex:"^/help(?:/)?$"},{page:"/incidents",regex:"^/incidents(?:/)?$",routeKeys:{},namedRegex:"^/incidents(?:/)?$"},{page:"/incidents/new",regex:"^/incidents/new(?:/)?$",routeKeys:{},namedRegex:"^/incidents/new(?:/)?$"},{page:"/monitoring",regex:"^/monitoring(?:/)?$",routeKeys:{},namedRegex:"^/monitoring(?:/)?$"},{page:"/monitoring/new",regex:"^/monitoring/new(?:/)?$",routeKeys:{},namedRegex:"^/monitoring/new(?:/)?$"},{page:"/on-call",regex:"^/on\\-call(?:/)?$",routeKeys:{},namedRegex:"^/on\\-call(?:/)?$"},{page:"/on-call/new",regex:"^/on\\-call/new(?:/)?$",routeKeys:{},namedRegex:"^/on\\-call/new(?:/)?$"},{page:"/organizations",regex:"^/organizations(?:/)?$",routeKeys:{},namedRegex:"^/organizations(?:/)?$"},{page:"/profile",regex:"^/profile(?:/)?$",routeKeys:{},namedRegex:"^/profile(?:/)?$"},{page:"/settings",regex:"^/settings(?:/)?$",routeKeys:{},namedRegex:"^/settings(?:/)?$"},{page:"/status-pages",regex:"^/status\\-pages(?:/)?$",routeKeys:{},namedRegex:"^/status\\-pages(?:/)?$"}],dynamicRoutes:[{page:"/api/auth/[...nextauth]",regex:"^/api/auth/(.+?)(?:/)?$",routeKeys:{nxtPnextauth:"nxtPnextauth"},namedRegex:"^/api/auth/(?<nxtPnextauth>.+?)(?:/)?$"},{page:"/api/incidents/[id]",regex:"^/api/incidents/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/incidents/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/incidents/[id]/updates",regex:"^/api/incidents/([^/]+?)/updates(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/incidents/(?<nxtPid>[^/]+?)/updates(?:/)?$"},{page:"/api/monitoring/[id]",regex:"^/api/monitoring/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/monitoring/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/on-call-schedules/[id]",regex:"^/api/on\\-call\\-schedules/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/on\\-call\\-schedules/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/organizations/[id]",regex:"^/api/organizations/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/organizations/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/organizations/[id]/invitations",regex:"^/api/organizations/([^/]+?)/invitations(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/organizations/(?<nxtPid>[^/]+?)/invitations(?:/)?$"},{page:"/api/services/[id]",regex:"^/api/services/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/services/[id]/monitoring",regex:"^/api/services/([^/]+?)/monitoring(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)/monitoring(?:/)?$"},{page:"/api/services/[id]/sla",regex:"^/api/services/([^/]+?)/sla(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)/sla(?:/)?$"},{page:"/api/status-pages/public/[slug]",regex:"^/api/status\\-pages/public/([^/]+?)(?:/)?$",routeKeys:{nxtPslug:"nxtPslug"},namedRegex:"^/api/status\\-pages/public/(?<nxtPslug>[^/]+?)(?:/)?$"},{page:"/api/status-pages/[id]",regex:"^/api/status\\-pages/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/status\\-pages/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/incidents/[id]",regex:"^/incidents/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/incidents/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/incidents/[id]/edit",regex:"^/incidents/([^/]+?)/edit(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/incidents/(?<nxtPid>[^/]+?)/edit(?:/)?$"},{page:"/monitoring/edit/[id]",regex:"^/monitoring/edit/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/monitoring/edit/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/on-call/[id]/edit",regex:"^/on\\-call/([^/]+?)/edit(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/on\\-call/(?<nxtPid>[^/]+?)/edit(?:/)?$"},{page:"/status/[slug]",regex:"^/status/([^/]+?)(?:/)?$",routeKeys:{nxtPslug:"nxtPslug"},namedRegex:"^/status/(?<nxtPslug>[^/]+?)(?:/)?$"}],nextConfig:{basePath:""}})))(v,v,v);export{kt as default};
