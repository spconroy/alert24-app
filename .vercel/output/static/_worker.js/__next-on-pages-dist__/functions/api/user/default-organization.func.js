var Q=Object.defineProperty;var V=Object.getOwnPropertyDescriptor;var Z=Object.getOwnPropertyNames;var ee=Object.prototype.hasOwnProperty;var te=(m,$)=>()=>(m&&($=m(m=0)),$);var G=(m,$,L,v)=>{if($&&typeof $=="object"||typeof $=="function")for(let _ of Z($))!ee.call(m,_)&&_!==L&&Q(m,_,{get:()=>$[_],enumerable:!(v=V($,_))||v.enumerable});return m},H=(m,$,L)=>(G(m,$,"default"),L&&G(L,$,"default"));var re=m=>G(Q({},"__esModule",{value:!0}),m);var B={};import*as Nt from"async_hooks";var W=te(()=>{H(B,Nt)});import{__getNamedExports as ne}from"../../../../__next-on-pages-dist__/webpack/7138.js";import{__getNamedExports as se}from"../../../../__next-on-pages-dist__/webpack/aa5c0a3237ae1fd635b2d0bab25b6e94.js";import{__getNamedExports as ae}from"../../../../__next-on-pages-dist__/webpack/ac7e0cd817c0f96ac6506045b651299a.js";import{__getNamedExports as ie}from"../../../../__next-on-pages-dist__/webpack/5c7c089f9b18fab21905bdbf6a451f6c.js";import{__getNamedExports as oe}from"../../../../__next-on-pages-dist__/webpack/fc1dd92f63cefab5577162dd844679df.js";import{__getNamedExports as ue}from"../../../../__next-on-pages-dist__/manifest/537259e2ed205f5a7994cb4f05664668.js";var b=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/user/default-organization"),ce=ne(b,b,b),he=ce.__chunk_7138,X=se(b,b,b),_e=X.__chunk_6095,le=X.__chunk_3543,de=X.__chunk_2641,d=ae(b,b,b),pe=d.__chunk_6195,ge=d.__chunk_2067,fe=d.__chunk_9182,me=d.__chunk_8983,ke=d.__chunk_5228,xe=d.__chunk_2296,Pe=d.__chunk_2594,ye=d.__chunk_6735,$e=d.__chunk_8219,ve=d.__chunk_5577,be=d.__chunk_9254,Ee=d.__chunk_9206,we=d.__chunk_989,Oe=d.__chunk_1863,Re=d.__chunk_3039,je=d.__chunk_335,Ae=d.__chunk_8042,Ne=d.__chunk_7765,Te=d.__chunk_6991,Se=d.__chunk_8816,ze=d.__chunk_6631,Ce=d.__chunk_4828,Ie=d.__chunk_4834,Me=d.__chunk_828,Ke=d.__chunk_5927,De=d.__chunk_8439,Fe=d.__chunk_4363,qe=d.__chunk_2039,Le=d.__chunk_8264,Be=d.__chunk_1583,Ue=d.__chunk_7908,Ge=d.__chunk_8949,He=d.__chunk_796,Xe=d.__chunk_1651,Je=d.__chunk_5105,Qe=d.__chunk_9642,We=d.__chunk_5028,Ye=d.__chunk_9548,Ve=d.__chunk_6914,Ze=d.__chunk_7960,et=d.__chunk_4337,tt=d.__chunk_8819,q=ie(b,b,b),rt=q.__chunk_6006,nt=q.__chunk_9985,st=q.__chunk_4155,at=q.__chunk_9037,it=q.__chunk_5737,ot=q.__chunk_4919,ut=q.__chunk_6855,ct=q.__chunk_3607,O=oe(b,b,b),ht=O.__chunk_1730,_t=O.__chunk_3818,lt=O.__chunk_7037,dt=O.__chunk_9573,pt=O.__chunk_7701,gt=O.__chunk_662,ft=O.__chunk_4101,mt=O.__chunk_6776,kt=O.__chunk_3665,xt=O.__chunk_7444,Pt=O.__chunk_4591,yt=O.__chunk_7983,$t=O.__chunk_581,vt=O.__chunk_2561,bt=O.__chunk_2988,Et=O.__chunk_6947,wt=O.__chunk_5996,Ot=O.__chunk_676,Y=ue(b,b,b),Rt=Y.__NEXT_FONT_MANIFEST,jt=Y.__REACT_LOADABLE_MANIFEST,Kt=((m,$,L)=>($._ENTRIES={},m.__BUILD_MANIFEST={polyfillFiles:["static/chunks/polyfills-42372ed130431b0a.js"],devFiles:[],ampDevFiles:[],lowPriorityFiles:[],rootMainFiles:["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/fd9d1056-30de07f4a3c346ee.js","static/chunks/7466-8fdf295a7c02cf2e.js","static/chunks/main-app-8eaf6dc4ad0df15d.js"],pages:{"/_app":["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/framework-8e0e0f4a6b83a956.js","static/chunks/main-17007a384daea84e.js","static/chunks/pages/_app-3c9ca398d360b709.js"],"/_error":["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/framework-8e0e0f4a6b83a956.js","static/chunks/main-17007a384daea84e.js","static/chunks/pages/_error-cf5ca766ac8f493f.js"]},ampFirstPages:[]},m.__BUILD_MANIFEST.lowPriorityFiles=["/static/5vAXtrh2qjJDoCjPjRb93/_buildManifest.js",,"/static/5vAXtrh2qjJDoCjPjRb93/_ssgManifest.js"],m.__REACT_LOADABLE_MANIFEST=jt,m.__NEXT_FONT_MANIFEST=Rt,m.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",(()=>{"use strict";var v={},_={};function i(a){var c=_[a];if(c!==void 0)return c.exports;var o=_[a]={exports:{}},h=!0;try{v[a].call(o.exports,o,o.exports,i),h=!1}finally{h&&delete _[a]}return o.exports}i.m=v,i.amdO={},(()=>{var a=[];i.O=(c,o,h,t)=>{if(o){t=t||0;for(var e=a.length;e>0&&a[e-1][2]>t;e--)a[e]=a[e-1];a[e]=[o,h,t];return}for(var n=1/0,e=0;e<a.length;e++){for(var[o,h,t]=a[e],r=!0,u=0;u<o.length;u++)n>=t&&Object.keys(i.O).every(j=>i.O[j](o[u]))?o.splice(u--,1):(r=!1,t<n&&(n=t));if(r){a.splice(e--,1);var l=h();l!==void 0&&(c=l)}}return c}})(),i.n=a=>{var c=a&&a.__esModule?()=>a.default:()=>a;return i.d(c,{a:c}),c},(()=>{var a,c=Object.getPrototypeOf?o=>Object.getPrototypeOf(o):o=>o.__proto__;i.t=function(o,h){if(1&h&&(o=this(o)),8&h||typeof o=="object"&&o&&(4&h&&o.__esModule||16&h&&typeof o.then=="function"))return o;var t=Object.create(null);i.r(t);var e={};a=a||[null,c({}),c([]),c(c)];for(var n=2&h&&o;typeof n=="object"&&!~a.indexOf(n);n=c(n))Object.getOwnPropertyNames(n).forEach(r=>e[r]=()=>o[r]);return e.default=()=>o,i.d(t,e),t}})(),i.d=(a,c)=>{for(var o in c)i.o(c,o)&&!i.o(a,o)&&Object.defineProperty(a,o,{enumerable:!0,get:c[o]})},i.e=()=>Promise.resolve(),i.g=function(){if(typeof $=="object")return $;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(a,c)=>Object.prototype.hasOwnProperty.call(a,c),i.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},(()=>{var a={5993:0};i.O.j=h=>a[h]===0;var c=(h,t)=>{var e,n,[r,u,l]=t,f=0;if(r.some(x=>a[x]!==0)){for(e in u)i.o(u,e)&&(i.m[e]=u[e]);if(l)var y=l(i)}for(h&&h(t);f<r.length;f++)n=r[f],i.o(a,n)&&a[n]&&a[n][0](),a[n]=0;return i.O(y)},o=m.webpackChunk_N_E=m.webpackChunk_N_E||[];o.forEach(c.bind(null,0)),o.push=c.bind(null,o.push.bind(o))})()})(),(m.webpackChunk_N_E=m.webpackChunk_N_E||[]).push([[2720],{8819:tt,4337:et,7960:Ze,6914:Ve,9548:Ye,5028:We,9642:Qe,5105:Je,1651:Xe,796:He,8949:Ge,7908:Ue,1583:Be,8264:Le,2039:qe,4363:Fe,8439:De,5927:Ke,828:Me,4834:Ie,4828:Ce,6631:ze,8816:Se,6991:Te,7765:Ne,8042:Ae,335:je,3039:Re,1863:Oe,989:we,9206:Ee,9254:be,5577:ve,8219:$e,6735:ye,2594:Pe,2296:xe,5228:ke,8983:me,9182:fe}]),(m.webpackChunk_N_E=m.webpackChunk_N_E||[]).push([[7883],{676:Ot,5996:wt,6947:Et,2988:bt,2561:vt,581:$t,7983:yt,4591:Pt,7444:xt,3665:kt,6776:mt,4101:ft,662:gt,7701:pt,9573:dt,7037:lt,3818:_t,1730:ht}]),(m.webpackChunk_N_E=m.webpackChunk_N_E||[]).push([[1377],{3607:ct,4953:function(v,_,i){"use strict";var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_,"__esModule",{value:!0});let c=a(i(3607)),o=a(i(6855));class h{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=c.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var l,f,y;let x=null,E=null,j=null,A=u.status,w=u.statusText;if(u.ok){if(this.method!=="HEAD"){let K=await u.text();K===""||(E=this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?K:JSON.parse(K))}let z=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),M=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");z&&M&&M.length>1&&(j=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(x={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,j=null,A=406,w="Not Acceptable"):E=E.length===1?E[0]:null)}else{let z=await u.text();try{x=JSON.parse(z),Array.isArray(x)&&u.status===404&&(E=[],x=null,A=200,w="OK")}catch{u.status===404&&z===""?(A=204,w="No Content"):x={message:z}}if(x&&this.isMaybeSingle&&((y=x?.details)===null||y===void 0?void 0:y.includes("0 rows"))&&(x=null,A=200,w="OK"),x&&this.shouldThrowOnError)throw new o.default(x)}return{error:x,data:E,count:j,status:A,statusText:w}});return this.shouldThrowOnError||(r=r.catch(u=>{var l,f,y;return{error:{message:`${(l=u?.name)!==null&&l!==void 0?l:"FetchError"}: ${u?.message}`,details:`${(f=u?.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(y=u?.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,n)}returns(){return this}overrideTypes(){return this}}_.default=h},4708:function(v,_,i){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_,"__esModule",{value:!0});let c=a(i(3449)),o=a(i(5245)),h=i(4919);class t{constructor(n,{headers:r={},schema:u,fetch:l}={}){this.url=n,this.headers=Object.assign(Object.assign({},h.DEFAULT_HEADERS),r),this.schemaName=u,this.fetch=l}from(n){let r=new URL(`${this.url}/${n}`);return new c.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new t(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,r={},{head:u=!1,get:l=!1,count:f}={}){let y,x,E=new URL(`${this.url}/rpc/${n}`);u||l?(y=u?"HEAD":"GET",Object.entries(r).filter(([A,w])=>w!==void 0).map(([A,w])=>[A,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([A,w])=>{E.searchParams.append(A,w)})):(y="POST",x=r);let j=Object.assign({},this.headers);return f&&(j.Prefer=`count=${f}`),new o.default({method:y,url:E,headers:j,schema:this.schemaName,body:x,fetch:this.fetch,allowEmpty:!1})}}_.default=t},6855:ut,5245:function(v,_,i){"use strict";var a=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(_,"__esModule",{value:!0});let c=a(i(1560));class o extends c.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){let n=Array.from(new Set(e)).map(r=>typeof r=="string"&&RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let u="";r==="plain"?u="pl":r==="phrase"?u="ph":r==="websearch"&&(u="w");let l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${u}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){let r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}}_.default=o},3449:function(v,_,i){"use strict";var a=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(_,"__esModule",{value:!0});let c=a(i(5245));class o{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=e,this.schema=n,this.fetch=r}select(t,{head:e=!1,count:n}={}){let r=!1,u=(t??"*").split("").map(l=>/\s/.test(l)&&!r?"":(l==='"'&&(r=!r),l)).join("");return this.url.searchParams.set("select",u),n&&(this.headers.Prefer=`count=${n}`),new c.default({method:e?"HEAD":"GET",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:n=!0}={}){let r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),e&&r.push(`count=${e}`),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(t)){let u=t.reduce((l,f)=>l.concat(Object.keys(f)),[]);if(u.length>0){let l=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",l.join(","))}}return new c.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:u=!0}={}){let l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&l.push(this.headers.Prefer),r&&l.push(`count=${r}`),u||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){let f=t.reduce((y,x)=>y.concat(Object.keys(x)),[]);if(f.length>0){let y=[...new Set(f)].map(x=>`"${x}"`);this.url.searchParams.set("columns",y.join(","))}}return new c.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){let n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),e&&n.push(`count=${e}`),this.headers.Prefer=n.join(","),new c.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let e=[];return t&&e.push(`count=${t}`),this.headers.Prefer&&e.unshift(this.headers.Prefer),this.headers.Prefer=e.join(","),new c.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}_.default=o},1560:function(v,_,i){"use strict";var a=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(_,"__esModule",{value:!0});let c=a(i(4953));class o extends c.default{select(t){let e=!1,n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:u=r}={}){let l=u?`${u}.order`:"order",f=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${f?`${f},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){let r=n===void 0?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){let u=r===void 0?"offset":`${r}.offset`,l=r===void 0?"limit":`${r}.limit`;return this.url.searchParams.set(u,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:u=!1,format:l="text"}={}){var f;let y=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,u?"wal":null].filter(Boolean).join("|"),x=(f=this.headers.Accept)!==null&&f!==void 0?f:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${x}"; options=${y};`,this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}_.default=o},4919:ot,7483:function(v,_,i){"use strict";var a=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_,"__esModule",{value:!0}),_.PostgrestError=_.PostgrestBuilder=_.PostgrestTransformBuilder=_.PostgrestFilterBuilder=_.PostgrestQueryBuilder=_.PostgrestClient=void 0;let c=a(i(4708));_.PostgrestClient=c.default;let o=a(i(3449));_.PostgrestQueryBuilder=o.default;let h=a(i(5245));_.PostgrestFilterBuilder=h.default;let t=a(i(1560));_.PostgrestTransformBuilder=t.default;let e=a(i(4953));_.PostgrestBuilder=e.default;let n=a(i(6855));_.PostgrestError=n.default,_.default={PostgrestClient:c.default,PostgrestQueryBuilder:o.default,PostgrestFilterBuilder:h.default,PostgrestTransformBuilder:t.default,PostgrestBuilder:e.default,PostgrestError:n.default}},5737:it,9037:at,4155:st,9985:nt}]),(m.webpackChunk_N_E=m.webpackChunk_N_E||[]).push([[3452],{2641:de,3543:le}]),(m.webpackChunk_N_E=m.webpackChunk_N_E||[]).push([[6006],{6006:rt}]),(m.webpackChunk_N_E=m.webpackChunk_N_E||[]).push([[21],{2067:ge,6195:pe,4864:(v,_,i)=>{"use strict";i.r(_),i.d(_,{ComponentMod:()=>U,default:()=>D});var a={};i.r(a),i.d(a,{DELETE:()=>E,GET:()=>y,POST:()=>x,runtime:()=>l});var c={};i.r(c),i.d(c,{originalPathname:()=>M,patchFetch:()=>K,requestAsyncStorage:()=>A,routeModule:()=>j,serverHooks:()=>z,staticGenerationAsyncStorage:()=>w});var o=i(7983),h=i(2561),t=i(4828),e=i(6631),n=i(6095),r=i(7138),u=i(6006);let l="edge",f=new u._;async function y(){try{let N=await(0,n.I8)();if(!N?.user?.id)return r.Rf.error("Authentication required",401);let{data:P,error:s}=await f.client.from("organization_members").select(`
        organization_id,
        role,
        organizations!inner (
          id,
          name,
          slug
        )
      `).eq("user_id",N.user.id).eq("is_default",!0).eq("is_active",!0).single();return s&&s.code!=="PGRST116"?(console.error("Error fetching default organization:",s),r.Rf.error("Failed to fetch default organization",500)):P?r.Rf.success({hasDefault:!0,defaultOrganization:{id:P.organizations.id,name:P.organizations.name,slug:P.organizations.slug,role:P.role}}):r.Rf.success({hasDefault:!1,defaultOrganization:null})}catch(N){return console.error("Error in GET /api/user/default-organization:",N),r.Rf.error("Internal server error",500)}}async function x(N){try{let P=await(0,n.I8)();if(!P?.user?.id)return r.Rf.error("Authentication required",401);let s=await N.json();r.cX.required(["organizationId"],s);let{organizationId:k}=s,{data:p,error:g}=await f.client.from("organization_members").select("id, role").eq("user_id",P.user.id).eq("organization_id",k).eq("is_active",!0).single();if(g||!p)return r.Rf.error("You are not a member of this organization",403);let{error:T}=await f.client.from("organization_members").update({is_default:!1,updated_at:new Date().toISOString()}).eq("user_id",P.user.id);if(T)return console.error("Error removing default status:",T),r.Rf.error("Failed to update default organization",500);let{error:R}=await f.client.from("organization_members").update({is_default:!0,updated_at:new Date().toISOString()}).eq("user_id",P.user.id).eq("organization_id",k);if(R)return console.error("Error setting default organization:",R),r.Rf.error("Failed to set default organization",500);let{data:S,error:C}=await f.client.from("organizations").select("id, name, slug").eq("id",k).single();return C?(console.error("Error fetching organization details:",C),r.Rf.error("Failed to fetch organization details",500)):r.Rf.success({message:"Default organization updated successfully",defaultOrganization:{id:S.id,name:S.name,slug:S.slug,role:p.role}})}catch(P){return console.error("Error in POST /api/user/default-organization:",P),r.Rf.error("Internal server error",500)}}async function E(){try{let N=await(0,n.I8)();if(!N?.user?.id)return r.Rf.error("Authentication required",401);let{error:P}=await f.client.from("organization_members").update({is_default:!1,updated_at:new Date().toISOString()}).eq("user_id",N.user.id);return P?(console.error("Error removing default organization:",P),r.Rf.error("Failed to remove default organization",500)):r.Rf.success({message:"Default organization removed successfully"})}catch(N){return console.error("Error in DELETE /api/user/default-organization:",N),r.Rf.error("Internal server error",500)}}let j=new h.AppRouteRouteModule({definition:{kind:t.x.APP_ROUTE,page:"/api/user/default-organization/route",pathname:"/api/user/default-organization",filename:"route",bundlePath:"app/api/user/default-organization/route"},resolvedPagePath:"/Users/sean/git/alert24-app/app/api/user/default-organization/route.js",nextConfigOutput:"",userland:a}),{requestAsyncStorage:A,staticGenerationAsyncStorage:w,serverHooks:z}=j,M="/api/user/default-organization/route";function K(){return(0,e.XH)({serverHooks:z,staticGenerationAsyncStorage:w})}let U=c,D=o.a.wrap(j)},6095:_e,7138:he},v=>{var _=a=>v(v.s=a);v.O(0,[2720,7883,1377,3452,6006],()=>_(4864));var i=v.O();($._ENTRIES=typeof $._ENTRIES>"u"?{}:$._ENTRIES)["middleware_app/api/user/default-organization/route"]=i}]),function(){let v={exports:{},loaded:!1};return function(i,a){var c=Object.create,o=Object.defineProperty,h=Object.getOwnPropertyDescriptor,t=Object.getOwnPropertyNames,e=Object.getPrototypeOf,n=Object.prototype.hasOwnProperty,r=s=>o(s,"__esModule",{value:!0}),u=(s,k)=>{r(s);for(var p in k)o(s,p,{get:k[p],enumerable:!0})},l=(s,k,p)=>{if(k&&typeof k=="object"||typeof k=="function")for(let g of t(k))!n.call(s,g)&&g!=="default"&&o(s,g,{get:()=>k[g],enumerable:!(p=h(k,g))||p.enumerable});return s},f=s=>l(r(o(s!=null?c(e(s)):{},"default",s&&s.__esModule&&"default"in s?{get:()=>s.default,enumerable:!0}:{value:s,enumerable:!0})),s);u(a,{default:()=>U});var y=f((W(),re(B))),x="@next/request-context",E=Symbol.for(x),j=Symbol.for("internal.storage");function A(){let s=$;if(!s[E]){let k=new y.AsyncLocalStorage,p={get:()=>k.getStore(),[j]:k};s[E]=p}return s[E]}var w=A();function z(s,k){return w[j].run(s,k)}function M(s){let k={};return s&&s.forEach((p,g)=>{k[g]=p,g.toLowerCase()==="set-cookie"&&(k[g]=K(p))}),k}function K(s){let k=[],p=0,g,T,R,S,C;function I(){for(;p<s.length&&/\s/.test(s.charAt(p));)p+=1;return p<s.length}function F(){return T=s.charAt(p),T!=="="&&T!==";"&&T!==","}for(;p<s.length;){for(g=p,C=!1;I();)if(T=s.charAt(p),T===","){for(R=p,p+=1,I(),S=p;p<s.length&&F();)p+=1;p<s.length&&s.charAt(p)==="="?(C=!0,p=S,k.push(s.substring(g,R)),g=p):p=R+1}else p+=1;(!C||p>=s.length)&&k.push(s.substring(g,s.length))}return k}function U(s){let k=s.staticRoutes.map(g=>({regexp:new RegExp(g.namedRegex),page:g.page})),p=s.dynamicRoutes?.map(g=>({regexp:new RegExp(g.namedRegex),page:g.page}))||[];return async function(g,T){let R=new URL(g.url).pathname,S={};if(s.nextConfig?.basePath&&R.startsWith(s.nextConfig.basePath)&&(R=R.replace(s.nextConfig.basePath,"")||"/"),s.nextConfig?.i18n)for(let I of s.nextConfig.i18n.locales){let F=new RegExp(`^/${I}($|/)`,"i");if(R.match(F)){R=R.replace(F,"/")||"/";break}}for(let I of k)if(I.regexp.exec(R)){S.name=I.page;break}if(!S.name){let I=N(R);for(let F of p||[]){if(I&&!N(F.page))continue;let J=F.regexp.exec(R);if(J){S={name:F.page,params:J.groups};break}}}let C=await z({waitUntil:T.waitUntil},()=>$._ENTRIES[`middleware_${s.name}`].default.call({},{request:{url:g.url,method:g.method,headers:M(g.headers),ip:D(g.headers,P.Ip),geo:{city:D(g.headers,P.City,!0),country:D(g.headers,P.Country,!0),latitude:D(g.headers,P.Latitude),longitude:D(g.headers,P.Longitude),region:D(g.headers,P.Region,!0)},nextConfig:s.nextConfig,page:S,body:g.body}}));return C.waitUntil&&T.waitUntil(C.waitUntil),C.response}}function D(s,k,p=!1){let g=s.get(k)||void 0;return p&&g?decodeURIComponent(g):g}function N(s){return s==="/api"||s.startsWith("/api/")}var P;(function(s){s.City="x-vercel-ip-city",s.Country="x-vercel-ip-country",s.Ip="x-real-ip",s.Latitude="x-vercel-ip-latitude",s.Longitude="x-vercel-ip-longitude",s.Region="x-vercel-ip-country-region"})(P||(P={}))}(v,v.exports),v.exports}.call({}).default({name:"app/api/user/default-organization/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/accept-invitation",regex:"^/accept\\-invitation(?:/)?$",routeKeys:{},namedRegex:"^/accept\\-invitation(?:/)?$"},{page:"/debug-email",regex:"^/debug\\-email(?:/)?$",routeKeys:{},namedRegex:"^/debug\\-email(?:/)?$"},{page:"/debug-monitoring",regex:"^/debug\\-monitoring(?:/)?$",routeKeys:{},namedRegex:"^/debug\\-monitoring(?:/)?$"},{page:"/escalation-policies/new",regex:"^/escalation\\-policies/new(?:/)?$",routeKeys:{},namedRegex:"^/escalation\\-policies/new(?:/)?$"},{page:"/favicon.ico",regex:"^/favicon\\.ico(?:/)?$",routeKeys:{},namedRegex:"^/favicon\\.ico(?:/)?$"},{page:"/help",regex:"^/help(?:/)?$",routeKeys:{},namedRegex:"^/help(?:/)?$"},{page:"/incidents",regex:"^/incidents(?:/)?$",routeKeys:{},namedRegex:"^/incidents(?:/)?$"},{page:"/incidents/new",regex:"^/incidents/new(?:/)?$",routeKeys:{},namedRegex:"^/incidents/new(?:/)?$"},{page:"/monitoring",regex:"^/monitoring(?:/)?$",routeKeys:{},namedRegex:"^/monitoring(?:/)?$"},{page:"/monitoring/new",regex:"^/monitoring/new(?:/)?$",routeKeys:{},namedRegex:"^/monitoring/new(?:/)?$"},{page:"/on-call",regex:"^/on\\-call(?:/)?$",routeKeys:{},namedRegex:"^/on\\-call(?:/)?$"},{page:"/on-call/new",regex:"^/on\\-call/new(?:/)?$",routeKeys:{},namedRegex:"^/on\\-call/new(?:/)?$"},{page:"/organizations",regex:"^/organizations(?:/)?$",routeKeys:{},namedRegex:"^/organizations(?:/)?$"},{page:"/profile",regex:"^/profile(?:/)?$",routeKeys:{},namedRegex:"^/profile(?:/)?$"},{page:"/settings",regex:"^/settings(?:/)?$",routeKeys:{},namedRegex:"^/settings(?:/)?$"},{page:"/status-pages",regex:"^/status\\-pages(?:/)?$",routeKeys:{},namedRegex:"^/status\\-pages(?:/)?$"}],dynamicRoutes:[{page:"/api/auth/[...nextauth]",regex:"^/api/auth/(.+?)(?:/)?$",routeKeys:{nxtPnextauth:"nxtPnextauth"},namedRegex:"^/api/auth/(?<nxtPnextauth>.+?)(?:/)?$"},{page:"/api/incidents/[id]",regex:"^/api/incidents/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/incidents/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/incidents/[id]/updates",regex:"^/api/incidents/([^/]+?)/updates(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/incidents/(?<nxtPid>[^/]+?)/updates(?:/)?$"},{page:"/api/monitoring/[id]",regex:"^/api/monitoring/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/monitoring/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/on-call-schedules/[id]",regex:"^/api/on\\-call\\-schedules/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/on\\-call\\-schedules/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/organizations/[id]",regex:"^/api/organizations/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/organizations/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/organizations/[id]/invitations",regex:"^/api/organizations/([^/]+?)/invitations(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/organizations/(?<nxtPid>[^/]+?)/invitations(?:/)?$"},{page:"/api/services/[id]",regex:"^/api/services/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/services/[id]/monitoring",regex:"^/api/services/([^/]+?)/monitoring(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)/monitoring(?:/)?$"},{page:"/api/services/[id]/sla",regex:"^/api/services/([^/]+?)/sla(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)/sla(?:/)?$"},{page:"/api/status-pages/public/[slug]",regex:"^/api/status\\-pages/public/([^/]+?)(?:/)?$",routeKeys:{nxtPslug:"nxtPslug"},namedRegex:"^/api/status\\-pages/public/(?<nxtPslug>[^/]+?)(?:/)?$"},{page:"/api/status-pages/[id]",regex:"^/api/status\\-pages/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/status\\-pages/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/incidents/[id]",regex:"^/incidents/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/incidents/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/incidents/[id]/edit",regex:"^/incidents/([^/]+?)/edit(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/incidents/(?<nxtPid>[^/]+?)/edit(?:/)?$"},{page:"/monitoring/edit/[id]",regex:"^/monitoring/edit/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/monitoring/edit/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/on-call/[id]/edit",regex:"^/on\\-call/([^/]+?)/edit(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/on\\-call/(?<nxtPid>[^/]+?)/edit(?:/)?$"},{page:"/status/[slug]",regex:"^/status/([^/]+?)(?:/)?$",routeKeys:{nxtPslug:"nxtPslug"},namedRegex:"^/status/(?<nxtPslug>[^/]+?)(?:/)?$"}],nextConfig:{basePath:""}})))(b,b,b);export{Kt as default};
