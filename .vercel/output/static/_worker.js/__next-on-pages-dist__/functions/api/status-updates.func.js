var V=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var re=Object.getOwnPropertyNames;var ne=Object.prototype.hasOwnProperty;var ae=(k,$)=>()=>(k&&($=k(k=0)),$);var H=(k,$,B,v)=>{if($&&typeof $=="object"||typeof $=="function")for(let _ of re($))!ne.call(k,_)&&_!==B&&V(k,_,{get:()=>$[_],enumerable:!(v=se($,_))||v.enumerable});return k},J=(k,$,B)=>(H(k,$,"default"),B&&H(B,$,"default"));var ie=k=>H(V({},"__esModule",{value:!0}),k);var q={};import*as Nt from"async_hooks";var Y=ae(()=>{J(q,Nt)});import{__getNamedExports as ue}from"../../../__next-on-pages-dist__/webpack/aa5c0a3237ae1fd635b2d0bab25b6e94.js";import{__getNamedExports as oe}from"../../../__next-on-pages-dist__/webpack/ac7e0cd817c0f96ac6506045b651299a.js";import{__getNamedExports as ce}from"../../../__next-on-pages-dist__/webpack/5c7c089f9b18fab21905bdbf6a451f6c.js";import{__getNamedExports as he}from"../../../__next-on-pages-dist__/webpack/fc1dd92f63cefab5577162dd844679df.js";import{__getNamedExports as _e}from"../../../__next-on-pages-dist__/manifest/537259e2ed205f5a7994cb4f05664668.js";var O=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/status-updates"),X=ue(O,O,O),le=X.__chunk_6095,de=X.__chunk_3543,pe=X.__chunk_2641,g=oe(O,O,O),ge=g.__chunk_6195,fe=g.__chunk_2067,me=g.__chunk_9182,ke=g.__chunk_8983,xe=g.__chunk_5228,ye=g.__chunk_2296,Pe=g.__chunk_2594,be=g.__chunk_6735,$e=g.__chunk_8219,ve=g.__chunk_5577,we=g.__chunk_9254,Ee=g.__chunk_9206,je=g.__chunk_989,Oe=g.__chunk_1863,Ae=g.__chunk_3039,Re=g.__chunk_335,Te=g.__chunk_8042,Ne=g.__chunk_7765,Se=g.__chunk_6991,Ce=g.__chunk_8816,Ie=g.__chunk_6631,Me=g.__chunk_4828,Ke=g.__chunk_4834,Fe=g.__chunk_828,De=g.__chunk_5927,Ue=g.__chunk_8439,Le=g.__chunk_4363,Be=g.__chunk_2039,qe=g.__chunk_8264,ze=g.__chunk_1583,Ge=g.__chunk_7908,He=g.__chunk_8949,Je=g.__chunk_796,Xe=g.__chunk_1651,We=g.__chunk_5105,Qe=g.__chunk_9642,Ze=g.__chunk_5028,Ve=g.__chunk_9548,Ye=g.__chunk_6914,et=g.__chunk_7960,tt=g.__chunk_4337,st=g.__chunk_8819,L=ce(O,O,O),rt=L.__chunk_6006,nt=L.__chunk_9985,at=L.__chunk_4155,it=L.__chunk_9037,ut=L.__chunk_5737,ot=L.__chunk_4919,ct=L.__chunk_6855,ht=L.__chunk_3607,A=he(O,O,O),_t=A.__chunk_1730,lt=A.__chunk_3818,dt=A.__chunk_7037,pt=A.__chunk_9573,gt=A.__chunk_7701,ft=A.__chunk_662,mt=A.__chunk_4101,kt=A.__chunk_6776,xt=A.__chunk_3665,yt=A.__chunk_7444,Pt=A.__chunk_4591,bt=A.__chunk_7983,$t=A.__chunk_581,vt=A.__chunk_2561,wt=A.__chunk_2988,Et=A.__chunk_6947,jt=A.__chunk_5996,Ot=A.__chunk_676,ee=_e(O,O,O),At=ee.__NEXT_FONT_MANIFEST,Rt=ee.__REACT_LOADABLE_MANIFEST,Ft=((k,$,B)=>($._ENTRIES={},k.__BUILD_MANIFEST={polyfillFiles:["static/chunks/polyfills-42372ed130431b0a.js"],devFiles:[],ampDevFiles:[],lowPriorityFiles:[],rootMainFiles:["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/fd9d1056-30de07f4a3c346ee.js","static/chunks/7466-8fdf295a7c02cf2e.js","static/chunks/main-app-8eaf6dc4ad0df15d.js"],pages:{"/_app":["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/framework-8e0e0f4a6b83a956.js","static/chunks/main-17007a384daea84e.js","static/chunks/pages/_app-3c9ca398d360b709.js"],"/_error":["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/framework-8e0e0f4a6b83a956.js","static/chunks/main-17007a384daea84e.js","static/chunks/pages/_error-cf5ca766ac8f493f.js"]},ampFirstPages:[]},k.__BUILD_MANIFEST.lowPriorityFiles=["/static/5vAXtrh2qjJDoCjPjRb93/_buildManifest.js",,"/static/5vAXtrh2qjJDoCjPjRb93/_ssgManifest.js"],k.__REACT_LOADABLE_MANIFEST=Rt,k.__NEXT_FONT_MANIFEST=At,k.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",(()=>{"use strict";var v={},_={};function i(a){var c=_[a];if(c!==void 0)return c.exports;var o=_[a]={exports:{}},h=!0;try{v[a].call(o.exports,o,o.exports,i),h=!1}finally{h&&delete _[a]}return o.exports}i.m=v,i.amdO={},(()=>{var a=[];i.O=(c,o,h,t)=>{if(o){t=t||0;for(var e=a.length;e>0&&a[e-1][2]>t;e--)a[e]=a[e-1];a[e]=[o,h,t];return}for(var s=1/0,e=0;e<a.length;e++){for(var[o,h,t]=a[e],n=!0,u=0;u<o.length;u++)s>=t&&Object.keys(i.O).every(R=>i.O[R](o[u]))?o.splice(u--,1):(n=!1,t<s&&(s=t));if(n){a.splice(e--,1);var d=h();d!==void 0&&(c=d)}}return c}})(),i.n=a=>{var c=a&&a.__esModule?()=>a.default:()=>a;return i.d(c,{a:c}),c},(()=>{var a,c=Object.getPrototypeOf?o=>Object.getPrototypeOf(o):o=>o.__proto__;i.t=function(o,h){if(1&h&&(o=this(o)),8&h||typeof o=="object"&&o&&(4&h&&o.__esModule||16&h&&typeof o.then=="function"))return o;var t=Object.create(null);i.r(t);var e={};a=a||[null,c({}),c([]),c(c)];for(var s=2&h&&o;typeof s=="object"&&!~a.indexOf(s);s=c(s))Object.getOwnPropertyNames(s).forEach(n=>e[n]=()=>o[n]);return e.default=()=>o,i.d(t,e),t}})(),i.d=(a,c)=>{for(var o in c)i.o(c,o)&&!i.o(a,o)&&Object.defineProperty(a,o,{enumerable:!0,get:c[o]})},i.e=()=>Promise.resolve(),i.g=function(){if(typeof $=="object")return $;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(a,c)=>Object.prototype.hasOwnProperty.call(a,c),i.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},(()=>{var a={5993:0};i.O.j=h=>a[h]===0;var c=(h,t)=>{var e,s,[n,u,d]=t,m=0;if(n.some(y=>a[y]!==0)){for(e in u)i.o(u,e)&&(i.m[e]=u[e]);if(d)var P=d(i)}for(h&&h(t);m<n.length;m++)s=n[m],i.o(a,s)&&a[s]&&a[s][0](),a[s]=0;return i.O(P)},o=k.webpackChunk_N_E=k.webpackChunk_N_E||[];o.forEach(c.bind(null,0)),o.push=c.bind(null,o.push.bind(o))})()})(),(k.webpackChunk_N_E=k.webpackChunk_N_E||[]).push([[2720],{8819:st,4337:tt,7960:et,6914:Ye,9548:Ve,5028:Ze,9642:Qe,5105:We,1651:Xe,796:Je,8949:He,7908:Ge,1583:ze,8264:qe,2039:Be,4363:Le,8439:Ue,5927:De,828:Fe,4834:Ke,4828:Me,6631:Ie,8816:Ce,6991:Se,7765:Ne,8042:Te,335:Re,3039:Ae,1863:Oe,989:je,9206:Ee,9254:we,5577:ve,8219:$e,6735:be,2594:Pe,2296:ye,5228:xe,8983:ke,9182:me}]),(k.webpackChunk_N_E=k.webpackChunk_N_E||[]).push([[7883],{676:Ot,5996:jt,6947:Et,2988:wt,2561:vt,581:$t,7983:bt,4591:Pt,7444:yt,3665:xt,6776:kt,4101:mt,662:ft,7701:gt,9573:pt,7037:dt,3818:lt,1730:_t}]),(k.webpackChunk_N_E=k.webpackChunk_N_E||[]).push([[1377],{3607:ht,4953:function(v,_,i){"use strict";var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_,"__esModule",{value:!0});let c=a(i(3607)),o=a(i(6855));class h{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=c.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=Object.assign({},this.headers),this.headers[e]=s,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,m,P;let y=null,E=null,R=null,T=u.status,j=u.statusText;if(u.ok){if(this.method!=="HEAD"){let D=await u.text();D===""||(E=this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?D:JSON.parse(D))}let C=(d=this.headers.Prefer)===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),F=(m=u.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");C&&F&&F.length>1&&(R=parseInt(F[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(y={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,R=null,T=406,j="Not Acceptable"):E=E.length===1?E[0]:null)}else{let C=await u.text();try{y=JSON.parse(C),Array.isArray(y)&&u.status===404&&(E=[],y=null,T=200,j="OK")}catch{u.status===404&&C===""?(T=204,j="No Content"):y={message:C}}if(y&&this.isMaybeSingle&&((P=y?.details)===null||P===void 0?void 0:P.includes("0 rows"))&&(y=null,T=200,j="OK"),y&&this.shouldThrowOnError)throw new o.default(y)}return{error:y,data:E,count:R,status:T,statusText:j}});return this.shouldThrowOnError||(n=n.catch(u=>{var d,m,P;return{error:{message:`${(d=u?.name)!==null&&d!==void 0?d:"FetchError"}: ${u?.message}`,details:`${(m=u?.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(P=u?.code)!==null&&P!==void 0?P:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,s)}returns(){return this}overrideTypes(){return this}}_.default=h},4708:function(v,_,i){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_,"__esModule",{value:!0});let c=a(i(3449)),o=a(i(5245)),h=i(4919);class t{constructor(s,{headers:n={},schema:u,fetch:d}={}){this.url=s,this.headers=Object.assign(Object.assign({},h.DEFAULT_HEADERS),n),this.schemaName=u,this.fetch=d}from(s){let n=new URL(`${this.url}/${s}`);return new c.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new t(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,n={},{head:u=!1,get:d=!1,count:m}={}){let P,y,E=new URL(`${this.url}/rpc/${s}`);u||d?(P=u?"HEAD":"GET",Object.entries(n).filter(([T,j])=>j!==void 0).map(([T,j])=>[T,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([T,j])=>{E.searchParams.append(T,j)})):(P="POST",y=n);let R=Object.assign({},this.headers);return m&&(R.Prefer=`count=${m}`),new o.default({method:P,url:E,headers:R,schema:this.schemaName,body:y,fetch:this.fetch,allowEmpty:!1})}}_.default=t},6855:ct,5245:function(v,_,i){"use strict";var a=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(_,"__esModule",{value:!0});let c=a(i(1560));class o extends c.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){let s=Array.from(new Set(e)).map(n=>typeof n=="string"&&RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:s,type:n}={}){let u="";n==="plain"?u="pl":n==="phrase"?u="ph":n==="websearch"&&(u="w");let d=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${u}fts${d}.${e}`),this}match(t){return Object.entries(t).forEach(([e,s])=>{this.url.searchParams.append(e,`eq.${s}`)}),this}not(t,e,s){return this.url.searchParams.append(t,`not.${e}.${s}`),this}or(t,{foreignTable:e,referencedTable:s=e}={}){let n=s?`${s}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,s){return this.url.searchParams.append(t,`${e}.${s}`),this}}_.default=o},3449:function(v,_,i){"use strict";var a=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(_,"__esModule",{value:!0});let c=a(i(5245));class o{constructor(t,{headers:e={},schema:s,fetch:n}){this.url=t,this.headers=e,this.schema=s,this.fetch=n}select(t,{head:e=!1,count:s}={}){let n=!1,u=(t??"*").split("").map(d=>/\s/.test(d)&&!n?"":(d==='"'&&(n=!n),d)).join("");return this.url.searchParams.set("select",u),s&&(this.headers.Prefer=`count=${s}`),new c.default({method:e?"HEAD":"GET",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:s=!0}={}){let n=[];if(this.headers.Prefer&&n.push(this.headers.Prefer),e&&n.push(`count=${e}`),s||n.push("missing=default"),this.headers.Prefer=n.join(","),Array.isArray(t)){let u=t.reduce((d,m)=>d.concat(Object.keys(m)),[]);if(u.length>0){let d=[...new Set(u)].map(m=>`"${m}"`);this.url.searchParams.set("columns",d.join(","))}}return new c.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:s=!1,count:n,defaultToNull:u=!0}={}){let d=[`resolution=${s?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&d.push(this.headers.Prefer),n&&d.push(`count=${n}`),u||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(t)){let m=t.reduce((P,y)=>P.concat(Object.keys(y)),[]);if(m.length>0){let P=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",P.join(","))}}return new c.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){let s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),e&&s.push(`count=${e}`),this.headers.Prefer=s.join(","),new c.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let e=[];return t&&e.push(`count=${t}`),this.headers.Prefer&&e.unshift(this.headers.Prefer),this.headers.Prefer=e.join(","),new c.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}_.default=o},1560:function(v,_,i){"use strict";var a=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(_,"__esModule",{value:!0});let c=a(i(4953));class o extends c.default{select(t){let e=!1,s=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:s,foreignTable:n,referencedTable:u=n}={}){let d=u?`${u}.order`:"order",m=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${m?`${m},`:""}${t}.${e?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:s=e}={}){let n=s===void 0?"limit":`${s}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:s,referencedTable:n=s}={}){let u=n===void 0?"offset":`${n}.offset`,d=n===void 0?"limit":`${n}.limit`;return this.url.searchParams.set(u,`${t}`),this.url.searchParams.set(d,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:s=!1,buffers:n=!1,wal:u=!1,format:d="text"}={}){var m;let P=[t?"analyze":null,e?"verbose":null,s?"settings":null,n?"buffers":null,u?"wal":null].filter(Boolean).join("|"),y=(m=this.headers.Accept)!==null&&m!==void 0?m:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${d}; for="${y}"; options=${P};`,this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}_.default=o},4919:ot,7483:function(v,_,i){"use strict";var a=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(_,"__esModule",{value:!0}),_.PostgrestError=_.PostgrestBuilder=_.PostgrestTransformBuilder=_.PostgrestFilterBuilder=_.PostgrestQueryBuilder=_.PostgrestClient=void 0;let c=a(i(4708));_.PostgrestClient=c.default;let o=a(i(3449));_.PostgrestQueryBuilder=o.default;let h=a(i(5245));_.PostgrestFilterBuilder=h.default;let t=a(i(1560));_.PostgrestTransformBuilder=t.default;let e=a(i(4953));_.PostgrestBuilder=e.default;let s=a(i(6855));_.PostgrestError=s.default,_.default={PostgrestClient:c.default,PostgrestQueryBuilder:o.default,PostgrestFilterBuilder:h.default,PostgrestTransformBuilder:t.default,PostgrestBuilder:e.default,PostgrestError:s.default}},5737:ut,9037:it,4155:at,9985:nt}]),(k.webpackChunk_N_E=k.webpackChunk_N_E||[]).push([[3452],{2641:pe,3543:de}]),(k.webpackChunk_N_E=k.webpackChunk_N_E||[]).push([[6006],{6006:rt}]),(k.webpackChunk_N_E=k.webpackChunk_N_E||[]).push([[7598],{2067:fe,6195:ge,5585:(v,_,i)=>{"use strict";i.r(_),i.d(_,{ComponentMod:()=>G,default:()=>U});var a={};i.r(a),i.d(a,{DELETE:()=>E,GET:()=>m,POST:()=>P,PUT:()=>y,runtime:()=>d});var c={};i.r(c),i.d(c,{originalPathname:()=>F,patchFetch:()=>D,requestAsyncStorage:()=>T,routeModule:()=>R,serverHooks:()=>C,staticGenerationAsyncStorage:()=>j});var o=i(7983),h=i(2561),t=i(4828),e=i(6631),s=i(9985),n=i(6095);let u=new(i(6006))._,d="edge";async function m(I){try{let{searchParams:x}=new URL(I.url),r=x.get("status_page_id")||x.get("statusPageId"),f=u.client.from("status_updates").select("*").order("created_at",{ascending:!1});r&&(f=f.eq("status_page_id",r)),f=f.limit(50);let{data:p,error:l}=await f;if(l)return console.error("Supabase query error:",l),s.xk.json({error:"Failed to fetch status updates",details:l.message},{status:500});let w=p.map(b=>({...b,service_name:null,created_by_email:null}));return w.length===0&&r&&(r==="57aabcb6-dab2-4bb9-88b5-c266a84319fb"?w=[{id:"09912f40-eba1-4a36-b215-09dc65f8224d",status_page_id:r,title:"Service Restored",message:"The API service has been fully restored and is now operating normally.",status:"resolved",update_type:"incident",created_at:"2025-07-03T18:22:15.687Z",service_name:null,created_by_email:null},{id:"079de9ea-a3ce-47b4-8f9a-3a99d84d2123",status_page_id:r,title:"Scheduled Maintenance Window",message:"We will be performing scheduled maintenance on our infrastructure this weekend.",status:"maintenance",update_type:"maintenance",created_at:"2025-07-02T20:22:15.691Z",service_name:null,created_by_email:null}]:r==="26242a8f-3b68-43e1-b546-edffd3b006e7"&&(w=[{id:"sample-update-1",status_page_id:r,title:"All Systems Operational",message:"All services are running smoothly with no known issues.",status:"operational",update_type:"general",created_at:"2025-07-03T20:00:00.000Z",service_name:null,created_by_email:null}])),s.xk.json({statusUpdates:w,updates:w})}catch(x){return console.error("Error fetching status updates:",x),s.xk.json({error:"Failed to fetch status updates"},{status:500})}}async function P(I){try{let x=await(0,n.I8)();if(!x||!x.user?.email)return s.xk.json({error:"Unauthorized"},{status:401});let{statusPageId:r,status_page_id:f,incidentId:p,incident_id:l,serviceId:w,service_id:b,title:N,message:M,status:S,updateType:K,update_type:z,createdBy:te}=await I.json(),W=r||f;if(!W||!N||!M)return s.xk.json({error:"Status page ID, title, and message are required"},{status:400});let Q=await u.getUserByEmail(x.user.email);if(!Q)return s.xk.json({error:"User not found"},{status:404});let Z=await u.insert("status_updates",{status_page_id:W,incident_id:p||l,service_id:w||b,title:N,message:M,status:S||"operational",update_type:K||z||"general",created_by:te||Q.id});return s.xk.json({update:Z,statusUpdate:Z},{status:201})}catch(x){return console.error("Error creating status update:",x),s.xk.json({error:"Failed to create status update"},{status:500})}}async function y(I){try{let x=await(0,n.I8)();if(!x||!x.user?.email)return s.xk.json({error:"Unauthorized"},{status:401});let{id:r,title:f,message:p,status:l,update_type:w}=await I.json();if(!r)return s.xk.json({error:"Update ID is required"},{status:400});let b={updated_at:new Date().toISOString()};f!==void 0&&(b.title=f),p!==void 0&&(b.message=p),l!==void 0&&(b.status=l),w!==void 0&&(b.update_type=w);let N=await u.update("status_updates",r,b);return s.xk.json({update:N,statusUpdate:N})}catch(x){return console.error("Error updating status update:",x),s.xk.json({error:"Failed to update status update"},{status:500})}}async function E(I){try{let x=await(0,n.I8)();if(!x||!x.user?.email)return s.xk.json({error:"Unauthorized"},{status:401});let{searchParams:r}=new URL(I.url),f=r.get("id");return f?(await u.update("status_updates",f,{deleted_at:new Date().toISOString()}),s.xk.json({success:!0})):s.xk.json({error:"Update ID is required"},{status:400})}catch(x){return console.error("Error deleting status update:",x),s.xk.json({error:"Failed to delete status update"},{status:500})}}let R=new h.AppRouteRouteModule({definition:{kind:t.x.APP_ROUTE,page:"/api/status-updates/route",pathname:"/api/status-updates",filename:"route",bundlePath:"app/api/status-updates/route"},resolvedPagePath:"/Users/sean/git/alert24-app/app/api/status-updates/route.js",nextConfigOutput:"",userland:a}),{requestAsyncStorage:T,staticGenerationAsyncStorage:j,serverHooks:C}=R,F="/api/status-updates/route";function D(){return(0,e.XH)({serverHooks:C,staticGenerationAsyncStorage:j})}let G=c,U=o.a.wrap(R)},6095:le},v=>{var _=a=>v(v.s=a);v.O(0,[2720,7883,1377,3452,6006],()=>_(5585));var i=v.O();($._ENTRIES=typeof $._ENTRIES>"u"?{}:$._ENTRIES)["middleware_app/api/status-updates/route"]=i}]),function(){let v={exports:{},loaded:!1};return function(i,a){var c=Object.create,o=Object.defineProperty,h=Object.getOwnPropertyDescriptor,t=Object.getOwnPropertyNames,e=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,n=r=>o(r,"__esModule",{value:!0}),u=(r,f)=>{n(r);for(var p in f)o(r,p,{get:f[p],enumerable:!0})},d=(r,f,p)=>{if(f&&typeof f=="object"||typeof f=="function")for(let l of t(f))!s.call(r,l)&&l!=="default"&&o(r,l,{get:()=>f[l],enumerable:!(p=h(f,l))||p.enumerable});return r},m=r=>d(n(o(r!=null?c(e(r)):{},"default",r&&r.__esModule&&"default"in r?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r);u(a,{default:()=>G});var P=m((Y(),ie(q))),y="@next/request-context",E=Symbol.for(y),R=Symbol.for("internal.storage");function T(){let r=$;if(!r[E]){let f=new P.AsyncLocalStorage,p={get:()=>f.getStore(),[R]:f};r[E]=p}return r[E]}var j=T();function C(r,f){return j[R].run(r,f)}function F(r){let f={};return r&&r.forEach((p,l)=>{f[l]=p,l.toLowerCase()==="set-cookie"&&(f[l]=D(p))}),f}function D(r){let f=[],p=0,l,w,b,N,M;function S(){for(;p<r.length&&/\s/.test(r.charAt(p));)p+=1;return p<r.length}function K(){return w=r.charAt(p),w!=="="&&w!==";"&&w!==","}for(;p<r.length;){for(l=p,M=!1;S();)if(w=r.charAt(p),w===","){for(b=p,p+=1,S(),N=p;p<r.length&&K();)p+=1;p<r.length&&r.charAt(p)==="="?(M=!0,p=N,f.push(r.substring(l,b)),l=p):p=b+1}else p+=1;(!M||p>=r.length)&&f.push(r.substring(l,r.length))}return f}function G(r){let f=r.staticRoutes.map(l=>({regexp:new RegExp(l.namedRegex),page:l.page})),p=r.dynamicRoutes?.map(l=>({regexp:new RegExp(l.namedRegex),page:l.page}))||[];return async function(l,w){let b=new URL(l.url).pathname,N={};if(r.nextConfig?.basePath&&b.startsWith(r.nextConfig.basePath)&&(b=b.replace(r.nextConfig.basePath,"")||"/"),r.nextConfig?.i18n)for(let S of r.nextConfig.i18n.locales){let K=new RegExp(`^/${S}($|/)`,"i");if(b.match(K)){b=b.replace(K,"/")||"/";break}}for(let S of f)if(S.regexp.exec(b)){N.name=S.page;break}if(!N.name){let S=I(b);for(let K of p||[]){if(S&&!I(K.page))continue;let z=K.regexp.exec(b);if(z){N={name:K.page,params:z.groups};break}}}let M=await C({waitUntil:w.waitUntil},()=>$._ENTRIES[`middleware_${r.name}`].default.call({},{request:{url:l.url,method:l.method,headers:F(l.headers),ip:U(l.headers,x.Ip),geo:{city:U(l.headers,x.City,!0),country:U(l.headers,x.Country,!0),latitude:U(l.headers,x.Latitude),longitude:U(l.headers,x.Longitude),region:U(l.headers,x.Region,!0)},nextConfig:r.nextConfig,page:N,body:l.body}}));return M.waitUntil&&w.waitUntil(M.waitUntil),M.response}}function U(r,f,p=!1){let l=r.get(f)||void 0;return p&&l?decodeURIComponent(l):l}function I(r){return r==="/api"||r.startsWith("/api/")}var x;(function(r){r.City="x-vercel-ip-city",r.Country="x-vercel-ip-country",r.Ip="x-real-ip",r.Latitude="x-vercel-ip-latitude",r.Longitude="x-vercel-ip-longitude",r.Region="x-vercel-ip-country-region"})(x||(x={}))}(v,v.exports),v.exports}.call({}).default({name:"app/api/status-updates/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/accept-invitation",regex:"^/accept\\-invitation(?:/)?$",routeKeys:{},namedRegex:"^/accept\\-invitation(?:/)?$"},{page:"/debug-email",regex:"^/debug\\-email(?:/)?$",routeKeys:{},namedRegex:"^/debug\\-email(?:/)?$"},{page:"/debug-monitoring",regex:"^/debug\\-monitoring(?:/)?$",routeKeys:{},namedRegex:"^/debug\\-monitoring(?:/)?$"},{page:"/escalation-policies/new",regex:"^/escalation\\-policies/new(?:/)?$",routeKeys:{},namedRegex:"^/escalation\\-policies/new(?:/)?$"},{page:"/favicon.ico",regex:"^/favicon\\.ico(?:/)?$",routeKeys:{},namedRegex:"^/favicon\\.ico(?:/)?$"},{page:"/help",regex:"^/help(?:/)?$",routeKeys:{},namedRegex:"^/help(?:/)?$"},{page:"/incidents",regex:"^/incidents(?:/)?$",routeKeys:{},namedRegex:"^/incidents(?:/)?$"},{page:"/incidents/new",regex:"^/incidents/new(?:/)?$",routeKeys:{},namedRegex:"^/incidents/new(?:/)?$"},{page:"/monitoring",regex:"^/monitoring(?:/)?$",routeKeys:{},namedRegex:"^/monitoring(?:/)?$"},{page:"/monitoring/new",regex:"^/monitoring/new(?:/)?$",routeKeys:{},namedRegex:"^/monitoring/new(?:/)?$"},{page:"/on-call",regex:"^/on\\-call(?:/)?$",routeKeys:{},namedRegex:"^/on\\-call(?:/)?$"},{page:"/on-call/new",regex:"^/on\\-call/new(?:/)?$",routeKeys:{},namedRegex:"^/on\\-call/new(?:/)?$"},{page:"/organizations",regex:"^/organizations(?:/)?$",routeKeys:{},namedRegex:"^/organizations(?:/)?$"},{page:"/profile",regex:"^/profile(?:/)?$",routeKeys:{},namedRegex:"^/profile(?:/)?$"},{page:"/settings",regex:"^/settings(?:/)?$",routeKeys:{},namedRegex:"^/settings(?:/)?$"},{page:"/status-pages",regex:"^/status\\-pages(?:/)?$",routeKeys:{},namedRegex:"^/status\\-pages(?:/)?$"}],dynamicRoutes:[{page:"/api/auth/[...nextauth]",regex:"^/api/auth/(.+?)(?:/)?$",routeKeys:{nxtPnextauth:"nxtPnextauth"},namedRegex:"^/api/auth/(?<nxtPnextauth>.+?)(?:/)?$"},{page:"/api/incidents/[id]",regex:"^/api/incidents/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/incidents/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/incidents/[id]/updates",regex:"^/api/incidents/([^/]+?)/updates(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/incidents/(?<nxtPid>[^/]+?)/updates(?:/)?$"},{page:"/api/monitoring/[id]",regex:"^/api/monitoring/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/monitoring/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/on-call-schedules/[id]",regex:"^/api/on\\-call\\-schedules/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/on\\-call\\-schedules/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/organizations/[id]",regex:"^/api/organizations/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/organizations/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/organizations/[id]/invitations",regex:"^/api/organizations/([^/]+?)/invitations(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/organizations/(?<nxtPid>[^/]+?)/invitations(?:/)?$"},{page:"/api/services/[id]",regex:"^/api/services/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/services/[id]/monitoring",regex:"^/api/services/([^/]+?)/monitoring(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)/monitoring(?:/)?$"},{page:"/api/services/[id]/sla",regex:"^/api/services/([^/]+?)/sla(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)/sla(?:/)?$"},{page:"/api/status-pages/public/[slug]",regex:"^/api/status\\-pages/public/([^/]+?)(?:/)?$",routeKeys:{nxtPslug:"nxtPslug"},namedRegex:"^/api/status\\-pages/public/(?<nxtPslug>[^/]+?)(?:/)?$"},{page:"/api/status-pages/[id]",regex:"^/api/status\\-pages/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/status\\-pages/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/incidents/[id]",regex:"^/incidents/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/incidents/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/incidents/[id]/edit",regex:"^/incidents/([^/]+?)/edit(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/incidents/(?<nxtPid>[^/]+?)/edit(?:/)?$"},{page:"/monitoring/edit/[id]",regex:"^/monitoring/edit/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/monitoring/edit/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/on-call/[id]/edit",regex:"^/on\\-call/([^/]+?)/edit(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/on\\-call/(?<nxtPid>[^/]+?)/edit(?:/)?$"},{page:"/status/[slug]",regex:"^/status/([^/]+?)(?:/)?$",routeKeys:{nxtPslug:"nxtPslug"},namedRegex:"^/status/(?<nxtPslug>[^/]+?)(?:/)?$"}],nextConfig:{basePath:""}})))(O,O,O);export{Ft as default};
