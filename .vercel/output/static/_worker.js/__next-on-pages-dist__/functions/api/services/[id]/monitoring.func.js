var Q=Object.defineProperty;var Y=Object.getOwnPropertyDescriptor;var Z=Object.getOwnPropertyNames;var ee=Object.prototype.hasOwnProperty;var te=(k,$)=>()=>(k&&($=k(k=0)),$);var G=(k,$,U,b)=>{if($&&typeof $=="object"||typeof $=="function")for(let p of Z($))!ee.call(k,p)&&p!==U&&Q(k,p,{get:()=>$[p],enumerable:!(b=Y($,p))||b.enumerable});return k},H=(k,$,U)=>(G(k,$,"default"),U&&G(U,$,"default"));var re=k=>G(Q({},"__esModule",{value:!0}),k);var L={};import*as Ot from"async_hooks";var W=te(()=>{H(L,Ot)});import{__getNamedExports as ne}from"../../../../../__next-on-pages-dist__/webpack/aa5c0a3237ae1fd635b2d0bab25b6e94.js";import{__getNamedExports as se}from"../../../../../__next-on-pages-dist__/webpack/ac7e0cd817c0f96ac6506045b651299a.js";import{__getNamedExports as ie}from"../../../../../__next-on-pages-dist__/webpack/5c7c089f9b18fab21905bdbf6a451f6c.js";import{__getNamedExports as ae}from"../../../../../__next-on-pages-dist__/webpack/fc1dd92f63cefab5577162dd844679df.js";import{__getNamedExports as oe}from"../../../../../__next-on-pages-dist__/manifest/537259e2ed205f5a7994cb4f05664668.js";var j=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/services/[id]/monitoring"),J=ne(j,j,j),ce=J.__chunk_6095,ue=J.__chunk_3543,he=J.__chunk_2641,f=se(j,j,j),le=f.__chunk_6195,_e=f.__chunk_2067,de=f.__chunk_9182,pe=f.__chunk_8983,ge=f.__chunk_5228,fe=f.__chunk_2296,me=f.__chunk_2594,ke=f.__chunk_6735,xe=f.__chunk_8219,ye=f.__chunk_5577,Pe=f.__chunk_9254,ve=f.__chunk_9206,$e=f.__chunk_989,be=f.__chunk_1863,we=f.__chunk_3039,Ee=f.__chunk_335,je=f.__chunk_8042,Oe=f.__chunk_7765,Ae=f.__chunk_6991,Re=f.__chunk_8816,Se=f.__chunk_6631,Ne=f.__chunk_4828,Te=f.__chunk_4834,Ce=f.__chunk_828,Me=f.__chunk_5927,De=f.__chunk_8439,Ke=f.__chunk_4363,Ie=f.__chunk_2039,Fe=f.__chunk_8264,Be=f.__chunk_1583,Ue=f.__chunk_7908,Le=f.__chunk_8949,ze=f.__chunk_796,qe=f.__chunk_1651,Ge=f.__chunk_5105,He=f.__chunk_9642,Je=f.__chunk_5028,Xe=f.__chunk_9548,Qe=f.__chunk_6914,We=f.__chunk_7960,Ve=f.__chunk_4337,Ye=f.__chunk_8819,B=ie(j,j,j),Ze=B.__chunk_6006,et=B.__chunk_9985,tt=B.__chunk_4155,rt=B.__chunk_9037,nt=B.__chunk_5737,st=B.__chunk_4919,it=B.__chunk_6855,at=B.__chunk_3607,O=ae(j,j,j),ot=O.__chunk_1730,ct=O.__chunk_3818,ut=O.__chunk_7037,ht=O.__chunk_9573,lt=O.__chunk_7701,_t=O.__chunk_662,dt=O.__chunk_4101,pt=O.__chunk_6776,gt=O.__chunk_3665,ft=O.__chunk_7444,mt=O.__chunk_4591,kt=O.__chunk_7983,xt=O.__chunk_581,yt=O.__chunk_2561,Pt=O.__chunk_2988,vt=O.__chunk_6947,$t=O.__chunk_5996,bt=O.__chunk_676,V=oe(j,j,j),wt=V.__NEXT_FONT_MANIFEST,Et=V.__REACT_LOADABLE_MANIFEST,Ct=((k,$,U)=>($._ENTRIES={},k.__BUILD_MANIFEST={polyfillFiles:["static/chunks/polyfills-42372ed130431b0a.js"],devFiles:[],ampDevFiles:[],lowPriorityFiles:[],rootMainFiles:["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/fd9d1056-30de07f4a3c346ee.js","static/chunks/7466-8fdf295a7c02cf2e.js","static/chunks/main-app-8eaf6dc4ad0df15d.js"],pages:{"/_app":["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/framework-8e0e0f4a6b83a956.js","static/chunks/main-17007a384daea84e.js","static/chunks/pages/_app-3c9ca398d360b709.js"],"/_error":["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/framework-8e0e0f4a6b83a956.js","static/chunks/main-17007a384daea84e.js","static/chunks/pages/_error-cf5ca766ac8f493f.js"]},ampFirstPages:[]},k.__BUILD_MANIFEST.lowPriorityFiles=["/static/5vAXtrh2qjJDoCjPjRb93/_buildManifest.js",,"/static/5vAXtrh2qjJDoCjPjRb93/_ssgManifest.js"],k.__REACT_LOADABLE_MANIFEST=Et,k.__NEXT_FONT_MANIFEST=wt,k.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",(()=>{"use strict";var b={},p={};function o(a){var h=p[a];if(h!==void 0)return h.exports;var c=p[a]={exports:{}},d=!0;try{b[a].call(c.exports,c,c.exports,o),d=!1}finally{d&&delete p[a]}return c.exports}o.m=b,o.amdO={},(()=>{var a=[];o.O=(h,c,d,t)=>{if(c){t=t||0;for(var e=a.length;e>0&&a[e-1][2]>t;e--)a[e]=a[e-1];a[e]=[c,d,t];return}for(var r=1/0,e=0;e<a.length;e++){for(var[c,d,t]=a[e],s=!0,i=0;i<c.length;i++)r>=t&&Object.keys(o.O).every(C=>o.O[C](c[i]))?c.splice(i--,1):(s=!1,t<r&&(r=t));if(s){a.splice(e--,1);var g=d();g!==void 0&&(h=g)}}return h}})(),o.n=a=>{var h=a&&a.__esModule?()=>a.default:()=>a;return o.d(h,{a:h}),h},(()=>{var a,h=Object.getPrototypeOf?c=>Object.getPrototypeOf(c):c=>c.__proto__;o.t=function(c,d){if(1&d&&(c=this(c)),8&d||typeof c=="object"&&c&&(4&d&&c.__esModule||16&d&&typeof c.then=="function"))return c;var t=Object.create(null);o.r(t);var e={};a=a||[null,h({}),h([]),h(h)];for(var r=2&d&&c;typeof r=="object"&&!~a.indexOf(r);r=h(r))Object.getOwnPropertyNames(r).forEach(s=>e[s]=()=>c[s]);return e.default=()=>c,o.d(t,e),t}})(),o.d=(a,h)=>{for(var c in h)o.o(h,c)&&!o.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:h[c]})},o.e=()=>Promise.resolve(),o.g=function(){if(typeof $=="object")return $;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),o.o=(a,h)=>Object.prototype.hasOwnProperty.call(a,h),o.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},(()=>{var a={5993:0};o.O.j=d=>a[d]===0;var h=(d,t)=>{var e,r,[s,i,g]=t,m=0;if(s.some(x=>a[x]!==0)){for(e in i)o.o(i,e)&&(o.m[e]=i[e]);if(g)var v=g(o)}for(d&&d(t);m<s.length;m++)r=s[m],o.o(a,r)&&a[r]&&a[r][0](),a[r]=0;return o.O(v)},c=k.webpackChunk_N_E=k.webpackChunk_N_E||[];c.forEach(h.bind(null,0)),c.push=h.bind(null,c.push.bind(c))})()})(),(k.webpackChunk_N_E=k.webpackChunk_N_E||[]).push([[2720],{8819:Ye,4337:Ve,7960:We,6914:Qe,9548:Xe,5028:Je,9642:He,5105:Ge,1651:qe,796:ze,8949:Le,7908:Ue,1583:Be,8264:Fe,2039:Ie,4363:Ke,8439:De,5927:Me,828:Ce,4834:Te,4828:Ne,6631:Se,8816:Re,6991:Ae,7765:Oe,8042:je,335:Ee,3039:we,1863:be,989:$e,9206:ve,9254:Pe,5577:ye,8219:xe,6735:ke,2594:me,2296:fe,5228:ge,8983:pe,9182:de}]),(k.webpackChunk_N_E=k.webpackChunk_N_E||[]).push([[7883],{676:bt,5996:$t,6947:vt,2988:Pt,2561:yt,581:xt,7983:kt,4591:mt,7444:ft,3665:gt,6776:pt,4101:dt,662:_t,7701:lt,9573:ht,7037:ut,3818:ct,1730:ot}]),(k.webpackChunk_N_E=k.webpackChunk_N_E||[]).push([[1377],{3607:at,4953:function(b,p,o){"use strict";var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(p,"__esModule",{value:!0});let h=a(o(3607)),c=a(o(6855));class d{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=h.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let s=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var g,m,v;let x=null,E=null,C=null,R=i.status,A=i.statusText;if(i.ok){if(this.method!=="HEAD"){let I=await i.text();I===""||(E=this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?I:JSON.parse(I))}let D=(g=this.headers.Prefer)===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),K=(m=i.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");D&&K&&K.length>1&&(C=parseInt(K[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(x={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,C=null,R=406,A="Not Acceptable"):E=E.length===1?E[0]:null)}else{let D=await i.text();try{x=JSON.parse(D),Array.isArray(x)&&i.status===404&&(E=[],x=null,R=200,A="OK")}catch{i.status===404&&D===""?(R=204,A="No Content"):x={message:D}}if(x&&this.isMaybeSingle&&((v=x?.details)===null||v===void 0?void 0:v.includes("0 rows"))&&(x=null,R=200,A="OK"),x&&this.shouldThrowOnError)throw new c.default(x)}return{error:x,data:E,count:C,status:R,statusText:A}});return this.shouldThrowOnError||(s=s.catch(i=>{var g,m,v;return{error:{message:`${(g=i?.name)!==null&&g!==void 0?g:"FetchError"}: ${i?.message}`,details:`${(m=i?.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(v=i?.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}}p.default=d},4708:function(b,p,o){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(p,"__esModule",{value:!0});let h=a(o(3449)),c=a(o(5245)),d=o(4919);class t{constructor(r,{headers:s={},schema:i,fetch:g}={}){this.url=r,this.headers=Object.assign(Object.assign({},d.DEFAULT_HEADERS),s),this.schemaName=i,this.fetch=g}from(r){let s=new URL(`${this.url}/${r}`);return new h.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new t(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,s={},{head:i=!1,get:g=!1,count:m}={}){let v,x,E=new URL(`${this.url}/rpc/${r}`);i||g?(v=i?"HEAD":"GET",Object.entries(s).filter(([R,A])=>A!==void 0).map(([R,A])=>[R,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([R,A])=>{E.searchParams.append(R,A)})):(v="POST",x=s);let C=Object.assign({},this.headers);return m&&(C.Prefer=`count=${m}`),new c.default({method:v,url:E,headers:C,schema:this.schemaName,body:x,fetch:this.fetch,allowEmpty:!1})}}p.default=t},6855:it,5245:function(b,p,o){"use strict";var a=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(p,"__esModule",{value:!0});let h=a(o(1560));class c extends h.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){let r=Array.from(new Set(e)).map(s=>typeof s=="string"&&RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");let g=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${g}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){let s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}}p.default=c},3449:function(b,p,o){"use strict";var a=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(p,"__esModule",{value:!0});let h=a(o(5245));class c{constructor(t,{headers:e={},schema:r,fetch:s}){this.url=t,this.headers=e,this.schema=r,this.fetch=s}select(t,{head:e=!1,count:r}={}){let s=!1,i=(t??"*").split("").map(g=>/\s/.test(g)&&!s?"":(g==='"'&&(s=!s),g)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new h.default({method:e?"HEAD":"GET",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:r=!0}={}){let s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),e&&s.push(`count=${e}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){let i=t.reduce((g,m)=>g.concat(Object.keys(m)),[]);if(i.length>0){let g=[...new Set(i)].map(m=>`"${m}"`);this.url.searchParams.set("columns",g.join(","))}}return new h.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){let g=[`resolution=${r?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&g.push(this.headers.Prefer),s&&g.push(`count=${s}`),i||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(t)){let m=t.reduce((v,x)=>v.concat(Object.keys(x)),[]);if(m.length>0){let v=[...new Set(m)].map(x=>`"${x}"`);this.url.searchParams.set("columns",v.join(","))}}return new h.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){let r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),e&&r.push(`count=${e}`),this.headers.Prefer=r.join(","),new h.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let e=[];return t&&e.push(`count=${t}`),this.headers.Prefer&&e.unshift(this.headers.Prefer),this.headers.Prefer=e.join(","),new h.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}p.default=c},1560:function(b,p,o){"use strict";var a=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(p,"__esModule",{value:!0});let h=a(o(4953));class c extends h.default{select(t){let e=!1,r=(t??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){let g=i?`${i}.order`:"order",m=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${m?`${m},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){let s=r===void 0?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:s=r}={}){let i=s===void 0?"offset":`${s}.offset`,g=s===void 0?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(g,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:g="text"}={}){var m;let v=[t?"analyze":null,e?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),x=(m=this.headers.Accept)!==null&&m!==void 0?m:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${g}; for="${x}"; options=${v};`,this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}p.default=c},4919:st,7483:function(b,p,o){"use strict";var a=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(p,"__esModule",{value:!0}),p.PostgrestError=p.PostgrestBuilder=p.PostgrestTransformBuilder=p.PostgrestFilterBuilder=p.PostgrestQueryBuilder=p.PostgrestClient=void 0;let h=a(o(4708));p.PostgrestClient=h.default;let c=a(o(3449));p.PostgrestQueryBuilder=c.default;let d=a(o(5245));p.PostgrestFilterBuilder=d.default;let t=a(o(1560));p.PostgrestTransformBuilder=t.default;let e=a(o(4953));p.PostgrestBuilder=e.default;let r=a(o(6855));p.PostgrestError=r.default,p.default={PostgrestClient:h.default,PostgrestQueryBuilder:c.default,PostgrestFilterBuilder:d.default,PostgrestTransformBuilder:t.default,PostgrestBuilder:e.default,PostgrestError:r.default}},5737:nt,9037:rt,4155:tt,9985:et}]),(k.webpackChunk_N_E=k.webpackChunk_N_E||[]).push([[3452],{2641:he,3543:ue}]),(k.webpackChunk_N_E=k.webpackChunk_N_E||[]).push([[6006],{6006:Ze}]),(k.webpackChunk_N_E=k.webpackChunk_N_E||[]).push([[7633],{2067:_e,6195:le,6648:(b,p,o)=>{"use strict";o.r(p),o.d(p,{ComponentMod:()=>F,default:()=>z});var a={};o.r(a),o.d(a,{GET:()=>m,POST:()=>v,PUT:()=>C,runtime:()=>g});var h={};o.r(h),o.d(h,{originalPathname:()=>I,patchFetch:()=>q,requestAsyncStorage:()=>A,routeModule:()=>R,serverHooks:()=>K,staticGenerationAsyncStorage:()=>D});var c=o(7983),d=o(2561),t=o(4828),e=o(6631),r=o(9985),s=o(6095);let i=new(o(6006))._,g="edge";async function m(P,{params:n}){try{let l=await(0,s.I8)();if(!l?.user?.email)return r.xk.json({error:"Authentication required"},{status:401});let{id:u}=n,_=await i.getUserByEmail(l.user.email);if(!_)return r.xk.json({error:"User not found"},{status:404});let w=await i.getServiceById(u);if(!w)return r.xk.json({error:"Service not found"},{status:404});let y=w.status_pages?.organization_id;if(!y)return r.xk.json({error:"Service organization not found"},{status:404});if(!await i.getOrganizationMember(y,_.id))return r.xk.json({error:"Access denied - not a member of this organization"},{status:403});let N=await i.getServiceMonitoring(u);return r.xk.json({success:!0,monitoring:N||null})}catch(l){return console.error("Error fetching service monitoring:",l),r.xk.json({success:!1,error:"Failed to fetch service monitoring",details:l.message},{status:500})}}async function v(P,{params:n}){try{let l=await(0,s.I8)();if(!l?.user?.email)return r.xk.json({error:"Authentication required"},{status:401});let{id:u}=n,_=await P.json(),w=await i.getUserByEmail(l.user.email);if(!w)return r.xk.json({error:"User not found"},{status:404});let y=await i.getServiceById(u);if(!y)return r.xk.json({error:"Service not found"},{status:404});let N=y.status_pages?.organization_id;if(!N)return r.xk.json({error:"Service organization not found"},{status:404});let M=await i.getOrganizationMember(N,w.id);if(!M||!["owner","admin","responder"].includes(M.role))return r.xk.json({error:"Access denied - insufficient permissions"},{status:403});let T={service_id:u,..._,created_by:w.id},S=await i.createServiceMonitoring(T);return r.xk.json({success:!0,monitoring:S,message:"Service monitoring created successfully"},{status:201})}catch(l){return console.error("Error creating service monitoring:",l),r.xk.json({success:!1,error:"Failed to create service monitoring",details:l.message},{status:500})}}async function x(P){console.log(`\u{1F9F9} Clearing existing associations for service ${P}`);try{let{error:n}=await i.client.from("service_monitoring_checks").delete().eq("service_id",P);if(n)throw console.error("Error clearing existing associations:",n),n;console.log(`\u2705 Cleared all existing associations for service ${P}`)}catch(n){throw console.error("Error in clearExistingAssociations:",n),n}}async function E(P,n,l){console.log(`\u{1F517} Creating association: check ${P} -> service ${n}`);try{let{data:u,error:_}=await i.client.from("monitoring_checks").select("id, name").eq("id",P).single();if(_){console.warn(`Monitoring check ${P} not found:`,_);return}let w={service_id:n,monitoring_check_id:P,failure_threshold_minutes:l.failure_threshold_minutes||5,failure_message:l.failure_message||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{error:y}=await i.client.from("service_monitoring_checks").insert(w);if(y)throw console.error(`Error creating association for check ${P}:`,y),y;console.log(`\u2705 Created association: monitoring check "${u.name}" (${P}) -> service ${n}`)}catch(u){throw console.error("Error in createMonitoringAssociation:",u),u}}async function C(P,{params:n}){try{let l=await(0,s.I8)();if(!l?.user?.email)return r.xk.json({error:"Authentication required"},{status:401});let{id:u}=n,_=await P.json();console.log("\u{1F504} PUT request received for service:",u),console.log("\u{1F4DD} Request body:",_);let w=await i.getUserByEmail(l.user.email);if(!w)return r.xk.json({error:"User not found"},{status:404});let y=await i.getServiceById(u);if(!y)return r.xk.json({error:"Service not found"},{status:404});let N=y.status_pages?.organization_id;if(!N)return r.xk.json({error:"Service organization not found"},{status:404});let M=await i.getOrganizationMember(N,w.id);if(!M||!["owner","admin","responder"].includes(M.role))return r.xk.json({error:"Access denied - insufficient permissions"},{status:403});let{associations:T}=_;try{for(let S of(console.log(`\u{1F504} Processing ${T?.length||0} associations`),await x(u),T||[]))await E(S.monitoring_check_id,u,S);return console.log("\u2705 Service monitoring associations updated successfully"),r.xk.json({success:!0,message:"Service monitoring associations updated successfully",associations_count:T?.length||0})}catch(S){throw console.error("Error updating service monitoring associations:",S),S}}catch(l){return console.error("Error updating service monitoring:",l),r.xk.json({success:!1,error:"Failed to update service monitoring",details:l.message},{status:500})}}let R=new d.AppRouteRouteModule({definition:{kind:t.x.APP_ROUTE,page:"/api/services/[id]/monitoring/route",pathname:"/api/services/[id]/monitoring",filename:"route",bundlePath:"app/api/services/[id]/monitoring/route"},resolvedPagePath:"/Users/sean/git/alert24-app/app/api/services/[id]/monitoring/route.js",nextConfigOutput:"",userland:a}),{requestAsyncStorage:A,staticGenerationAsyncStorage:D,serverHooks:K}=R,I="/api/services/[id]/monitoring/route";function q(){return(0,e.XH)({serverHooks:K,staticGenerationAsyncStorage:D})}let F=h,z=c.a.wrap(R)},6095:ce},b=>{var p=a=>b(b.s=a);b.O(0,[2720,7883,1377,3452,6006],()=>p(6648));var o=b.O();($._ENTRIES=typeof $._ENTRIES>"u"?{}:$._ENTRIES)["middleware_app/api/services/[id]/monitoring/route"]=o}]),function(){let b={exports:{},loaded:!1};return function(o,a){var h=Object.create,c=Object.defineProperty,d=Object.getOwnPropertyDescriptor,t=Object.getOwnPropertyNames,e=Object.getPrototypeOf,r=Object.prototype.hasOwnProperty,s=n=>c(n,"__esModule",{value:!0}),i=(n,l)=>{s(n);for(var u in l)c(n,u,{get:l[u],enumerable:!0})},g=(n,l,u)=>{if(l&&typeof l=="object"||typeof l=="function")for(let _ of t(l))!r.call(n,_)&&_!=="default"&&c(n,_,{get:()=>l[_],enumerable:!(u=d(l,_))||u.enumerable});return n},m=n=>g(s(c(n!=null?h(e(n)):{},"default",n&&n.__esModule&&"default"in n?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n);i(a,{default:()=>q});var v=m((W(),re(L))),x="@next/request-context",E=Symbol.for(x),C=Symbol.for("internal.storage");function R(){let n=$;if(!n[E]){let l=new v.AsyncLocalStorage,u={get:()=>l.getStore(),[C]:l};n[E]=u}return n[E]}var A=R();function D(n,l){return A[C].run(n,l)}function K(n){let l={};return n&&n.forEach((u,_)=>{l[_]=u,_.toLowerCase()==="set-cookie"&&(l[_]=I(u))}),l}function I(n){let l=[],u=0,_,w,y,N,M;function T(){for(;u<n.length&&/\s/.test(n.charAt(u));)u+=1;return u<n.length}function S(){return w=n.charAt(u),w!=="="&&w!==";"&&w!==","}for(;u<n.length;){for(_=u,M=!1;T();)if(w=n.charAt(u),w===","){for(y=u,u+=1,T(),N=u;u<n.length&&S();)u+=1;u<n.length&&n.charAt(u)==="="?(M=!0,u=N,l.push(n.substring(_,y)),_=u):u=y+1}else u+=1;(!M||u>=n.length)&&l.push(n.substring(_,n.length))}return l}function q(n){let l=n.staticRoutes.map(_=>({regexp:new RegExp(_.namedRegex),page:_.page})),u=n.dynamicRoutes?.map(_=>({regexp:new RegExp(_.namedRegex),page:_.page}))||[];return async function(_,w){let y=new URL(_.url).pathname,N={};if(n.nextConfig?.basePath&&y.startsWith(n.nextConfig.basePath)&&(y=y.replace(n.nextConfig.basePath,"")||"/"),n.nextConfig?.i18n)for(let T of n.nextConfig.i18n.locales){let S=new RegExp(`^/${T}($|/)`,"i");if(y.match(S)){y=y.replace(S,"/")||"/";break}}for(let T of l)if(T.regexp.exec(y)){N.name=T.page;break}if(!N.name){let T=z(y);for(let S of u||[]){if(T&&!z(S.page))continue;let X=S.regexp.exec(y);if(X){N={name:S.page,params:X.groups};break}}}let M=await D({waitUntil:w.waitUntil},()=>$._ENTRIES[`middleware_${n.name}`].default.call({},{request:{url:_.url,method:_.method,headers:K(_.headers),ip:F(_.headers,P.Ip),geo:{city:F(_.headers,P.City,!0),country:F(_.headers,P.Country,!0),latitude:F(_.headers,P.Latitude),longitude:F(_.headers,P.Longitude),region:F(_.headers,P.Region,!0)},nextConfig:n.nextConfig,page:N,body:_.body}}));return M.waitUntil&&w.waitUntil(M.waitUntil),M.response}}function F(n,l,u=!1){let _=n.get(l)||void 0;return u&&_?decodeURIComponent(_):_}function z(n){return n==="/api"||n.startsWith("/api/")}var P;(function(n){n.City="x-vercel-ip-city",n.Country="x-vercel-ip-country",n.Ip="x-real-ip",n.Latitude="x-vercel-ip-latitude",n.Longitude="x-vercel-ip-longitude",n.Region="x-vercel-ip-country-region"})(P||(P={}))}(b,b.exports),b.exports}.call({}).default({name:"app/api/services/[id]/monitoring/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/accept-invitation",regex:"^/accept\\-invitation(?:/)?$",routeKeys:{},namedRegex:"^/accept\\-invitation(?:/)?$"},{page:"/debug-email",regex:"^/debug\\-email(?:/)?$",routeKeys:{},namedRegex:"^/debug\\-email(?:/)?$"},{page:"/debug-monitoring",regex:"^/debug\\-monitoring(?:/)?$",routeKeys:{},namedRegex:"^/debug\\-monitoring(?:/)?$"},{page:"/escalation-policies/new",regex:"^/escalation\\-policies/new(?:/)?$",routeKeys:{},namedRegex:"^/escalation\\-policies/new(?:/)?$"},{page:"/favicon.ico",regex:"^/favicon\\.ico(?:/)?$",routeKeys:{},namedRegex:"^/favicon\\.ico(?:/)?$"},{page:"/help",regex:"^/help(?:/)?$",routeKeys:{},namedRegex:"^/help(?:/)?$"},{page:"/incidents",regex:"^/incidents(?:/)?$",routeKeys:{},namedRegex:"^/incidents(?:/)?$"},{page:"/incidents/new",regex:"^/incidents/new(?:/)?$",routeKeys:{},namedRegex:"^/incidents/new(?:/)?$"},{page:"/monitoring",regex:"^/monitoring(?:/)?$",routeKeys:{},namedRegex:"^/monitoring(?:/)?$"},{page:"/monitoring/new",regex:"^/monitoring/new(?:/)?$",routeKeys:{},namedRegex:"^/monitoring/new(?:/)?$"},{page:"/on-call",regex:"^/on\\-call(?:/)?$",routeKeys:{},namedRegex:"^/on\\-call(?:/)?$"},{page:"/on-call/new",regex:"^/on\\-call/new(?:/)?$",routeKeys:{},namedRegex:"^/on\\-call/new(?:/)?$"},{page:"/organizations",regex:"^/organizations(?:/)?$",routeKeys:{},namedRegex:"^/organizations(?:/)?$"},{page:"/profile",regex:"^/profile(?:/)?$",routeKeys:{},namedRegex:"^/profile(?:/)?$"},{page:"/settings",regex:"^/settings(?:/)?$",routeKeys:{},namedRegex:"^/settings(?:/)?$"},{page:"/status-pages",regex:"^/status\\-pages(?:/)?$",routeKeys:{},namedRegex:"^/status\\-pages(?:/)?$"}],dynamicRoutes:[{page:"/api/auth/[...nextauth]",regex:"^/api/auth/(.+?)(?:/)?$",routeKeys:{nxtPnextauth:"nxtPnextauth"},namedRegex:"^/api/auth/(?<nxtPnextauth>.+?)(?:/)?$"},{page:"/api/incidents/[id]",regex:"^/api/incidents/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/incidents/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/incidents/[id]/updates",regex:"^/api/incidents/([^/]+?)/updates(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/incidents/(?<nxtPid>[^/]+?)/updates(?:/)?$"},{page:"/api/monitoring/[id]",regex:"^/api/monitoring/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/monitoring/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/on-call-schedules/[id]",regex:"^/api/on\\-call\\-schedules/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/on\\-call\\-schedules/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/organizations/[id]",regex:"^/api/organizations/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/organizations/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/organizations/[id]/invitations",regex:"^/api/organizations/([^/]+?)/invitations(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/organizations/(?<nxtPid>[^/]+?)/invitations(?:/)?$"},{page:"/api/services/[id]",regex:"^/api/services/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/services/[id]/monitoring",regex:"^/api/services/([^/]+?)/monitoring(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)/monitoring(?:/)?$"},{page:"/api/services/[id]/sla",regex:"^/api/services/([^/]+?)/sla(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)/sla(?:/)?$"},{page:"/api/status-pages/public/[slug]",regex:"^/api/status\\-pages/public/([^/]+?)(?:/)?$",routeKeys:{nxtPslug:"nxtPslug"},namedRegex:"^/api/status\\-pages/public/(?<nxtPslug>[^/]+?)(?:/)?$"},{page:"/api/status-pages/[id]",regex:"^/api/status\\-pages/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/status\\-pages/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/incidents/[id]",regex:"^/incidents/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/incidents/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/incidents/[id]/edit",regex:"^/incidents/([^/]+?)/edit(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/incidents/(?<nxtPid>[^/]+?)/edit(?:/)?$"},{page:"/monitoring/edit/[id]",regex:"^/monitoring/edit/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/monitoring/edit/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/on-call/[id]/edit",regex:"^/on\\-call/([^/]+?)/edit(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/on\\-call/(?<nxtPid>[^/]+?)/edit(?:/)?$"},{page:"/status/[slug]",regex:"^/status/([^/]+?)(?:/)?$",routeKeys:{nxtPslug:"nxtPslug"},namedRegex:"^/status/(?<nxtPslug>[^/]+?)(?:/)?$"}],nextConfig:{basePath:""}})))(j,j,j);export{Ct as default};
