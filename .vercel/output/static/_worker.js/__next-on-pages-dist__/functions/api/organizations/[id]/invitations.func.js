var Y=Object.defineProperty;var re=Object.getOwnPropertyDescriptor;var se=Object.getOwnPropertyNames;var ae=Object.prototype.hasOwnProperty;var ie=(k,v)=>()=>(k&&(v=k(k=0)),v);var J=(k,v,B,$)=>{if(v&&typeof v=="object"||typeof v=="function")for(let l of se(v))!ae.call(k,l)&&l!==B&&Y(k,l,{get:()=>v[l],enumerable:!($=re(v,l))||$.enumerable});return k},Q=(k,v,B)=>(J(k,v,"default"),B&&J(B,v,"default"));var oe=k=>J(Y({},"__esModule",{value:!0}),k);var G={};import*as Ct from"async_hooks";var Z=ie(()=>{Q(G,Ct)});import{__getNamedExports as ue}from"../../../../../__next-on-pages-dist__/webpack/5856.js";import{__getNamedExports as ce}from"../../../../../__next-on-pages-dist__/webpack/aa5c0a3237ae1fd635b2d0bab25b6e94.js";import{__getNamedExports as he}from"../../../../../__next-on-pages-dist__/webpack/ac7e0cd817c0f96ac6506045b651299a.js";import{__getNamedExports as _e}from"../../../../../__next-on-pages-dist__/webpack/5c7c089f9b18fab21905bdbf6a451f6c.js";import{__getNamedExports as le}from"../../../../../__next-on-pages-dist__/webpack/fc1dd92f63cefab5577162dd844679df.js";import{__getNamedExports as de}from"../../../../../__next-on-pages-dist__/manifest/537259e2ed205f5a7994cb4f05664668.js";var b=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/organizations/[id]/invitations"),pe=ue(b,b,b),ge=pe.__chunk_5856,W=ce(b,b,b),me=W.__chunk_6095,fe=W.__chunk_3543,ke=W.__chunk_2641,g=he(b,b,b),xe=g.__chunk_6195,ye=g.__chunk_2067,Pe=g.__chunk_9182,ve=g.__chunk_8983,$e=g.__chunk_5228,be=g.__chunk_2296,Ee=g.__chunk_2594,we=g.__chunk_6735,je=g.__chunk_8219,Oe=g.__chunk_5577,Ae=g.__chunk_9254,Ne=g.__chunk_9206,Re=g.__chunk_989,Te=g.__chunk_1863,Se=g.__chunk_3039,Ie=g.__chunk_335,Me=g.__chunk_8042,Ce=g.__chunk_7765,Ke=g.__chunk_6991,ze=g.__chunk_8816,Fe=g.__chunk_6631,De=g.__chunk_4828,Ue=g.__chunk_4834,Le=g.__chunk_828,Be=g.__chunk_5927,qe=g.__chunk_8439,Ge=g.__chunk_4363,He=g.__chunk_2039,Xe=g.__chunk_8264,Je=g.__chunk_1583,Qe=g.__chunk_7908,We=g.__chunk_8949,Ve=g.__chunk_796,Ye=g.__chunk_1651,Ze=g.__chunk_5105,et=g.__chunk_9642,tt=g.__chunk_5028,nt=g.__chunk_9548,rt=g.__chunk_6914,st=g.__chunk_7960,at=g.__chunk_4337,it=g.__chunk_8819,D=_e(b,b,b),ot=D.__chunk_6006,ut=D.__chunk_9985,ct=D.__chunk_4155,ht=D.__chunk_9037,_t=D.__chunk_5737,lt=D.__chunk_4919,dt=D.__chunk_6855,pt=D.__chunk_3607,j=le(b,b,b),gt=j.__chunk_1730,mt=j.__chunk_3818,ft=j.__chunk_7037,kt=j.__chunk_9573,xt=j.__chunk_7701,yt=j.__chunk_662,Pt=j.__chunk_4101,vt=j.__chunk_6776,$t=j.__chunk_3665,bt=j.__chunk_7444,Et=j.__chunk_4591,wt=j.__chunk_7983,jt=j.__chunk_581,Ot=j.__chunk_2561,At=j.__chunk_2988,Nt=j.__chunk_6947,Rt=j.__chunk_5996,Tt=j.__chunk_676,ee=de(b,b,b),St=ee.__NEXT_FONT_MANIFEST,It=ee.__REACT_LOADABLE_MANIFEST,Bt=((k,v,B)=>(v._ENTRIES={},k.__BUILD_MANIFEST={polyfillFiles:["static/chunks/polyfills-42372ed130431b0a.js"],devFiles:[],ampDevFiles:[],lowPriorityFiles:[],rootMainFiles:["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/fd9d1056-30de07f4a3c346ee.js","static/chunks/7466-8fdf295a7c02cf2e.js","static/chunks/main-app-8eaf6dc4ad0df15d.js"],pages:{"/_app":["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/framework-8e0e0f4a6b83a956.js","static/chunks/main-17007a384daea84e.js","static/chunks/pages/_app-3c9ca398d360b709.js"],"/_error":["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/framework-8e0e0f4a6b83a956.js","static/chunks/main-17007a384daea84e.js","static/chunks/pages/_error-cf5ca766ac8f493f.js"]},ampFirstPages:[]},k.__BUILD_MANIFEST.lowPriorityFiles=["/static/5vAXtrh2qjJDoCjPjRb93/_buildManifest.js",,"/static/5vAXtrh2qjJDoCjPjRb93/_ssgManifest.js"],k.__REACT_LOADABLE_MANIFEST=It,k.__NEXT_FONT_MANIFEST=St,k.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",(()=>{"use strict";var $={},l={};function i(a){var c=l[a];if(c!==void 0)return c.exports;var o=l[a]={exports:{}},_=!0;try{$[a].call(o.exports,o,o.exports,i),_=!1}finally{_&&delete l[a]}return o.exports}i.m=$,i.amdO={},(()=>{var a=[];i.O=(c,o,_,t)=>{if(o){t=t||0;for(var e=a.length;e>0&&a[e-1][2]>t;e--)a[e]=a[e-1];a[e]=[o,_,t];return}for(var n=1/0,e=0;e<a.length;e++){for(var[o,_,t]=a[e],s=!0,u=0;u<o.length;u++)n>=t&&Object.keys(i.O).every(A=>i.O[A](o[u]))?o.splice(u--,1):(s=!1,t<n&&(n=t));if(s){a.splice(e--,1);var p=_();p!==void 0&&(c=p)}}return c}})(),i.n=a=>{var c=a&&a.__esModule?()=>a.default:()=>a;return i.d(c,{a:c}),c},(()=>{var a,c=Object.getPrototypeOf?o=>Object.getPrototypeOf(o):o=>o.__proto__;i.t=function(o,_){if(1&_&&(o=this(o)),8&_||typeof o=="object"&&o&&(4&_&&o.__esModule||16&_&&typeof o.then=="function"))return o;var t=Object.create(null);i.r(t);var e={};a=a||[null,c({}),c([]),c(c)];for(var n=2&_&&o;typeof n=="object"&&!~a.indexOf(n);n=c(n))Object.getOwnPropertyNames(n).forEach(s=>e[s]=()=>o[s]);return e.default=()=>o,i.d(t,e),t}})(),i.d=(a,c)=>{for(var o in c)i.o(c,o)&&!i.o(a,o)&&Object.defineProperty(a,o,{enumerable:!0,get:c[o]})},i.e=()=>Promise.resolve(),i.g=function(){if(typeof v=="object")return v;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(a,c)=>Object.prototype.hasOwnProperty.call(a,c),i.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},(()=>{var a={5993:0};i.O.j=_=>a[_]===0;var c=(_,t)=>{var e,n,[s,u,p]=t,m=0;if(s.some(x=>a[x]!==0)){for(e in u)i.o(u,e)&&(i.m[e]=u[e]);if(p)var P=p(i)}for(_&&_(t);m<s.length;m++)n=s[m],i.o(a,n)&&a[n]&&a[n][0](),a[n]=0;return i.O(P)},o=k.webpackChunk_N_E=k.webpackChunk_N_E||[];o.forEach(c.bind(null,0)),o.push=c.bind(null,o.push.bind(o))})()})(),(k.webpackChunk_N_E=k.webpackChunk_N_E||[]).push([[2720],{8819:it,4337:at,7960:st,6914:rt,9548:nt,5028:tt,9642:et,5105:Ze,1651:Ye,796:Ve,8949:We,7908:Qe,1583:Je,8264:Xe,2039:He,4363:Ge,8439:qe,5927:Be,828:Le,4834:Ue,4828:De,6631:Fe,8816:ze,6991:Ke,7765:Ce,8042:Me,335:Ie,3039:Se,1863:Te,989:Re,9206:Ne,9254:Ae,5577:Oe,8219:je,6735:we,2594:Ee,2296:be,5228:$e,8983:ve,9182:Pe}]),(k.webpackChunk_N_E=k.webpackChunk_N_E||[]).push([[7883],{676:Tt,5996:Rt,6947:Nt,2988:At,2561:Ot,581:jt,7983:wt,4591:Et,7444:bt,3665:$t,6776:vt,4101:Pt,662:yt,7701:xt,9573:kt,7037:ft,3818:mt,1730:gt}]),(k.webpackChunk_N_E=k.webpackChunk_N_E||[]).push([[1377],{3607:pt,4953:function($,l,i){"use strict";var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(l,"__esModule",{value:!0});let c=a(i(3607)),o=a(i(6855));class _{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=c.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let s=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var p,m,P;let x=null,E=null,A=null,N=u.status,w=u.statusText;if(u.ok){if(this.method!=="HEAD"){let z=await u.text();z===""||(E=this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?z:JSON.parse(z))}let M=(p=this.headers.Prefer)===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),K=(m=u.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");M&&K&&K.length>1&&(A=parseInt(K[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(x={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,A=null,N=406,w="Not Acceptable"):E=E.length===1?E[0]:null)}else{let M=await u.text();try{x=JSON.parse(M),Array.isArray(x)&&u.status===404&&(E=[],x=null,N=200,w="OK")}catch{u.status===404&&M===""?(N=204,w="No Content"):x={message:M}}if(x&&this.isMaybeSingle&&((P=x?.details)===null||P===void 0?void 0:P.includes("0 rows"))&&(x=null,N=200,w="OK"),x&&this.shouldThrowOnError)throw new o.default(x)}return{error:x,data:E,count:A,status:N,statusText:w}});return this.shouldThrowOnError||(s=s.catch(u=>{var p,m,P;return{error:{message:`${(p=u?.name)!==null&&p!==void 0?p:"FetchError"}: ${u?.message}`,details:`${(m=u?.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(P=u?.code)!==null&&P!==void 0?P:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}}l.default=_},4708:function($,l,i){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l,"__esModule",{value:!0});let c=a(i(3449)),o=a(i(5245)),_=i(4919);class t{constructor(n,{headers:s={},schema:u,fetch:p}={}){this.url=n,this.headers=Object.assign(Object.assign({},_.DEFAULT_HEADERS),s),this.schemaName=u,this.fetch=p}from(n){let s=new URL(`${this.url}/${n}`);return new c.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new t(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,s={},{head:u=!1,get:p=!1,count:m}={}){let P,x,E=new URL(`${this.url}/rpc/${n}`);u||p?(P=u?"HEAD":"GET",Object.entries(s).filter(([N,w])=>w!==void 0).map(([N,w])=>[N,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([N,w])=>{E.searchParams.append(N,w)})):(P="POST",x=s);let A=Object.assign({},this.headers);return m&&(A.Prefer=`count=${m}`),new o.default({method:P,url:E,headers:A,schema:this.schemaName,body:x,fetch:this.fetch,allowEmpty:!1})}}l.default=t},6855:dt,5245:function($,l,i){"use strict";var a=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(l,"__esModule",{value:!0});let c=a(i(1560));class o extends c.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){let n=Array.from(new Set(e)).map(s=>typeof s=="string"&&RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:s}={}){let u="";s==="plain"?u="pl":s==="phrase"?u="ph":s==="websearch"&&(u="w");let p=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${u}fts${p}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){let s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}}l.default=o},3449:function($,l,i){"use strict";var a=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(l,"__esModule",{value:!0});let c=a(i(5245));class o{constructor(t,{headers:e={},schema:n,fetch:s}){this.url=t,this.headers=e,this.schema=n,this.fetch=s}select(t,{head:e=!1,count:n}={}){let s=!1,u=(t??"*").split("").map(p=>/\s/.test(p)&&!s?"":(p==='"'&&(s=!s),p)).join("");return this.url.searchParams.set("select",u),n&&(this.headers.Prefer=`count=${n}`),new c.default({method:e?"HEAD":"GET",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:n=!0}={}){let s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),e&&s.push(`count=${e}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){let u=t.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(u.length>0){let p=[...new Set(u)].map(m=>`"${m}"`);this.url.searchParams.set("columns",p.join(","))}}return new c.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:s,defaultToNull:u=!0}={}){let p=[`resolution=${n?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&p.push(this.headers.Prefer),s&&p.push(`count=${s}`),u||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(t)){let m=t.reduce((P,x)=>P.concat(Object.keys(x)),[]);if(m.length>0){let P=[...new Set(m)].map(x=>`"${x}"`);this.url.searchParams.set("columns",P.join(","))}}return new c.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){let n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),e&&n.push(`count=${e}`),this.headers.Prefer=n.join(","),new c.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let e=[];return t&&e.push(`count=${t}`),this.headers.Prefer&&e.unshift(this.headers.Prefer),this.headers.Prefer=e.join(","),new c.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}l.default=o},1560:function($,l,i){"use strict";var a=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(l,"__esModule",{value:!0});let c=a(i(4953));class o extends c.default{select(t){let e=!1,n=(t??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:s,referencedTable:u=s}={}){let p=u?`${u}.order`:"order",m=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${m?`${m},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){let s=n===void 0?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:s=n}={}){let u=s===void 0?"offset":`${s}.offset`,p=s===void 0?"limit":`${s}.limit`;return this.url.searchParams.set(u,`${t}`),this.url.searchParams.set(p,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:s=!1,wal:u=!1,format:p="text"}={}){var m;let P=[t?"analyze":null,e?"verbose":null,n?"settings":null,s?"buffers":null,u?"wal":null].filter(Boolean).join("|"),x=(m=this.headers.Accept)!==null&&m!==void 0?m:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${p}; for="${x}"; options=${P};`,this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}l.default=o},4919:lt,7483:function($,l,i){"use strict";var a=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(l,"__esModule",{value:!0}),l.PostgrestError=l.PostgrestBuilder=l.PostgrestTransformBuilder=l.PostgrestFilterBuilder=l.PostgrestQueryBuilder=l.PostgrestClient=void 0;let c=a(i(4708));l.PostgrestClient=c.default;let o=a(i(3449));l.PostgrestQueryBuilder=o.default;let _=a(i(5245));l.PostgrestFilterBuilder=_.default;let t=a(i(1560));l.PostgrestTransformBuilder=t.default;let e=a(i(4953));l.PostgrestBuilder=e.default;let n=a(i(6855));l.PostgrestError=n.default,l.default={PostgrestClient:c.default,PostgrestQueryBuilder:o.default,PostgrestFilterBuilder:_.default,PostgrestTransformBuilder:t.default,PostgrestBuilder:e.default,PostgrestError:n.default}},5737:_t,9037:ht,4155:ct,9985:ut}]),(k.webpackChunk_N_E=k.webpackChunk_N_E||[]).push([[3452],{2641:ke,3543:fe}]),(k.webpackChunk_N_E=k.webpackChunk_N_E||[]).push([[6006],{6006:ot}]),(k.webpackChunk_N_E=k.webpackChunk_N_E||[]).push([[5808],{2067:ye,6195:xe,8599:($,l,i)=>{"use strict";i.r(l),i.d(l,{ComponentMod:()=>H,default:()=>F});var a={};i.r(a),i.d(a,{GET:()=>x,POST:()=>E,runtime:()=>P});var c={};i.r(c),i.d(c,{originalPathname:()=>K,patchFetch:()=>z,requestAsyncStorage:()=>N,routeModule:()=>A,serverHooks:()=>M,staticGenerationAsyncStorage:()=>w});var o=i(7983),_=i(2561),t=i(4828),e=i(6631),n=i(9985),s=i(6095),u=i(6006),p=i(5856);let m=new u._,P="edge";async function x(q,{params:T}){try{let r=await(0,s.I8)();if(!r||!r.user?.email)return n.xk.json({error:"Unauthorized"},{status:401});let f=T.id;if(!f)return n.xk.json({error:"Organization ID is required"},{status:400});let h=await m.getUserByEmail(r.user.email);if(!h)return n.xk.json({error:"User not found"},{status:404});let d=await m.getOrganizationMember(f,h.id);if(!d||!["owner","admin"].includes(d.role))return n.xk.json({error:"Forbidden - Admin access required"},{status:403});let O=(await m.getPendingInvitations(f)).map(y=>({id:y.id,invitation_token:y.invitation_token,invited_at:y.invited_at,invitation_expires_at:y.invitation_expires_at,role:y.role,email:y.users?.email,name:y.users?.name,invited_by_name:y.invited_by_user?.name}));return n.xk.json({invitations:O})}catch(r){return console.error("Error fetching invitations:",r),n.xk.json({error:r.message},{status:500})}}async function E(q,{params:T}){try{let r=await(0,s.I8)();if(!r||!r.user?.email)return n.xk.json({error:"Unauthorized"},{status:401});let f=T.id;if(!f)return n.xk.json({error:"Organization ID is required"},{status:400});let{email:h,role:d="responder"}=await q.json();if(!h)return n.xk.json({error:"Email is required"},{status:400});if(!["stakeholder","responder","admin"].includes(d))return n.xk.json({error:"Invalid role. Must be stakeholder, responder, or admin"},{status:400});let O=await m.getUserByEmail(r.user.email);if(!O)return n.xk.json({error:"User not found"},{status:404});let y=await m.getOrganizationMember(f,O.id);if(!y)return n.xk.json({error:"Forbidden - Not a member of this organization"},{status:403});let C=y.role;if(!["owner","admin"].includes(C))return n.xk.json({error:"Forbidden - Admin access required to invite members"},{status:403});if(d==="admin"&&C!=="owner")return n.xk.json({error:"Forbidden - Only owners can invite admins"},{status:403});let S=await m.getOrganizationById(f);if(!S)return n.xk.json({error:"Organization not found"},{status:404});let R=await m.getUserByEmail(h);if(R){let U=await m.getOrganizationMember(f,R.id);if(U&&U.accepted_at)return n.xk.json({error:"User is already a member of this organization"},{status:409});if(U&&U.invitation_token)return n.xk.json({error:"User already has a pending invitation"},{status:409})}else R=await m.createUser({email:h,name:h});let I=function(){let U=new Uint8Array(32);return crypto.getRandomValues(U),Array.from(U,ne=>ne.toString(16).padStart(2,"0")).join("")}(),L=new Date(Date.now()+6048e5),te=await m.createInvitation({organization_id:f,user_id:R.id,role:d,invited_by:O.id,invitation_token:I,invitation_expires_at:L.toISOString(),invited_at:new Date().toISOString(),accepted_at:null,is_active:!1}),V=`${process.env.NEXTAUTH_URL||"http://localhost:3000"}/accept-invitation?token=${I}`,X=await p.y.sendInvitationEmail({toEmail:h,toName:h.split("@")[0],organizationName:S.name,inviterName:O.name||O.email,role:d,invitationLink:V,expiresAt:L.toISOString(),organizationBranding:{name:S.name,logoUrl:S.logo_url}});return X.success?console.log(`\u2705 Invitation email sent to ${h} (Message ID: ${X.messageId})`):console.error(`\u274C Failed to send invitation email to ${h}: ${X.error}`),n.xk.json({success:!0,message:"Invitation sent successfully",invitationId:te.id,invitationLink:V,expiresAt:L},{status:201})}catch(r){return console.error("Error sending invitation:",r),r.message.includes("duplicate key")||r.message.includes("already exists")?n.xk.json({success:!1,error:"Organization slug already exists",details:r.message},{status:409}):n.xk.json({success:!1,error:"Failed to send invitation",details:r.message},{status:500})}}let A=new _.AppRouteRouteModule({definition:{kind:t.x.APP_ROUTE,page:"/api/organizations/[id]/invitations/route",pathname:"/api/organizations/[id]/invitations",filename:"route",bundlePath:"app/api/organizations/[id]/invitations/route"},resolvedPagePath:"/Users/sean/git/alert24-app/app/api/organizations/[id]/invitations/route.js",nextConfigOutput:"",userland:a}),{requestAsyncStorage:N,staticGenerationAsyncStorage:w,serverHooks:M}=A,K="/api/organizations/[id]/invitations/route";function z(){return(0,e.XH)({serverHooks:M,staticGenerationAsyncStorage:w})}let H=c,F=o.a.wrap(A)},6095:me,5856:ge},$=>{var l=a=>$($.s=a);$.O(0,[2720,7883,1377,3452,6006],()=>l(8599));var i=$.O();(v._ENTRIES=typeof v._ENTRIES>"u"?{}:v._ENTRIES)["middleware_app/api/organizations/[id]/invitations/route"]=i}]),function(){let $={exports:{},loaded:!1};return function(i,a){var c=Object.create,o=Object.defineProperty,_=Object.getOwnPropertyDescriptor,t=Object.getOwnPropertyNames,e=Object.getPrototypeOf,n=Object.prototype.hasOwnProperty,s=r=>o(r,"__esModule",{value:!0}),u=(r,f)=>{s(r);for(var h in f)o(r,h,{get:f[h],enumerable:!0})},p=(r,f,h)=>{if(f&&typeof f=="object"||typeof f=="function")for(let d of t(f))!n.call(r,d)&&d!=="default"&&o(r,d,{get:()=>f[d],enumerable:!(h=_(f,d))||h.enumerable});return r},m=r=>p(s(o(r!=null?c(e(r)):{},"default",r&&r.__esModule&&"default"in r?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r);u(a,{default:()=>H});var P=m((Z(),oe(G))),x="@next/request-context",E=Symbol.for(x),A=Symbol.for("internal.storage");function N(){let r=v;if(!r[E]){let f=new P.AsyncLocalStorage,h={get:()=>f.getStore(),[A]:f};r[E]=h}return r[E]}var w=N();function M(r,f){return w[A].run(r,f)}function K(r){let f={};return r&&r.forEach((h,d)=>{f[d]=h,d.toLowerCase()==="set-cookie"&&(f[d]=z(h))}),f}function z(r){let f=[],h=0,d,O,y,C,S;function R(){for(;h<r.length&&/\s/.test(r.charAt(h));)h+=1;return h<r.length}function I(){return O=r.charAt(h),O!=="="&&O!==";"&&O!==","}for(;h<r.length;){for(d=h,S=!1;R();)if(O=r.charAt(h),O===","){for(y=h,h+=1,R(),C=h;h<r.length&&I();)h+=1;h<r.length&&r.charAt(h)==="="?(S=!0,h=C,f.push(r.substring(d,y)),d=h):h=y+1}else h+=1;(!S||h>=r.length)&&f.push(r.substring(d,r.length))}return f}function H(r){let f=r.staticRoutes.map(d=>({regexp:new RegExp(d.namedRegex),page:d.page})),h=r.dynamicRoutes?.map(d=>({regexp:new RegExp(d.namedRegex),page:d.page}))||[];return async function(d,O){let y=new URL(d.url).pathname,C={};if(r.nextConfig?.basePath&&y.startsWith(r.nextConfig.basePath)&&(y=y.replace(r.nextConfig.basePath,"")||"/"),r.nextConfig?.i18n)for(let R of r.nextConfig.i18n.locales){let I=new RegExp(`^/${R}($|/)`,"i");if(y.match(I)){y=y.replace(I,"/")||"/";break}}for(let R of f)if(R.regexp.exec(y)){C.name=R.page;break}if(!C.name){let R=q(y);for(let I of h||[]){if(R&&!q(I.page))continue;let L=I.regexp.exec(y);if(L){C={name:I.page,params:L.groups};break}}}let S=await M({waitUntil:O.waitUntil},()=>v._ENTRIES[`middleware_${r.name}`].default.call({},{request:{url:d.url,method:d.method,headers:K(d.headers),ip:F(d.headers,T.Ip),geo:{city:F(d.headers,T.City,!0),country:F(d.headers,T.Country,!0),latitude:F(d.headers,T.Latitude),longitude:F(d.headers,T.Longitude),region:F(d.headers,T.Region,!0)},nextConfig:r.nextConfig,page:C,body:d.body}}));return S.waitUntil&&O.waitUntil(S.waitUntil),S.response}}function F(r,f,h=!1){let d=r.get(f)||void 0;return h&&d?decodeURIComponent(d):d}function q(r){return r==="/api"||r.startsWith("/api/")}var T;(function(r){r.City="x-vercel-ip-city",r.Country="x-vercel-ip-country",r.Ip="x-real-ip",r.Latitude="x-vercel-ip-latitude",r.Longitude="x-vercel-ip-longitude",r.Region="x-vercel-ip-country-region"})(T||(T={}))}($,$.exports),$.exports}.call({}).default({name:"app/api/organizations/[id]/invitations/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/accept-invitation",regex:"^/accept\\-invitation(?:/)?$",routeKeys:{},namedRegex:"^/accept\\-invitation(?:/)?$"},{page:"/debug-email",regex:"^/debug\\-email(?:/)?$",routeKeys:{},namedRegex:"^/debug\\-email(?:/)?$"},{page:"/debug-monitoring",regex:"^/debug\\-monitoring(?:/)?$",routeKeys:{},namedRegex:"^/debug\\-monitoring(?:/)?$"},{page:"/escalation-policies/new",regex:"^/escalation\\-policies/new(?:/)?$",routeKeys:{},namedRegex:"^/escalation\\-policies/new(?:/)?$"},{page:"/favicon.ico",regex:"^/favicon\\.ico(?:/)?$",routeKeys:{},namedRegex:"^/favicon\\.ico(?:/)?$"},{page:"/help",regex:"^/help(?:/)?$",routeKeys:{},namedRegex:"^/help(?:/)?$"},{page:"/incidents",regex:"^/incidents(?:/)?$",routeKeys:{},namedRegex:"^/incidents(?:/)?$"},{page:"/incidents/new",regex:"^/incidents/new(?:/)?$",routeKeys:{},namedRegex:"^/incidents/new(?:/)?$"},{page:"/monitoring",regex:"^/monitoring(?:/)?$",routeKeys:{},namedRegex:"^/monitoring(?:/)?$"},{page:"/monitoring/new",regex:"^/monitoring/new(?:/)?$",routeKeys:{},namedRegex:"^/monitoring/new(?:/)?$"},{page:"/on-call",regex:"^/on\\-call(?:/)?$",routeKeys:{},namedRegex:"^/on\\-call(?:/)?$"},{page:"/on-call/new",regex:"^/on\\-call/new(?:/)?$",routeKeys:{},namedRegex:"^/on\\-call/new(?:/)?$"},{page:"/organizations",regex:"^/organizations(?:/)?$",routeKeys:{},namedRegex:"^/organizations(?:/)?$"},{page:"/profile",regex:"^/profile(?:/)?$",routeKeys:{},namedRegex:"^/profile(?:/)?$"},{page:"/settings",regex:"^/settings(?:/)?$",routeKeys:{},namedRegex:"^/settings(?:/)?$"},{page:"/status-pages",regex:"^/status\\-pages(?:/)?$",routeKeys:{},namedRegex:"^/status\\-pages(?:/)?$"}],dynamicRoutes:[{page:"/api/auth/[...nextauth]",regex:"^/api/auth/(.+?)(?:/)?$",routeKeys:{nxtPnextauth:"nxtPnextauth"},namedRegex:"^/api/auth/(?<nxtPnextauth>.+?)(?:/)?$"},{page:"/api/incidents/[id]",regex:"^/api/incidents/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/incidents/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/incidents/[id]/updates",regex:"^/api/incidents/([^/]+?)/updates(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/incidents/(?<nxtPid>[^/]+?)/updates(?:/)?$"},{page:"/api/monitoring/[id]",regex:"^/api/monitoring/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/monitoring/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/on-call-schedules/[id]",regex:"^/api/on\\-call\\-schedules/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/on\\-call\\-schedules/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/organizations/[id]",regex:"^/api/organizations/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/organizations/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/organizations/[id]/invitations",regex:"^/api/organizations/([^/]+?)/invitations(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/organizations/(?<nxtPid>[^/]+?)/invitations(?:/)?$"},{page:"/api/services/[id]",regex:"^/api/services/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/services/[id]/monitoring",regex:"^/api/services/([^/]+?)/monitoring(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)/monitoring(?:/)?$"},{page:"/api/services/[id]/sla",regex:"^/api/services/([^/]+?)/sla(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)/sla(?:/)?$"},{page:"/api/status-pages/public/[slug]",regex:"^/api/status\\-pages/public/([^/]+?)(?:/)?$",routeKeys:{nxtPslug:"nxtPslug"},namedRegex:"^/api/status\\-pages/public/(?<nxtPslug>[^/]+?)(?:/)?$"},{page:"/api/status-pages/[id]",regex:"^/api/status\\-pages/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/status\\-pages/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/incidents/[id]",regex:"^/incidents/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/incidents/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/incidents/[id]/edit",regex:"^/incidents/([^/]+?)/edit(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/incidents/(?<nxtPid>[^/]+?)/edit(?:/)?$"},{page:"/monitoring/edit/[id]",regex:"^/monitoring/edit/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/monitoring/edit/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/on-call/[id]/edit",regex:"^/on\\-call/([^/]+?)/edit(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/on\\-call/(?<nxtPid>[^/]+?)/edit(?:/)?$"},{page:"/status/[slug]",regex:"^/status/([^/]+?)(?:/)?$",routeKeys:{nxtPslug:"nxtPslug"},namedRegex:"^/status/(?<nxtPslug>[^/]+?)(?:/)?$"}],nextConfig:{basePath:""}})))(b,b,b);export{Bt as default};
