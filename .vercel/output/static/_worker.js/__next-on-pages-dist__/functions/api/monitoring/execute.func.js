var Y=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var re=Object.getOwnPropertyNames;var ne=Object.prototype.hasOwnProperty;var ae=(P,E)=>()=>(P&&(E=P(P=0)),E);var W=(P,E,H,O)=>{if(E&&typeof E=="object"||typeof E=="function")for(let p of re(E))!ne.call(P,p)&&p!==H&&Y(P,p,{get:()=>E[p],enumerable:!(O=se(E,p))||O.enumerable});return P},Q=(P,E,H)=>(W(P,E,"default"),H&&W(H,E,"default"));var ie=P=>W(Y({},"__esModule",{value:!0}),P);var G={};import*as Nt from"async_hooks";var Z=ae(()=>{Q(G,Nt)});import{__getNamedExports as oe}from"../../../../__next-on-pages-dist__/webpack/aa5c0a3237ae1fd635b2d0bab25b6e94.js";import{__getNamedExports as ce}from"../../../../__next-on-pages-dist__/webpack/ac7e0cd817c0f96ac6506045b651299a.js";import{__getNamedExports as ue}from"../../../../__next-on-pages-dist__/webpack/5c7c089f9b18fab21905bdbf6a451f6c.js";import{__getNamedExports as _e}from"../../../../__next-on-pages-dist__/webpack/fc1dd92f63cefab5577162dd844679df.js";import{__getNamedExports as le}from"../../../../__next-on-pages-dist__/manifest/537259e2ed205f5a7994cb4f05664668.js";var T=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/monitoring/execute"),V=oe(T,T,T),he=V.__chunk_6095,de=V.__chunk_3543,pe=V.__chunk_2641,f=ce(T,T,T),ge=f.__chunk_6195,me=f.__chunk_2067,fe=f.__chunk_9182,ke=f.__chunk_8983,xe=f.__chunk_5228,ye=f.__chunk_2296,Pe=f.__chunk_2594,$e=f.__chunk_6735,we=f.__chunk_8219,ve=f.__chunk_5577,be=f.__chunk_9254,Ee=f.__chunk_9206,Oe=f.__chunk_989,je=f.__chunk_1863,Ae=f.__chunk_3039,Te=f.__chunk_335,Se=f.__chunk_8042,Ne=f.__chunk_7765,Re=f.__chunk_6991,Ce=f.__chunk_8816,De=f.__chunk_6631,Ie=f.__chunk_4828,Me=f.__chunk_4834,Ke=f.__chunk_828,Fe=f.__chunk_5927,Ue=f.__chunk_8439,Le=f.__chunk_4363,Be=f.__chunk_2039,qe=f.__chunk_8264,ze=f.__chunk_1583,He=f.__chunk_7908,Ge=f.__chunk_8949,Je=f.__chunk_796,Xe=f.__chunk_1651,We=f.__chunk_5105,Qe=f.__chunk_9642,Ve=f.__chunk_5028,Ye=f.__chunk_9548,Ze=f.__chunk_6914,et=f.__chunk_7960,tt=f.__chunk_4337,st=f.__chunk_8819,B=ue(T,T,T),rt=B.__chunk_6006,nt=B.__chunk_9985,at=B.__chunk_4155,it=B.__chunk_9037,ot=B.__chunk_5737,ct=B.__chunk_4919,ut=B.__chunk_6855,_t=B.__chunk_3607,S=_e(T,T,T),lt=S.__chunk_1730,ht=S.__chunk_3818,dt=S.__chunk_7037,pt=S.__chunk_9573,gt=S.__chunk_7701,mt=S.__chunk_662,ft=S.__chunk_4101,kt=S.__chunk_6776,xt=S.__chunk_3665,yt=S.__chunk_7444,Pt=S.__chunk_4591,$t=S.__chunk_7983,wt=S.__chunk_581,vt=S.__chunk_2561,bt=S.__chunk_2988,Et=S.__chunk_6947,Ot=S.__chunk_5996,jt=S.__chunk_676,ee=le(T,T,T),At=ee.__NEXT_FONT_MANIFEST,Tt=ee.__REACT_LOADABLE_MANIFEST,Kt=((P,E,H)=>(E._ENTRIES={},P.__BUILD_MANIFEST={polyfillFiles:["static/chunks/polyfills-42372ed130431b0a.js"],devFiles:[],ampDevFiles:[],lowPriorityFiles:[],rootMainFiles:["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/fd9d1056-30de07f4a3c346ee.js","static/chunks/7466-8fdf295a7c02cf2e.js","static/chunks/main-app-8eaf6dc4ad0df15d.js"],pages:{"/_app":["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/framework-8e0e0f4a6b83a956.js","static/chunks/main-17007a384daea84e.js","static/chunks/pages/_app-3c9ca398d360b709.js"],"/_error":["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/framework-8e0e0f4a6b83a956.js","static/chunks/main-17007a384daea84e.js","static/chunks/pages/_error-cf5ca766ac8f493f.js"]},ampFirstPages:[]},P.__BUILD_MANIFEST.lowPriorityFiles=["/static/5vAXtrh2qjJDoCjPjRb93/_buildManifest.js",,"/static/5vAXtrh2qjJDoCjPjRb93/_ssgManifest.js"],P.__REACT_LOADABLE_MANIFEST=Tt,P.__NEXT_FONT_MANIFEST=At,P.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",(()=>{"use strict";var O={},p={};function c(i){var h=p[i];if(h!==void 0)return h.exports;var _=p[i]={exports:{}},d=!0;try{O[i].call(_.exports,_,_.exports,c),d=!1}finally{d&&delete p[i]}return _.exports}c.m=O,c.amdO={},(()=>{var i=[];c.O=(h,_,d,t)=>{if(_){t=t||0;for(var e=i.length;e>0&&i[e-1][2]>t;e--)i[e]=i[e-1];i[e]=[_,d,t];return}for(var n=1/0,e=0;e<i.length;e++){for(var[_,d,t]=i[e],a=!0,u=0;u<_.length;u++)n>=t&&Object.keys(c.O).every(D=>c.O[D](_[u]))?_.splice(u--,1):(a=!1,t<n&&(n=t));if(a){i.splice(e--,1);var m=d();m!==void 0&&(h=m)}}return h}})(),c.n=i=>{var h=i&&i.__esModule?()=>i.default:()=>i;return c.d(h,{a:h}),h},(()=>{var i,h=Object.getPrototypeOf?_=>Object.getPrototypeOf(_):_=>_.__proto__;c.t=function(_,d){if(1&d&&(_=this(_)),8&d||typeof _=="object"&&_&&(4&d&&_.__esModule||16&d&&typeof _.then=="function"))return _;var t=Object.create(null);c.r(t);var e={};i=i||[null,h({}),h([]),h(h)];for(var n=2&d&&_;typeof n=="object"&&!~i.indexOf(n);n=h(n))Object.getOwnPropertyNames(n).forEach(a=>e[a]=()=>_[a]);return e.default=()=>_,c.d(t,e),t}})(),c.d=(i,h)=>{for(var _ in h)c.o(h,_)&&!c.o(i,_)&&Object.defineProperty(i,_,{enumerable:!0,get:h[_]})},c.e=()=>Promise.resolve(),c.g=function(){if(typeof E=="object")return E;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),c.o=(i,h)=>Object.prototype.hasOwnProperty.call(i,h),c.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},(()=>{var i={5993:0};c.O.j=d=>i[d]===0;var h=(d,t)=>{var e,n,[a,u,m]=t,y=0;if(a.some(v=>i[v]!==0)){for(e in u)c.o(u,e)&&(c.m[e]=u[e]);if(m)var b=m(c)}for(d&&d(t);y<a.length;y++)n=a[y],c.o(i,n)&&i[n]&&i[n][0](),i[n]=0;return c.O(b)},_=P.webpackChunk_N_E=P.webpackChunk_N_E||[];_.forEach(h.bind(null,0)),_.push=h.bind(null,_.push.bind(_))})()})(),(P.webpackChunk_N_E=P.webpackChunk_N_E||[]).push([[2720],{8819:st,4337:tt,7960:et,6914:Ze,9548:Ye,5028:Ve,9642:Qe,5105:We,1651:Xe,796:Je,8949:Ge,7908:He,1583:ze,8264:qe,2039:Be,4363:Le,8439:Ue,5927:Fe,828:Ke,4834:Me,4828:Ie,6631:De,8816:Ce,6991:Re,7765:Ne,8042:Se,335:Te,3039:Ae,1863:je,989:Oe,9206:Ee,9254:be,5577:ve,8219:we,6735:$e,2594:Pe,2296:ye,5228:xe,8983:ke,9182:fe}]),(P.webpackChunk_N_E=P.webpackChunk_N_E||[]).push([[7883],{676:jt,5996:Ot,6947:Et,2988:bt,2561:vt,581:wt,7983:$t,4591:Pt,7444:yt,3665:xt,6776:kt,4101:ft,662:mt,7701:gt,9573:pt,7037:dt,3818:ht,1730:lt}]),(P.webpackChunk_N_E=P.webpackChunk_N_E||[]).push([[1377],{3607:_t,4953:function(O,p,c){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(p,"__esModule",{value:!0});let h=i(c(3607)),_=i(c(6855));class d{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=h.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let a=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var m,y,b;let v=null,A=null,D=null,C=u.status,N=u.statusText;if(u.ok){if(this.method!=="HEAD"){let L=await u.text();L===""||(A=this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?L:JSON.parse(L))}let F=(m=this.headers.Prefer)===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),I=(y=u.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");F&&I&&I.length>1&&(D=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(A)&&(A.length>1?(v={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,D=null,C=406,N="Not Acceptable"):A=A.length===1?A[0]:null)}else{let F=await u.text();try{v=JSON.parse(F),Array.isArray(v)&&u.status===404&&(A=[],v=null,C=200,N="OK")}catch{u.status===404&&F===""?(C=204,N="No Content"):v={message:F}}if(v&&this.isMaybeSingle&&((b=v?.details)===null||b===void 0?void 0:b.includes("0 rows"))&&(v=null,C=200,N="OK"),v&&this.shouldThrowOnError)throw new _.default(v)}return{error:v,data:A,count:D,status:C,statusText:N}});return this.shouldThrowOnError||(a=a.catch(u=>{var m,y,b;return{error:{message:`${(m=u?.name)!==null&&m!==void 0?m:"FetchError"}: ${u?.message}`,details:`${(y=u?.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(b=u?.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),a.then(e,n)}returns(){return this}overrideTypes(){return this}}p.default=d},4708:function(O,p,c){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(p,"__esModule",{value:!0});let h=i(c(3449)),_=i(c(5245)),d=c(4919);class t{constructor(n,{headers:a={},schema:u,fetch:m}={}){this.url=n,this.headers=Object.assign(Object.assign({},d.DEFAULT_HEADERS),a),this.schemaName=u,this.fetch=m}from(n){let a=new URL(`${this.url}/${n}`);return new h.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new t(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,a={},{head:u=!1,get:m=!1,count:y}={}){let b,v,A=new URL(`${this.url}/rpc/${n}`);u||m?(b=u?"HEAD":"GET",Object.entries(a).filter(([C,N])=>N!==void 0).map(([C,N])=>[C,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([C,N])=>{A.searchParams.append(C,N)})):(b="POST",v=a);let D=Object.assign({},this.headers);return y&&(D.Prefer=`count=${y}`),new _.default({method:b,url:A,headers:D,schema:this.schemaName,body:v,fetch:this.fetch,allowEmpty:!1})}}p.default=t},6855:ut,5245:function(O,p,c){"use strict";var i=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(p,"__esModule",{value:!0});let h=i(c(1560));class _ extends h.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){let n=Array.from(new Set(e)).map(a=>typeof a=="string"&&RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:a}={}){let u="";a==="plain"?u="pl":a==="phrase"?u="ph":a==="websearch"&&(u="w");let m=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${u}fts${m}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){let a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}}p.default=_},3449:function(O,p,c){"use strict";var i=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(p,"__esModule",{value:!0});let h=i(c(5245));class _{constructor(t,{headers:e={},schema:n,fetch:a}){this.url=t,this.headers=e,this.schema=n,this.fetch=a}select(t,{head:e=!1,count:n}={}){let a=!1,u=(t??"*").split("").map(m=>/\s/.test(m)&&!a?"":(m==='"'&&(a=!a),m)).join("");return this.url.searchParams.set("select",u),n&&(this.headers.Prefer=`count=${n}`),new h.default({method:e?"HEAD":"GET",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:n=!0}={}){let a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),e&&a.push(`count=${e}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){let u=t.reduce((m,y)=>m.concat(Object.keys(y)),[]);if(u.length>0){let m=[...new Set(u)].map(y=>`"${y}"`);this.url.searchParams.set("columns",m.join(","))}}return new h.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:a,defaultToNull:u=!0}={}){let m=[`resolution=${n?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&m.push(this.headers.Prefer),a&&m.push(`count=${a}`),u||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(t)){let y=t.reduce((b,v)=>b.concat(Object.keys(v)),[]);if(y.length>0){let b=[...new Set(y)].map(v=>`"${v}"`);this.url.searchParams.set("columns",b.join(","))}}return new h.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){let n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),e&&n.push(`count=${e}`),this.headers.Prefer=n.join(","),new h.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let e=[];return t&&e.push(`count=${t}`),this.headers.Prefer&&e.unshift(this.headers.Prefer),this.headers.Prefer=e.join(","),new h.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}p.default=_},1560:function(O,p,c){"use strict";var i=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(p,"__esModule",{value:!0});let h=i(c(4953));class _ extends h.default{select(t){let e=!1,n=(t??"*").split("").map(a=>/\s/.test(a)&&!e?"":(a==='"'&&(e=!e),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:a,referencedTable:u=a}={}){let m=u?`${u}.order`:"order",y=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${y?`${y},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){let a=n===void 0?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:a=n}={}){let u=a===void 0?"offset":`${a}.offset`,m=a===void 0?"limit":`${a}.limit`;return this.url.searchParams.set(u,`${t}`),this.url.searchParams.set(m,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:a=!1,wal:u=!1,format:m="text"}={}){var y;let b=[t?"analyze":null,e?"verbose":null,n?"settings":null,a?"buffers":null,u?"wal":null].filter(Boolean).join("|"),v=(y=this.headers.Accept)!==null&&y!==void 0?y:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${m}; for="${v}"; options=${b};`,this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}p.default=_},4919:ct,7483:function(O,p,c){"use strict";var i=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(p,"__esModule",{value:!0}),p.PostgrestError=p.PostgrestBuilder=p.PostgrestTransformBuilder=p.PostgrestFilterBuilder=p.PostgrestQueryBuilder=p.PostgrestClient=void 0;let h=i(c(4708));p.PostgrestClient=h.default;let _=i(c(3449));p.PostgrestQueryBuilder=_.default;let d=i(c(5245));p.PostgrestFilterBuilder=d.default;let t=i(c(1560));p.PostgrestTransformBuilder=t.default;let e=i(c(4953));p.PostgrestBuilder=e.default;let n=i(c(6855));p.PostgrestError=n.default,p.default={PostgrestClient:h.default,PostgrestQueryBuilder:_.default,PostgrestFilterBuilder:d.default,PostgrestTransformBuilder:t.default,PostgrestBuilder:e.default,PostgrestError:n.default}},5737:ot,9037:it,4155:at,9985:nt}]),(P.webpackChunk_N_E=P.webpackChunk_N_E||[]).push([[3452],{2641:pe,3543:de}]),(P.webpackChunk_N_E=P.webpackChunk_N_E||[]).push([[6006],{6006:rt}]),(P.webpackChunk_N_E=P.webpackChunk_N_E||[]).push([[1582],{2067:me,6195:ge,4605:(O,p,c)=>{"use strict";c.r(p),c.d(p,{ComponentMod:()=>o,default:()=>w});var i={};c.r(i),c.d(i,{POST:()=>F,runtime:()=>m});var h={};c.r(h),c.d(h,{originalPathname:()=>X,patchFetch:()=>M,requestAsyncStorage:()=>L,routeModule:()=>I,serverHooks:()=>U,staticGenerationAsyncStorage:()=>J});var _=c(7983),d=c(2561),t=c(4828),e=c(6631),n=c(9985),a=c(6095);let u=new(c(6006))._,m="edge";async function y(r){let s=Date.now(),l={check_id:r.id,timestamp:new Date().toISOString(),is_successful:!1,response_time_ms:null,status_code:null,error_message:null,ssl_info:null};try{if(console.log(`Executing ${r.check_type} check: ${r.name} -> ${r.target_url}`),r.check_type==="http")return await b(r,l,s);if(r.check_type==="ping")return await v(r,l,s);if(r.check_type==="tcp")return await A(r,l,s);if(r.check_type==="ssl")return await D(r,l,s);l.error_message=`Unsupported check type: ${r.check_type}`,l.response_time_ms=Date.now()-s}catch(g){l.response_time_ms=Date.now()-s,l.is_successful=!1,g.name==="AbortError"?l.error_message=`Timeout after ${r.timeout||30} seconds`:g.code==="ENOTFOUND"||g.code==="ECONNREFUSED"?l.error_message=`DNS resolution failed or connection refused: ${g.message}`:l.error_message=g.message||"Unknown error",console.log(`Check failed: ${r.name} - ${l.error_message}`)}return l}async function b(r,s,l){let g=new AbortController,x=setTimeout(()=>g.abort(),1e3*(r.timeout||30)),$={method:r.http_method||"GET",signal:g.signal,redirect:r.follow_redirects?"follow":"manual",headers:{"User-Agent":"Alert24-Monitor/1.0",...r.http_headers}},k=await fetch(r.target_url,$);clearTimeout(x);let j=Date.now()-l;s.response_time_ms=j,s.status_code=k.status;let R=r.expected_status_codes||[200],K=R.includes(k.status),z=!0;if(r.keyword_match&&r.keyword_match.trim()){let q=await k.text();switch(r.keyword_match_type){case"exact":z=q===r.keyword_match;break;case"regex":try{z=new RegExp(r.keyword_match).test(q)}catch(te){z=!1,s.error_message=`Invalid regex: ${te.message}`}break;default:z=q.includes(r.keyword_match)}}if(r.ssl_check_enabled&&r.target_url.startsWith("https://")&&(s.ssl_info={valid:k.ok,expires_at:null,days_until_expiry:null}),s.is_successful=K&&z&&!0,!s.is_successful&&!s.error_message){let q=[];K||q.push(`Status ${k.status} not in expected codes ${R.join(",")}`),z||q.push("Keyword match failed"),s.error_message=q.join("; ")}return s}async function v(r,s,l){let g=r.target_url;r.target_url.includes("://")&&(g=new URL(r.target_url).hostname);let x=new AbortController,$=setTimeout(()=>x.abort(),1e3*(r.timeout||30));try{let k=await fetch(`http://${g}`,{method:"HEAD",signal:x.signal});clearTimeout($),s.response_time_ms=Date.now()-l,s.status_code=k.status,s.is_successful=!0,s.error_message=null}catch(k){clearTimeout($),s.response_time_ms=Date.now()-l,s.is_successful=!1,s.error_message=k.message}return s}async function A(r,s,l){let g=r.target_url.split(":");if(g.length!==2)return s.response_time_ms=Date.now()-l,s.is_successful=!1,s.error_message="TCP check requires hostname:port format",s;let x=g[0],$=parseInt(g[1]),k=new AbortController,j=setTimeout(()=>k.abort(),1e3*(r.timeout||30));try{let R=await fetch(`http://${x}:${$}`,{method:"HEAD",signal:k.signal});clearTimeout(j),s.response_time_ms=Date.now()-l,s.status_code=R.status,s.is_successful=!0,s.error_message=null}catch(R){clearTimeout(j),s.response_time_ms=Date.now()-l,s.is_successful=!1,s.error_message=`TCP connection to ${x}:${$} failed - ${R.message}`}return s}async function D(r,s,l){let g=r.target_url;g.startsWith("https://")||(g=`https://${r.target_url}`);let x=new AbortController,$=setTimeout(()=>x.abort(),1e3*(r.timeout||30));try{let k=await fetch(g,{method:"HEAD",signal:x.signal});clearTimeout($),s.response_time_ms=Date.now()-l,s.status_code=k.status,s.is_successful=k.status<500,s.ssl_info={valid:!0,expires_at:null,days_until_expiry:null},s.error_message=s.is_successful?null:`SSL check failed with status ${k.status}`}catch(k){clearTimeout($),s.response_time_ms=Date.now()-l,s.is_successful=!1,s.error_message=`SSL check failed - ${k.message}`}return s}async function C(r,s){try{await u.createCheckResult({monitoring_check_id:r,is_successful:s.is_successful,response_time_ms:s.response_time_ms,status_code:s.status_code,response_body:null,response_headers:null,error_message:s.error_message,ssl_info:s.ssl_info});let{data:l,error:g}=await u.client.from("monitoring_checks").select("*").eq("id",r).single();if(g||!l){console.error("Error fetching monitoring check:",g);return}let x={current_status:s.is_successful?"up":"down",last_check_at:new Date().toISOString(),updated_at:new Date().toISOString()};s.is_successful?(x.last_success_at=new Date().toISOString(),x.consecutive_successes=(l.consecutive_successes||0)+1,x.consecutive_failures=0,x.failure_message=null):(x.last_failure_at=new Date().toISOString(),x.consecutive_failures=(l.consecutive_failures||0)+1,x.consecutive_successes=0,x.failure_message=s.error_message);let $=l.check_interval_seconds||300,k=new Date(Date.now()+1e3*$);x.next_check_at=k.toISOString();let{error:j}=await u.client.from("monitoring_checks").update(x).eq("id",r);j?console.error("Error updating monitoring check:",j):console.log(`Updated check ${r}: ${s.is_successful?"SUCCESS":"FAILED"} (${s.response_time_ms}ms)`),l.linked_service_id&&await N(l,s)}catch(l){console.error("Error updating monitoring check status:",l)}}async function N(r,s){try{let l=r.linked_service_id;if(!l)return;let{data:g,error:x}=await u.client.from("services").select("*").eq("id",l).not("name","ilike","[[]MONITORING]%").single();if(x||!g){console.warn(`Linked service ${l} not found or not accessible`);return}let $="operational";if(s.is_successful||(s.status_code>=500?$="down":(s.status_code>=400||s.response_time_ms,$="degraded")),g.status!==$){let{error:k}=await u.client.from("services").update({status:$,updated_at:new Date().toISOString()}).eq("id",l);if(!k)return console.log(`\u{1F517} Updated linked service ${g.name}: ${g.status} \u2192 ${$}`),{serviceName:g.name,oldStatus:g.status,newStatus:$};console.error("Error updating linked service status:",k)}}catch(l){console.error("Error updating linked service status:",l)}}async function F(r){try{let s=await(0,a.I8)();if(!s||!s.user?.email)return n.xk.json({error:"Unauthorized"},{status:401});let{checkId:l,executeAll:g,organizationId:x}=await r.json(),$=await u.getUserByEmail(s.user.email);if(!$)return n.xk.json({error:"User not found"},{status:404});let k=[];if(l){let R=(await u.getMonitoringChecks($.id,{organization_id:x})).find(K=>K.id===l);R&&(k=[R])}else{if(!g||!x)return n.xk.json({error:"Either checkId or executeAll with organizationId required"},{status:400});k=await u.getMonitoringChecks($.id,{organization_id:x})}if(k.length===0)return n.xk.json({error:"No monitoring checks found"},{status:404});let j=[];for(let R of k){let K=await y(R);await C(R.id,K),j.push({checkId:R.id,checkName:R.name,success:K.is_successful,responseTime:K.response_time_ms,statusCode:K.status_code,error:K.error_message})}return n.xk.json({success:!0,message:`Executed ${j.length} monitoring checks`,results:j,executedAt:new Date().toISOString()})}catch(s){return console.error("Error executing monitoring checks:",s),n.xk.json({success:!1,error:"Failed to execute monitoring checks",details:s.message},{status:500})}}let I=new d.AppRouteRouteModule({definition:{kind:t.x.APP_ROUTE,page:"/api/monitoring/execute/route",pathname:"/api/monitoring/execute",filename:"route",bundlePath:"app/api/monitoring/execute/route"},resolvedPagePath:"/Users/sean/git/alert24-app/app/api/monitoring/execute/route.js",nextConfigOutput:"",userland:i}),{requestAsyncStorage:L,staticGenerationAsyncStorage:J,serverHooks:U}=I,X="/api/monitoring/execute/route";function M(){return(0,e.XH)({serverHooks:U,staticGenerationAsyncStorage:J})}let o=h,w=_.a.wrap(I)},6095:he},O=>{var p=i=>O(O.s=i);O.O(0,[2720,7883,1377,3452,6006],()=>p(4605));var c=O.O();(E._ENTRIES=typeof E._ENTRIES>"u"?{}:E._ENTRIES)["middleware_app/api/monitoring/execute/route"]=c}]),function(){let O={exports:{},loaded:!1};return function(c,i){var h=Object.create,_=Object.defineProperty,d=Object.getOwnPropertyDescriptor,t=Object.getOwnPropertyNames,e=Object.getPrototypeOf,n=Object.prototype.hasOwnProperty,a=o=>_(o,"__esModule",{value:!0}),u=(o,w)=>{a(o);for(var r in w)_(o,r,{get:w[r],enumerable:!0})},m=(o,w,r)=>{if(w&&typeof w=="object"||typeof w=="function")for(let s of t(w))!n.call(o,s)&&s!=="default"&&_(o,s,{get:()=>w[s],enumerable:!(r=d(w,s))||r.enumerable});return o},y=o=>m(a(_(o!=null?h(e(o)):{},"default",o&&o.__esModule&&"default"in o?{get:()=>o.default,enumerable:!0}:{value:o,enumerable:!0})),o);u(i,{default:()=>J});var b=y((Z(),ie(G))),v="@next/request-context",A=Symbol.for(v),D=Symbol.for("internal.storage");function C(){let o=E;if(!o[A]){let w=new b.AsyncLocalStorage,r={get:()=>w.getStore(),[D]:w};o[A]=r}return o[A]}var N=C();function F(o,w){return N[D].run(o,w)}function I(o){let w={};return o&&o.forEach((r,s)=>{w[s]=r,s.toLowerCase()==="set-cookie"&&(w[s]=L(r))}),w}function L(o){let w=[],r=0,s,l,g,x,$;function k(){for(;r<o.length&&/\s/.test(o.charAt(r));)r+=1;return r<o.length}function j(){return l=o.charAt(r),l!=="="&&l!==";"&&l!==","}for(;r<o.length;){for(s=r,$=!1;k();)if(l=o.charAt(r),l===","){for(g=r,r+=1,k(),x=r;r<o.length&&j();)r+=1;r<o.length&&o.charAt(r)==="="?($=!0,r=x,w.push(o.substring(s,g)),s=r):r=g+1}else r+=1;(!$||r>=o.length)&&w.push(o.substring(s,o.length))}return w}function J(o){let w=o.staticRoutes.map(s=>({regexp:new RegExp(s.namedRegex),page:s.page})),r=o.dynamicRoutes?.map(s=>({regexp:new RegExp(s.namedRegex),page:s.page}))||[];return async function(s,l){let g=new URL(s.url).pathname,x={};if(o.nextConfig?.basePath&&g.startsWith(o.nextConfig.basePath)&&(g=g.replace(o.nextConfig.basePath,"")||"/"),o.nextConfig?.i18n)for(let k of o.nextConfig.i18n.locales){let j=new RegExp(`^/${k}($|/)`,"i");if(g.match(j)){g=g.replace(j,"/")||"/";break}}for(let k of w)if(k.regexp.exec(g)){x.name=k.page;break}if(!x.name){let k=X(g);for(let j of r||[]){if(k&&!X(j.page))continue;let R=j.regexp.exec(g);if(R){x={name:j.page,params:R.groups};break}}}let $=await F({waitUntil:l.waitUntil},()=>E._ENTRIES[`middleware_${o.name}`].default.call({},{request:{url:s.url,method:s.method,headers:I(s.headers),ip:U(s.headers,M.Ip),geo:{city:U(s.headers,M.City,!0),country:U(s.headers,M.Country,!0),latitude:U(s.headers,M.Latitude),longitude:U(s.headers,M.Longitude),region:U(s.headers,M.Region,!0)},nextConfig:o.nextConfig,page:x,body:s.body}}));return $.waitUntil&&l.waitUntil($.waitUntil),$.response}}function U(o,w,r=!1){let s=o.get(w)||void 0;return r&&s?decodeURIComponent(s):s}function X(o){return o==="/api"||o.startsWith("/api/")}var M;(function(o){o.City="x-vercel-ip-city",o.Country="x-vercel-ip-country",o.Ip="x-real-ip",o.Latitude="x-vercel-ip-latitude",o.Longitude="x-vercel-ip-longitude",o.Region="x-vercel-ip-country-region"})(M||(M={}))}(O,O.exports),O.exports}.call({}).default({name:"app/api/monitoring/execute/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/accept-invitation",regex:"^/accept\\-invitation(?:/)?$",routeKeys:{},namedRegex:"^/accept\\-invitation(?:/)?$"},{page:"/debug-email",regex:"^/debug\\-email(?:/)?$",routeKeys:{},namedRegex:"^/debug\\-email(?:/)?$"},{page:"/debug-monitoring",regex:"^/debug\\-monitoring(?:/)?$",routeKeys:{},namedRegex:"^/debug\\-monitoring(?:/)?$"},{page:"/escalation-policies/new",regex:"^/escalation\\-policies/new(?:/)?$",routeKeys:{},namedRegex:"^/escalation\\-policies/new(?:/)?$"},{page:"/favicon.ico",regex:"^/favicon\\.ico(?:/)?$",routeKeys:{},namedRegex:"^/favicon\\.ico(?:/)?$"},{page:"/help",regex:"^/help(?:/)?$",routeKeys:{},namedRegex:"^/help(?:/)?$"},{page:"/incidents",regex:"^/incidents(?:/)?$",routeKeys:{},namedRegex:"^/incidents(?:/)?$"},{page:"/incidents/new",regex:"^/incidents/new(?:/)?$",routeKeys:{},namedRegex:"^/incidents/new(?:/)?$"},{page:"/monitoring",regex:"^/monitoring(?:/)?$",routeKeys:{},namedRegex:"^/monitoring(?:/)?$"},{page:"/monitoring/new",regex:"^/monitoring/new(?:/)?$",routeKeys:{},namedRegex:"^/monitoring/new(?:/)?$"},{page:"/on-call",regex:"^/on\\-call(?:/)?$",routeKeys:{},namedRegex:"^/on\\-call(?:/)?$"},{page:"/on-call/new",regex:"^/on\\-call/new(?:/)?$",routeKeys:{},namedRegex:"^/on\\-call/new(?:/)?$"},{page:"/organizations",regex:"^/organizations(?:/)?$",routeKeys:{},namedRegex:"^/organizations(?:/)?$"},{page:"/profile",regex:"^/profile(?:/)?$",routeKeys:{},namedRegex:"^/profile(?:/)?$"},{page:"/settings",regex:"^/settings(?:/)?$",routeKeys:{},namedRegex:"^/settings(?:/)?$"},{page:"/status-pages",regex:"^/status\\-pages(?:/)?$",routeKeys:{},namedRegex:"^/status\\-pages(?:/)?$"}],dynamicRoutes:[{page:"/api/auth/[...nextauth]",regex:"^/api/auth/(.+?)(?:/)?$",routeKeys:{nxtPnextauth:"nxtPnextauth"},namedRegex:"^/api/auth/(?<nxtPnextauth>.+?)(?:/)?$"},{page:"/api/incidents/[id]",regex:"^/api/incidents/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/incidents/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/incidents/[id]/updates",regex:"^/api/incidents/([^/]+?)/updates(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/incidents/(?<nxtPid>[^/]+?)/updates(?:/)?$"},{page:"/api/monitoring/[id]",regex:"^/api/monitoring/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/monitoring/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/on-call-schedules/[id]",regex:"^/api/on\\-call\\-schedules/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/on\\-call\\-schedules/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/organizations/[id]",regex:"^/api/organizations/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/organizations/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/organizations/[id]/invitations",regex:"^/api/organizations/([^/]+?)/invitations(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/organizations/(?<nxtPid>[^/]+?)/invitations(?:/)?$"},{page:"/api/services/[id]",regex:"^/api/services/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/services/[id]/monitoring",regex:"^/api/services/([^/]+?)/monitoring(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)/monitoring(?:/)?$"},{page:"/api/services/[id]/sla",regex:"^/api/services/([^/]+?)/sla(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)/sla(?:/)?$"},{page:"/api/status-pages/public/[slug]",regex:"^/api/status\\-pages/public/([^/]+?)(?:/)?$",routeKeys:{nxtPslug:"nxtPslug"},namedRegex:"^/api/status\\-pages/public/(?<nxtPslug>[^/]+?)(?:/)?$"},{page:"/api/status-pages/[id]",regex:"^/api/status\\-pages/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/status\\-pages/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/incidents/[id]",regex:"^/incidents/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/incidents/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/incidents/[id]/edit",regex:"^/incidents/([^/]+?)/edit(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/incidents/(?<nxtPid>[^/]+?)/edit(?:/)?$"},{page:"/monitoring/edit/[id]",regex:"^/monitoring/edit/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/monitoring/edit/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/on-call/[id]/edit",regex:"^/on\\-call/([^/]+?)/edit(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/on\\-call/(?<nxtPid>[^/]+?)/edit(?:/)?$"},{page:"/status/[slug]",regex:"^/status/([^/]+?)(?:/)?$",routeKeys:{nxtPslug:"nxtPslug"},namedRegex:"^/status/(?<nxtPslug>[^/]+?)(?:/)?$"}],nextConfig:{basePath:""}})))(T,T,T);export{Kt as default};
