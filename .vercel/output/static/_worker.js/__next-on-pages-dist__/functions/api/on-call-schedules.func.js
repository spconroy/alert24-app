var Y=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var ue=Object.getOwnPropertyNames;var ce=Object.prototype.hasOwnProperty;var le=(x,$)=>()=>(x&&($=x(x=0)),$);var H=(x,$,L,b)=>{if($&&typeof $=="object"||typeof $=="function")for(let d of ue($))!ce.call(x,d)&&d!==L&&Y(x,d,{get:()=>$[d],enumerable:!(b=oe($,d))||b.enumerable});return x},J=(x,$,L)=>(H(x,$,"default"),L&&H(L,$,"default"));var he=x=>H(Y({},"__esModule",{value:!0}),x);var B={};import*as Kt from"async_hooks";var Z=le(()=>{J(B,Kt)});import{__getNamedExports as _e}from"../../../__next-on-pages-dist__/webpack/aa5c0a3237ae1fd635b2d0bab25b6e94.js";import{__getNamedExports as de}from"../../../__next-on-pages-dist__/webpack/ac7e0cd817c0f96ac6506045b651299a.js";import{__getNamedExports as pe}from"../../../__next-on-pages-dist__/webpack/5c7c089f9b18fab21905bdbf6a451f6c.js";import{__getNamedExports as ge}from"../../../__next-on-pages-dist__/webpack/fc1dd92f63cefab5577162dd844679df.js";import{__getNamedExports as fe}from"../../../__next-on-pages-dist__/manifest/537259e2ed205f5a7994cb4f05664668.js";var O=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/on-call-schedules"),X=_e(O,O,O),me=X.__chunk_6095,ke=X.__chunk_3543,xe=X.__chunk_2641,g=de(O,O,O),ye=g.__chunk_6195,Pe=g.__chunk_2067,$e=g.__chunk_9182,be=g.__chunk_8983,ve=g.__chunk_5228,we=g.__chunk_2296,Ee=g.__chunk_2594,je=g.__chunk_6735,Oe=g.__chunk_8219,Ae=g.__chunk_5577,Re=g.__chunk_9254,Ne=g.__chunk_9206,Se=g.__chunk_989,Te=g.__chunk_1863,Ce=g.__chunk_3039,Me=g.__chunk_335,Ie=g.__chunk_8042,Ke=g.__chunk_7765,Ue=g.__chunk_6991,Fe=g.__chunk_8816,De=g.__chunk_6631,ze=g.__chunk_4828,Le=g.__chunk_4834,Be=g.__chunk_828,qe=g.__chunk_5927,Ge=g.__chunk_8439,He=g.__chunk_4363,Je=g.__chunk_2039,Xe=g.__chunk_8264,Qe=g.__chunk_1583,We=g.__chunk_7908,Ve=g.__chunk_8949,Ye=g.__chunk_796,Ze=g.__chunk_1651,et=g.__chunk_5105,tt=g.__chunk_9642,rt=g.__chunk_5028,nt=g.__chunk_9548,st=g.__chunk_6914,at=g.__chunk_7960,it=g.__chunk_4337,ot=g.__chunk_8819,z=pe(O,O,O),ut=z.__chunk_6006,ct=z.__chunk_9985,lt=z.__chunk_4155,ht=z.__chunk_9037,_t=z.__chunk_5737,dt=z.__chunk_4919,pt=z.__chunk_6855,gt=z.__chunk_3607,A=ge(O,O,O),ft=A.__chunk_1730,mt=A.__chunk_3818,kt=A.__chunk_7037,xt=A.__chunk_9573,yt=A.__chunk_7701,Pt=A.__chunk_662,$t=A.__chunk_4101,bt=A.__chunk_6776,vt=A.__chunk_3665,wt=A.__chunk_7444,Et=A.__chunk_4591,jt=A.__chunk_7983,Ot=A.__chunk_581,At=A.__chunk_2561,Rt=A.__chunk_2988,Nt=A.__chunk_6947,St=A.__chunk_5996,Tt=A.__chunk_676,ee=fe(O,O,O),Ct=ee.__NEXT_FONT_MANIFEST,Mt=ee.__REACT_LOADABLE_MANIFEST,Bt=((x,$,L)=>($._ENTRIES={},x.__BUILD_MANIFEST={polyfillFiles:["static/chunks/polyfills-42372ed130431b0a.js"],devFiles:[],ampDevFiles:[],lowPriorityFiles:[],rootMainFiles:["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/fd9d1056-30de07f4a3c346ee.js","static/chunks/7466-8fdf295a7c02cf2e.js","static/chunks/main-app-8eaf6dc4ad0df15d.js"],pages:{"/_app":["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/framework-8e0e0f4a6b83a956.js","static/chunks/main-17007a384daea84e.js","static/chunks/pages/_app-3c9ca398d360b709.js"],"/_error":["static/chunks/webpack-ba48b7ef278912ed.js","static/chunks/framework-8e0e0f4a6b83a956.js","static/chunks/main-17007a384daea84e.js","static/chunks/pages/_error-cf5ca766ac8f493f.js"]},ampFirstPages:[]},x.__BUILD_MANIFEST.lowPriorityFiles=["/static/5vAXtrh2qjJDoCjPjRb93/_buildManifest.js",,"/static/5vAXtrh2qjJDoCjPjRb93/_ssgManifest.js"],x.__REACT_LOADABLE_MANIFEST=Mt,x.__NEXT_FONT_MANIFEST=Ct,x.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",(()=>{"use strict";var b={},d={};function o(i){var l=d[i];if(l!==void 0)return l.exports;var u=d[i]={exports:{}},_=!0;try{b[i].call(u.exports,u,u.exports,o),_=!1}finally{_&&delete d[i]}return u.exports}o.m=b,o.amdO={},(()=>{var i=[];o.O=(l,u,_,t)=>{if(u){t=t||0;for(var e=i.length;e>0&&i[e-1][2]>t;e--)i[e]=i[e-1];i[e]=[u,_,t];return}for(var r=1/0,e=0;e<i.length;e++){for(var[u,_,t]=i[e],s=!0,a=0;a<u.length;a++)r>=t&&Object.keys(o.O).every(R=>o.O[R](u[a]))?u.splice(a--,1):(s=!1,t<r&&(r=t));if(s){i.splice(e--,1);var p=_();p!==void 0&&(l=p)}}return l}})(),o.n=i=>{var l=i&&i.__esModule?()=>i.default:()=>i;return o.d(l,{a:l}),l},(()=>{var i,l=Object.getPrototypeOf?u=>Object.getPrototypeOf(u):u=>u.__proto__;o.t=function(u,_){if(1&_&&(u=this(u)),8&_||typeof u=="object"&&u&&(4&_&&u.__esModule||16&_&&typeof u.then=="function"))return u;var t=Object.create(null);o.r(t);var e={};i=i||[null,l({}),l([]),l(l)];for(var r=2&_&&u;typeof r=="object"&&!~i.indexOf(r);r=l(r))Object.getOwnPropertyNames(r).forEach(s=>e[s]=()=>u[s]);return e.default=()=>u,o.d(t,e),t}})(),o.d=(i,l)=>{for(var u in l)o.o(l,u)&&!o.o(i,u)&&Object.defineProperty(i,u,{enumerable:!0,get:l[u]})},o.e=()=>Promise.resolve(),o.g=function(){if(typeof $=="object")return $;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),o.o=(i,l)=>Object.prototype.hasOwnProperty.call(i,l),o.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},(()=>{var i={5993:0};o.O.j=_=>i[_]===0;var l=(_,t)=>{var e,r,[s,a,p]=t,k=0;if(s.some(y=>i[y]!==0)){for(e in a)o.o(a,e)&&(o.m[e]=a[e]);if(p)var P=p(o)}for(_&&_(t);k<s.length;k++)r=s[k],o.o(i,r)&&i[r]&&i[r][0](),i[r]=0;return o.O(P)},u=x.webpackChunk_N_E=x.webpackChunk_N_E||[];u.forEach(l.bind(null,0)),u.push=l.bind(null,u.push.bind(u))})()})(),(x.webpackChunk_N_E=x.webpackChunk_N_E||[]).push([[2720],{8819:ot,4337:it,7960:at,6914:st,9548:nt,5028:rt,9642:tt,5105:et,1651:Ze,796:Ye,8949:Ve,7908:We,1583:Qe,8264:Xe,2039:Je,4363:He,8439:Ge,5927:qe,828:Be,4834:Le,4828:ze,6631:De,8816:Fe,6991:Ue,7765:Ke,8042:Ie,335:Me,3039:Ce,1863:Te,989:Se,9206:Ne,9254:Re,5577:Ae,8219:Oe,6735:je,2594:Ee,2296:we,5228:ve,8983:be,9182:$e}]),(x.webpackChunk_N_E=x.webpackChunk_N_E||[]).push([[7883],{676:Tt,5996:St,6947:Nt,2988:Rt,2561:At,581:Ot,7983:jt,4591:Et,7444:wt,3665:vt,6776:bt,4101:$t,662:Pt,7701:yt,9573:xt,7037:kt,3818:mt,1730:ft}]),(x.webpackChunk_N_E=x.webpackChunk_N_E||[]).push([[1377],{3607:gt,4953:function(b,d,o){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(d,"__esModule",{value:!0});let l=i(o(3607)),u=i(o(6855));class _{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=l.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let s=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var p,k,P;let y=null,E=null,R=null,N=a.status,j=a.statusText;if(a.ok){if(this.method!=="HEAD"){let F=await a.text();F===""||(E=this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?F:JSON.parse(F))}let I=(p=this.headers.Prefer)===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),U=(k=a.headers.get("content-range"))===null||k===void 0?void 0:k.split("/");I&&U&&U.length>1&&(R=parseInt(U[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(y={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,R=null,N=406,j="Not Acceptable"):E=E.length===1?E[0]:null)}else{let I=await a.text();try{y=JSON.parse(I),Array.isArray(y)&&a.status===404&&(E=[],y=null,N=200,j="OK")}catch{a.status===404&&I===""?(N=204,j="No Content"):y={message:I}}if(y&&this.isMaybeSingle&&((P=y?.details)===null||P===void 0?void 0:P.includes("0 rows"))&&(y=null,N=200,j="OK"),y&&this.shouldThrowOnError)throw new u.default(y)}return{error:y,data:E,count:R,status:N,statusText:j}});return this.shouldThrowOnError||(s=s.catch(a=>{var p,k,P;return{error:{message:`${(p=a?.name)!==null&&p!==void 0?p:"FetchError"}: ${a?.message}`,details:`${(k=a?.stack)!==null&&k!==void 0?k:""}`,hint:"",code:`${(P=a?.code)!==null&&P!==void 0?P:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}}d.default=_},4708:function(b,d,o){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(d,"__esModule",{value:!0});let l=i(o(3449)),u=i(o(5245)),_=o(4919);class t{constructor(r,{headers:s={},schema:a,fetch:p}={}){this.url=r,this.headers=Object.assign(Object.assign({},_.DEFAULT_HEADERS),s),this.schemaName=a,this.fetch=p}from(r){let s=new URL(`${this.url}/${r}`);return new l.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new t(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,s={},{head:a=!1,get:p=!1,count:k}={}){let P,y,E=new URL(`${this.url}/rpc/${r}`);a||p?(P=a?"HEAD":"GET",Object.entries(s).filter(([N,j])=>j!==void 0).map(([N,j])=>[N,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([N,j])=>{E.searchParams.append(N,j)})):(P="POST",y=s);let R=Object.assign({},this.headers);return k&&(R.Prefer=`count=${k}`),new u.default({method:P,url:E,headers:R,schema:this.schemaName,body:y,fetch:this.fetch,allowEmpty:!1})}}d.default=t},6855:pt,5245:function(b,d,o){"use strict";var i=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(d,"__esModule",{value:!0});let l=i(o(1560));class u extends l.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){let r=Array.from(new Set(e)).map(s=>typeof s=="string"&&RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");let p=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${p}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){let s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}}d.default=u},3449:function(b,d,o){"use strict";var i=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(d,"__esModule",{value:!0});let l=i(o(5245));class u{constructor(t,{headers:e={},schema:r,fetch:s}){this.url=t,this.headers=e,this.schema=r,this.fetch=s}select(t,{head:e=!1,count:r}={}){let s=!1,a=(t??"*").split("").map(p=>/\s/.test(p)&&!s?"":(p==='"'&&(s=!s),p)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new l.default({method:e?"HEAD":"GET",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:r=!0}={}){let s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),e&&s.push(`count=${e}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){let a=t.reduce((p,k)=>p.concat(Object.keys(k)),[]);if(a.length>0){let p=[...new Set(a)].map(k=>`"${k}"`);this.url.searchParams.set("columns",p.join(","))}}return new l.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:s,defaultToNull:a=!0}={}){let p=[`resolution=${r?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&p.push(this.headers.Prefer),s&&p.push(`count=${s}`),a||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(t)){let k=t.reduce((P,y)=>P.concat(Object.keys(y)),[]);if(k.length>0){let P=[...new Set(k)].map(y=>`"${y}"`);this.url.searchParams.set("columns",P.join(","))}}return new l.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){let r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),e&&r.push(`count=${e}`),this.headers.Prefer=r.join(","),new l.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let e=[];return t&&e.push(`count=${t}`),this.headers.Prefer&&e.unshift(this.headers.Prefer),this.headers.Prefer=e.join(","),new l.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}d.default=u},1560:function(b,d,o){"use strict";var i=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(d,"__esModule",{value:!0});let l=i(o(4953));class u extends l.default{select(t){let e=!1,r=(t??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:s,referencedTable:a=s}={}){let p=a?`${a}.order`:"order",k=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${k?`${k},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){let s=r===void 0?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:s=r}={}){let a=s===void 0?"offset":`${s}.offset`,p=s===void 0?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(p,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:s=!1,wal:a=!1,format:p="text"}={}){var k;let P=[t?"analyze":null,e?"verbose":null,r?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),y=(k=this.headers.Accept)!==null&&k!==void 0?k:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${p}; for="${y}"; options=${P};`,this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}d.default=u},4919:dt,7483:function(b,d,o){"use strict";var i=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(d,"__esModule",{value:!0}),d.PostgrestError=d.PostgrestBuilder=d.PostgrestTransformBuilder=d.PostgrestFilterBuilder=d.PostgrestQueryBuilder=d.PostgrestClient=void 0;let l=i(o(4708));d.PostgrestClient=l.default;let u=i(o(3449));d.PostgrestQueryBuilder=u.default;let _=i(o(5245));d.PostgrestFilterBuilder=_.default;let t=i(o(1560));d.PostgrestTransformBuilder=t.default;let e=i(o(4953));d.PostgrestBuilder=e.default;let r=i(o(6855));d.PostgrestError=r.default,d.default={PostgrestClient:l.default,PostgrestQueryBuilder:u.default,PostgrestFilterBuilder:_.default,PostgrestTransformBuilder:t.default,PostgrestBuilder:e.default,PostgrestError:r.default}},5737:_t,9037:ht,4155:lt,9985:ct}]),(x.webpackChunk_N_E=x.webpackChunk_N_E||[]).push([[3452],{2641:xe,3543:ke}]),(x.webpackChunk_N_E=x.webpackChunk_N_E||[]).push([[6006],{6006:ut}]),(x.webpackChunk_N_E=x.webpackChunk_N_E||[]).push([[5764],{2067:Pe,6195:ye,8260:(b,d,o)=>{"use strict";o.r(d),o.d(d,{ComponentMod:()=>G,default:()=>D});var i={};o.r(i),o.d(i,{DELETE:()=>E,GET:()=>k,POST:()=>P,PUT:()=>y,runtime:()=>p});var l={};o.r(l),o.d(l,{originalPathname:()=>U,patchFetch:()=>F,requestAsyncStorage:()=>N,routeModule:()=>R,serverHooks:()=>I,staticGenerationAsyncStorage:()=>j});var u=o(7983),_=o(2561),t=o(4828),e=o(6631),r=o(9985),s=o(6095);let a=new(o(6006))._,p="edge";async function k(C){try{let m=await(0,s.I8)();if(!m||!m.user?.email)return r.xk.json({error:"Unauthorized"},{status:401});let{searchParams:n}=new URL(C.url),f=n.get("organization_id");n.get("start_date"),n.get("end_date");let h=n.get("active_only")==="true",c=await a.getUserByEmail(m.user.email);if(!c)return r.xk.json({error:"User not found"},{status:404});let v=(await a.getOnCallSchedules(c.id,{organization_id:f,active_only:h})).map(w=>({...w,organization_name:w.organizations?.name}));return r.xk.json({success:!0,on_call_schedules:v,count:v.length})}catch(m){return console.error("Error fetching on-call schedules:",m),r.xk.json({success:!1,error:"Failed to fetch on-call schedules",details:m.message},{status:500})}}async function P(C){try{let m=await(0,s.I8)();if(!m||!m.user?.email)return r.xk.json({error:"Unauthorized"},{status:401});let{name:n,description:f="",organization_id:h,rotation_config:c={},rotation_type:v,rotation_interval_hours:w,rotation_day:M,rotation_time:S,participants:T=[],start_date:K,end_date:q,is_active:te=!0,timezone:re="UTC"}=await C.json();if(!n||!h)return r.xk.json({error:"Name and organization_id are required"},{status:400});if(!T||T.length===0)return r.xk.json({error:"At least one participant is required"},{status:400});let Q=await a.getUserByEmail(m.user.email);if(!Q)return r.xk.json({error:"User not found"},{status:404});let W=await a.getOrganizationMember(h,Q.id);if(!W||!["owner","admin"].includes(W.role))return r.xk.json({error:"Access denied - only owners and admins can create on-call schedules"},{status:403});let ne=v?{type:v,duration_hours:w||168,start_time:S?`${S.hour.toString().padStart(2,"0")}:${S.minute.toString().padStart(2,"0")}`:"09:00",handoff_time:S?`${S.hour.toString().padStart(2,"0")}:${S.minute.toString().padStart(2,"0")}`:"09:00",rotation_day:M,schedule_start:K,schedule_end:q}:c,se=T.map((V,ie)=>({user_id:V.id||V,order:ie+1})),ae=await a.createOnCallSchedule({name:n,description:f,organization_id:h,rotation_config:ne,members:se,is_active:te,timezone:re});return r.xk.json({success:!0,on_call_schedule:ae,message:"On-call schedule created successfully"},{status:201})}catch(m){return console.error("Error creating on-call schedule:",m),r.xk.json({success:!1,error:"Failed to create on-call schedule",details:m.message},{status:500})}}async function y(C){try{let m=await(0,s.I8)();if(!m||!m.user?.email)return r.xk.json({error:"Unauthorized"},{status:401});let{searchParams:n}=new URL(C.url),f=n.get("id");if(!f)return r.xk.json({error:"On-call schedule ID is required"},{status:400});let h=await C.json(),c=await a.getUserByEmail(m.user.email);if(!c)return r.xk.json({error:"User not found"},{status:404});let v=await a.getOnCallScheduleById(f,c.id);if(!v)return r.xk.json({error:"On-call schedule not found or access denied"},{status:404});let w=await a.getOrganizationMember(v.organization_id,c.id);if(!w||!["owner","admin"].includes(w.role))return r.xk.json({error:"Access denied - only owners and admins can update on-call schedules"},{status:403});let M=await a.updateOnCallSchedule(f,{...h,updated_at:new Date().toISOString()});return r.xk.json({success:!0,on_call_schedule:M,message:"On-call schedule updated successfully"})}catch(m){return console.error("Error updating on-call schedule:",m),r.xk.json({success:!1,error:"Failed to update on-call schedule",details:m.message},{status:500})}}async function E(C){try{let m=await(0,s.I8)();if(!m||!m.user?.email)return r.xk.json({error:"Unauthorized"},{status:401});let{searchParams:n}=new URL(C.url),f=n.get("id");if(!f)return r.xk.json({error:"On-call schedule ID is required"},{status:400});let h=await a.getUserByEmail(m.user.email);if(!h)return r.xk.json({error:"User not found"},{status:404});let c=await a.getOnCallScheduleById(f,h.id);if(!c)return r.xk.json({error:"On-call schedule not found or access denied"},{status:404});let v=await a.getOrganizationMember(c.organization_id,h.id);return!v||!["owner","admin"].includes(v.role)?r.xk.json({error:"Access denied - only owners and admins can delete on-call schedules"},{status:403}):(await a.deleteOnCallSchedule(f),r.xk.json({success:!0,message:"On-call schedule deleted successfully"}))}catch(m){return console.error("Error deleting on-call schedule:",m),r.xk.json({success:!1,error:"Failed to delete on-call schedule",details:m.message},{status:500})}}let R=new _.AppRouteRouteModule({definition:{kind:t.x.APP_ROUTE,page:"/api/on-call-schedules/route",pathname:"/api/on-call-schedules",filename:"route",bundlePath:"app/api/on-call-schedules/route"},resolvedPagePath:"/Users/sean/git/alert24-app/app/api/on-call-schedules/route.js",nextConfigOutput:"",userland:i}),{requestAsyncStorage:N,staticGenerationAsyncStorage:j,serverHooks:I}=R,U="/api/on-call-schedules/route";function F(){return(0,e.XH)({serverHooks:I,staticGenerationAsyncStorage:j})}let G=l,D=u.a.wrap(R)},6095:me},b=>{var d=i=>b(b.s=i);b.O(0,[2720,7883,1377,3452,6006],()=>d(8260));var o=b.O();($._ENTRIES=typeof $._ENTRIES>"u"?{}:$._ENTRIES)["middleware_app/api/on-call-schedules/route"]=o}]),function(){let b={exports:{},loaded:!1};return function(o,i){var l=Object.create,u=Object.defineProperty,_=Object.getOwnPropertyDescriptor,t=Object.getOwnPropertyNames,e=Object.getPrototypeOf,r=Object.prototype.hasOwnProperty,s=n=>u(n,"__esModule",{value:!0}),a=(n,f)=>{s(n);for(var h in f)u(n,h,{get:f[h],enumerable:!0})},p=(n,f,h)=>{if(f&&typeof f=="object"||typeof f=="function")for(let c of t(f))!r.call(n,c)&&c!=="default"&&u(n,c,{get:()=>f[c],enumerable:!(h=_(f,c))||h.enumerable});return n},k=n=>p(s(u(n!=null?l(e(n)):{},"default",n&&n.__esModule&&"default"in n?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n);a(i,{default:()=>G});var P=k((Z(),he(B))),y="@next/request-context",E=Symbol.for(y),R=Symbol.for("internal.storage");function N(){let n=$;if(!n[E]){let f=new P.AsyncLocalStorage,h={get:()=>f.getStore(),[R]:f};n[E]=h}return n[E]}var j=N();function I(n,f){return j[R].run(n,f)}function U(n){let f={};return n&&n.forEach((h,c)=>{f[c]=h,c.toLowerCase()==="set-cookie"&&(f[c]=F(h))}),f}function F(n){let f=[],h=0,c,v,w,M,S;function T(){for(;h<n.length&&/\s/.test(n.charAt(h));)h+=1;return h<n.length}function K(){return v=n.charAt(h),v!=="="&&v!==";"&&v!==","}for(;h<n.length;){for(c=h,S=!1;T();)if(v=n.charAt(h),v===","){for(w=h,h+=1,T(),M=h;h<n.length&&K();)h+=1;h<n.length&&n.charAt(h)==="="?(S=!0,h=M,f.push(n.substring(c,w)),c=h):h=w+1}else h+=1;(!S||h>=n.length)&&f.push(n.substring(c,n.length))}return f}function G(n){let f=n.staticRoutes.map(c=>({regexp:new RegExp(c.namedRegex),page:c.page})),h=n.dynamicRoutes?.map(c=>({regexp:new RegExp(c.namedRegex),page:c.page}))||[];return async function(c,v){let w=new URL(c.url).pathname,M={};if(n.nextConfig?.basePath&&w.startsWith(n.nextConfig.basePath)&&(w=w.replace(n.nextConfig.basePath,"")||"/"),n.nextConfig?.i18n)for(let T of n.nextConfig.i18n.locales){let K=new RegExp(`^/${T}($|/)`,"i");if(w.match(K)){w=w.replace(K,"/")||"/";break}}for(let T of f)if(T.regexp.exec(w)){M.name=T.page;break}if(!M.name){let T=C(w);for(let K of h||[]){if(T&&!C(K.page))continue;let q=K.regexp.exec(w);if(q){M={name:K.page,params:q.groups};break}}}let S=await I({waitUntil:v.waitUntil},()=>$._ENTRIES[`middleware_${n.name}`].default.call({},{request:{url:c.url,method:c.method,headers:U(c.headers),ip:D(c.headers,m.Ip),geo:{city:D(c.headers,m.City,!0),country:D(c.headers,m.Country,!0),latitude:D(c.headers,m.Latitude),longitude:D(c.headers,m.Longitude),region:D(c.headers,m.Region,!0)},nextConfig:n.nextConfig,page:M,body:c.body}}));return S.waitUntil&&v.waitUntil(S.waitUntil),S.response}}function D(n,f,h=!1){let c=n.get(f)||void 0;return h&&c?decodeURIComponent(c):c}function C(n){return n==="/api"||n.startsWith("/api/")}var m;(function(n){n.City="x-vercel-ip-city",n.Country="x-vercel-ip-country",n.Ip="x-real-ip",n.Latitude="x-vercel-ip-latitude",n.Longitude="x-vercel-ip-longitude",n.Region="x-vercel-ip-country-region"})(m||(m={}))}(b,b.exports),b.exports}.call({}).default({name:"app/api/on-call-schedules/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/accept-invitation",regex:"^/accept\\-invitation(?:/)?$",routeKeys:{},namedRegex:"^/accept\\-invitation(?:/)?$"},{page:"/debug-email",regex:"^/debug\\-email(?:/)?$",routeKeys:{},namedRegex:"^/debug\\-email(?:/)?$"},{page:"/debug-monitoring",regex:"^/debug\\-monitoring(?:/)?$",routeKeys:{},namedRegex:"^/debug\\-monitoring(?:/)?$"},{page:"/escalation-policies/new",regex:"^/escalation\\-policies/new(?:/)?$",routeKeys:{},namedRegex:"^/escalation\\-policies/new(?:/)?$"},{page:"/favicon.ico",regex:"^/favicon\\.ico(?:/)?$",routeKeys:{},namedRegex:"^/favicon\\.ico(?:/)?$"},{page:"/help",regex:"^/help(?:/)?$",routeKeys:{},namedRegex:"^/help(?:/)?$"},{page:"/incidents",regex:"^/incidents(?:/)?$",routeKeys:{},namedRegex:"^/incidents(?:/)?$"},{page:"/incidents/new",regex:"^/incidents/new(?:/)?$",routeKeys:{},namedRegex:"^/incidents/new(?:/)?$"},{page:"/monitoring",regex:"^/monitoring(?:/)?$",routeKeys:{},namedRegex:"^/monitoring(?:/)?$"},{page:"/monitoring/new",regex:"^/monitoring/new(?:/)?$",routeKeys:{},namedRegex:"^/monitoring/new(?:/)?$"},{page:"/on-call",regex:"^/on\\-call(?:/)?$",routeKeys:{},namedRegex:"^/on\\-call(?:/)?$"},{page:"/on-call/new",regex:"^/on\\-call/new(?:/)?$",routeKeys:{},namedRegex:"^/on\\-call/new(?:/)?$"},{page:"/organizations",regex:"^/organizations(?:/)?$",routeKeys:{},namedRegex:"^/organizations(?:/)?$"},{page:"/profile",regex:"^/profile(?:/)?$",routeKeys:{},namedRegex:"^/profile(?:/)?$"},{page:"/settings",regex:"^/settings(?:/)?$",routeKeys:{},namedRegex:"^/settings(?:/)?$"},{page:"/status-pages",regex:"^/status\\-pages(?:/)?$",routeKeys:{},namedRegex:"^/status\\-pages(?:/)?$"}],dynamicRoutes:[{page:"/api/auth/[...nextauth]",regex:"^/api/auth/(.+?)(?:/)?$",routeKeys:{nxtPnextauth:"nxtPnextauth"},namedRegex:"^/api/auth/(?<nxtPnextauth>.+?)(?:/)?$"},{page:"/api/incidents/[id]",regex:"^/api/incidents/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/incidents/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/incidents/[id]/updates",regex:"^/api/incidents/([^/]+?)/updates(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/incidents/(?<nxtPid>[^/]+?)/updates(?:/)?$"},{page:"/api/monitoring/[id]",regex:"^/api/monitoring/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/monitoring/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/on-call-schedules/[id]",regex:"^/api/on\\-call\\-schedules/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/on\\-call\\-schedules/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/organizations/[id]",regex:"^/api/organizations/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/organizations/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/organizations/[id]/invitations",regex:"^/api/organizations/([^/]+?)/invitations(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/organizations/(?<nxtPid>[^/]+?)/invitations(?:/)?$"},{page:"/api/services/[id]",regex:"^/api/services/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/services/[id]/monitoring",regex:"^/api/services/([^/]+?)/monitoring(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)/monitoring(?:/)?$"},{page:"/api/services/[id]/sla",regex:"^/api/services/([^/]+?)/sla(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/services/(?<nxtPid>[^/]+?)/sla(?:/)?$"},{page:"/api/status-pages/public/[slug]",regex:"^/api/status\\-pages/public/([^/]+?)(?:/)?$",routeKeys:{nxtPslug:"nxtPslug"},namedRegex:"^/api/status\\-pages/public/(?<nxtPslug>[^/]+?)(?:/)?$"},{page:"/api/status-pages/[id]",regex:"^/api/status\\-pages/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/status\\-pages/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/incidents/[id]",regex:"^/incidents/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/incidents/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/incidents/[id]/edit",regex:"^/incidents/([^/]+?)/edit(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/incidents/(?<nxtPid>[^/]+?)/edit(?:/)?$"},{page:"/monitoring/edit/[id]",regex:"^/monitoring/edit/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/monitoring/edit/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/on-call/[id]/edit",regex:"^/on\\-call/([^/]+?)/edit(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/on\\-call/(?<nxtPid>[^/]+?)/edit(?:/)?$"},{page:"/status/[slug]",regex:"^/status/([^/]+?)(?:/)?$",routeKeys:{nxtPslug:"nxtPslug"},namedRegex:"^/status/(?<nxtPslug>[^/]+?)(?:/)?$"}],nextConfig:{basePath:""}})))(O,O,O);export{Bt as default};
